{"version":3,"file":"js/app.5dd0bf0e.js","mappings":"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OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,GAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,GAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,QAAU,QAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,QAAU,SAC1yEE,EAAIjB,EAAOe,EAAe,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,GAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,GAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,GAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,QAAU,QAAU,QAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,QAAU,QAAU,QAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UACx1EjB,EAAIE,EAAOe,EAAe,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,OAAS,OAAS,OAAS,OAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAA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","sources":["webpack://@cosmicds/tempo-lite/./src/components/LocationSearch.vue?637f","webpack://@cosmicds/tempo-lite/./src/components/LocationSearch.vue","webpack://@cosmicds/tempo-lite/./src/mapbox.ts","webpack://@cosmicds/tempo-lite/./src/components/LocationSearch.vue?99f6","webpack://@cosmicds/tempo-lite/./src/revised_cmap.ts","webpack://@cosmicds/tempo-lite/./src/PreloadImages.ts","webpack://@cosmicds/tempo-lite/./src/changes.ts","webpack://@cosmicds/tempo-lite/./src/composables/useLeafletMap.ts","webpack://@cosmicds/tempo-lite/./src/composables/useLeafletImageOverlay.ts","webpack://@cosmicds/tempo-lite/./src/composables/useBounds.ts","webpack://@cosmicds/tempo-lite/./src/composables/useLeafletBounds.ts","webpack://@cosmicds/tempo-lite/./src/composables/useUniqueTimeSelection.ts","webpack://@cosmicds/tempo-lite/./src/interestingEvents.ts","webpack://@cosmicds/tempo-lite/./src/timestamps.ts","webpack://@cosmicds/tempo-lite/./src/TempoLite.vue?f66b","webpack://@cosmicds/tempo-lite/./src/TempoLite.vue","webpack://@cosmicds/tempo-lite/./src/TempoLite.vue?8f1a","webpack://@cosmicds/tempo-lite/./src/components/ColorBar.vue?94c2","webpack://@cosmicds/tempo-lite/./src/components/ColorBar.vue","webpack://@cosmicds/tempo-lite/./src/components/ColorBar.vue?632f","webpack://@cosmicds/tempo-lite/./src/components/ColorBarHorizontal.vue?321b","webpack://@cosmicds/tempo-lite/./src/components/ColorBarHorizontal.vue","webpack://@cosmicds/tempo-lite/./src/components/ColorBarHorizontal.vue?6f32","webpack://@cosmicds/tempo-lite/./src/components/InfoButton.vue?e04c","webpack://@cosmicds/tempo-lite/./src/components/InfoButton.vue","webpack://@cosmicds/tempo-lite/./src/components/InfoButton.vue?de13","webpack://@cosmicds/tempo-lite/./plugins/vuetify.ts","webpack://@cosmicds/tempo-lite/./src/components/SnackbarAlert.vue?dde0","webpack://@cosmicds/tempo-lite/./src/components/SnackbarAlert.vue","webpack://@cosmicds/tempo-lite/./src/components/SnackbarAlert.vue?3716","webpack://@cosmicds/tempo-lite/./src/components/ShareButton.vue?f44e","webpack://@cosmicds/tempo-lite/./src/components/ShareButton.vue","webpack://@cosmicds/tempo-lite/./src/components/ShareButton.vue?a5b6","webpack://@cosmicds/tempo-lite/./src/components/CDSDialog.vue?e88e","webpack://@cosmicds/tempo-lite/./src/components/CDSDialog.vue","webpack://@cosmicds/tempo-lite/./src/components/CDSDialog.vue?51b6","webpack://@cosmicds/tempo-lite/./src/components/MarqeeAlert.vue?b891","webpack://@cosmicds/tempo-lite/./src/components/MarqeeAlert.vue","webpack://@cosmicds/tempo-lite/./src/components/MarqeeAlert.vue?852b","webpack://@cosmicds/tempo-lite/./src/main.ts","webpack://@cosmicds/tempo-lite/webpack/bootstrap","webpack://@cosmicds/tempo-lite/webpack/runtime/chunk loaded","webpack://@cosmicds/tempo-lite/webpack/runtime/compat get default export","webpack://@cosmicds/tempo-lite/webpack/runtime/define property getters","webpack://@cosmicds/tempo-lite/webpack/runtime/global","webpack://@cosmicds/tempo-lite/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/tempo-lite/webpack/runtime/make namespace object","webpack://@cosmicds/tempo-lite/webpack/runtime/publicPath","webpack://@cosmicds/tempo-lite/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/tempo-lite/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, vShow as _vShow, withDirectives as _withDirectives, withKeys as _withKeys, normalizeClass as _normalizeClass, withCtx as _withCtx, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"forward-geocoding-container\",\n    style: _normalizeStyle(_ctx.cssStyles)\n  }, [\n    _withDirectives(_createVNode(_component_v_combobox, {\n      class: _normalizeClass(['forward-geocoding-input', _ctx.locationJustUpdated ? 'geocode-success' : '', _ctx.small ? 'forward-geocoding-input-small' : '']),\n      modelValue: _ctx.searchText,\n      \"onUpdate:modelValue\": [\n        _cache[0] || (_cache[0] = ($event: any) => ((_ctx.searchText) = $event)),\n        _ctx.setLocationFromSearchFeature\n      ],\n      items: _ctx.searchResults ? _ctx.searchResults.features : [],\n      \"item-title\": _ctx.textForMapboxFeature,\n      \"bg-color\": _ctx.bgColor,\n      label: \"Enter city or zip\",\n      density: _ctx.small ? 'compact' : 'default',\n      \"hide-details\": \"\",\n      solo: \"\",\n      color: _ctx.accentColor,\n      onInput: () => {},\n      onKeydown: [\n        _withKeys(_ctx.performForwardGeocodingSearch, [\"enter\"]),\n        _cache[1] || (_cache[1] = _withKeys(($event: any) => (_ctx.searchResults = null), [\"esc\"]))\n      ],\n      \"error-messages\": _ctx.searchErrorMessage,\n      \"onClick:append\": _ctx.focusCombobox,\n      \"onUpdate:focused\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.onFocusChange($event))),\n      ref: \"searchInput\",\n      menu: _ctx.menuOpen,\n      \"onUpdate:menu\": _cache[3] || (_cache[3] = ($event: any) => (_ctx.menuOpen = $event))\n    }, {\n      append: _withCtx(() => [\n        _createVNode(_component_font_awesome_icon, {\n          class: \"geocoding-search-icon\",\n          icon: \"magnifying-glass\",\n          size: _ctx.searchOpen ? 'xl' : _ctx.buttonSize,\n          color: \"gray\",\n          onClick: _ctx.toggleSearch\n        }, null, 8, [\"size\", \"onClick\"]),\n        _renderSlot(_ctx.$slots, \"append-icon\", { class: \"geocode-icon\" }),\n        _withDirectives(_createVNode(_component_font_awesome_icon, {\n          class: \"geocoding-close-icon\",\n          icon: \"circle-xmark\",\n          size: _ctx.searchOpen ? 'xl' : '1x',\n          color: \"gray\",\n          onClick: _ctx.closeSearch\n        }, null, 8, [\"size\", \"onClick\"]), [\n          [_vShow, _ctx.searchOpen && !_ctx.stayOpen]\n        ])\n      ]),\n      _: 3\n    }, 8, [\"class\", \"modelValue\", \"items\", \"item-title\", \"bg-color\", \"density\", \"color\", \"onUpdate:modelValue\", \"onKeydown\", \"error-messages\", \"onClick:append\", \"menu\"]), [\n      [_vShow, _ctx.searchOpen]\n    ]),\n    _withDirectives(_createVNode(_component_font_awesome_icon, {\n      class: \"geocoding-search-icon\",\n      icon: \"magnifying-glass\",\n      size: _ctx.searchOpen ? 'xl' : _ctx.buttonSize,\n      color: \"gray\",\n      onClick: _withModifiers(_ctx.toggleSearch, [\"prevent\"])\n    }, null, 8, [\"size\", \"onClick\"]), [\n      [_vShow, !_ctx.searchOpen && !_ctx.stayOpen]\n    ])\n  ], 4))\n}","<template>\n  <div class=\"forward-geocoding-container\" :style=\"cssStyles\">\n    <v-combobox\n      v-show=\"searchOpen\"\n      :class=\"['forward-geocoding-input', locationJustUpdated ? 'geocode-success' : '', small ? 'forward-geocoding-input-small' : '']\"\n      v-model=\"searchText\"\n      :items=\"searchResults ? searchResults.features : []\"\n      :item-title=\"textForMapboxFeature\"\n      :bg-color=\"bgColor\"\n      label=\"Enter city or zip\"\n      :density=\"small ? 'compact' : 'default'\"\n      hide-details\n      solo\n      :color=\"accentColor\"\n      @input=\"() => {}\"\n      @update:model-value=\"setLocationFromSearchFeature\"\n      @keydown.enter=\"performForwardGeocodingSearch\"\n      @keydown.esc=\"searchResults = null\"\n      :error-messages=\"searchErrorMessage\"\n      @click:append=\"focusCombobox\"\n      @update:focused=\"onFocusChange($event)\"\n      ref=\"searchInput\"\n      :menu=\"menuOpen\"\n      @update:menu=\"menuOpen = $event\"\n    >\n    <template v-slot:append>\n      <font-awesome-icon\n        class=\"geocoding-search-icon\"\n        icon=\"magnifying-glass\"\n        :size=\"searchOpen ? 'xl' : buttonSize\"\n        color=\"gray\"\n        @click=\"toggleSearch\"\n      ></font-awesome-icon>\n\n      <slot name=\"append-icon\" class=\"geocode-icon\"></slot>\n\n      <font-awesome-icon\n        class=\"geocoding-close-icon\"\n        v-show=\"searchOpen && !stayOpen\"\n        icon=\"circle-xmark\"\n        :size=\"searchOpen ? 'xl' : '1x'\"\n        color=\"gray\"\n        @click=\"closeSearch\"\n      ></font-awesome-icon>\n    </template>\n  </v-combobox>\n  <font-awesome-icon\n      v-show=\"!searchOpen && !stayOpen\"\n      class=\"geocoding-search-icon\"\n      icon=\"magnifying-glass\"\n      :size=\"searchOpen ? 'xl' : buttonSize\"\n      color=\"gray\"\n      @click.prevent=\"toggleSearch\"\n    ></font-awesome-icon>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport { MapBoxFeatureCollection, MapBoxFeature, textForMapboxFeature } from \"../mapbox\";\n\ntype SearchProvider = (searchText: string) => Promise<MapBoxFeatureCollection | null>;\n\nexport default defineComponent({\n  name: 'LocationSearch',\n\n  emits: ['update:modelValue', 'set-location', 'error', 'geolocate'],\n\n  props: {\n    searchProvider: {\n      type: Function as PropType<SearchProvider>,\n      default: () => {}\n    },\n    modelValue: {\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    stayOpen: {\n      type: Boolean,\n      default: false,\n    },\n    accentColor: {\n      type: String,\n      default: 'white',\n    },\n    small: {\n      type: Boolean,\n      default: false,\n    },\n    theme: {\n      type: String,\n      default: 'dark',\n    },\n    buttonSize: {\n      type: String,\n      default: '1x',\n    },\n    \n    bgColor: {\n      type: String,\n      default: 'white',\n    },\n    \n    persistSelected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  \n  data() {\n    return {\n      searchOpen: this.modelValue || this.stayOpen,\n      searchText: null as string | null,\n      searchResults: null as MapBoxFeatureCollection | null,\n      searchErrorMessage: null as string | null,\n      locationJustUpdated: false,\n      locationUpdatedText: 'Location updated',\n      comboFocused: false,\n      menuOpen: false,\n    };\n  },\n\n  computed: {\n    cssStyles() {\n      return {\n        '--accent-color': this.accentColor,\n        '--bg-color': this.bgColor,\n        '--fg-container-padding': this.searchOpen ? (this.small ? '0px 5px 0px 0px' : '5px 10px 12px 10px') : '0px',\n        '--border-radius': this.searchOpen ? '7px' : '20px',\n      };\n    },\n  },\n  \n  \n  \n\n  \n  methods: {\n    performForwardGeocodingSearch() {\n      console.log('performForwardGeocodingSearch', this.searchText);\n      if (this.searchText === null || this.searchText.length < 3) {\n        return;\n      }\n      this.searchProvider(this.searchText).then((info) => {\n        if (info !== null && info.features?.length === 1) {\n          this.setLocationFromSearchFeature(info.features[0]);\n        } else if (info !== null && info.features?.length == 0) {\n          this.searchErrorMessage = \"No matching places were found\";\n          console.log('No matching places were found');\n          this.$emit('error', this.searchErrorMessage);\n        } else {\n          this.searchResults = info;\n        }\n      });\n    },\n    \n    textForMapboxFeature(feature: MapBoxFeature) {\n      if (typeof feature === 'string') {\n        return;\n      }\n      return textForMapboxFeature(feature);\n    },\n    \n       \n    onFocusChange(focused: boolean) {\n      console.log('focus change', focused);\n      this.comboFocused = focused;\n      // if (!focused && this.searchResults === null) {\n      //   this.searchText = null;\n      // }\n    },\n    \n    blurCombobox() {\n      console.log('blurring');\n      const input = this.$refs.searchInput as HTMLInputElement;\n      console.log(input);\n      input.blur();\n    },\n    \n    focusCombobox() {\n      const input = this.$refs.searchInput as HTMLInputElement;\n      input.focus();\n    },\n    \n    setLocationFromSearchFeature(feature: MapBoxFeature | string) {\n      // if it's a string do nothing\n      if (typeof feature === 'string') {\n        return;\n      }\n      console.log('setting location');\n      if (feature === null) { return; }\n      const name = this.textForMapboxFeature(feature);\n      if (name !== undefined) {\n        this.locationUpdatedText = name;\n      } else {\n        this.locationUpdatedText = feature.place_name.split(',').slice(0, 2).join(', ');\n      }\n      \n      // blur (defocus) the v-combobox\n      this.blurCombobox();\n      this.timedJustUpdatedLocation();\n      this.clearSearchData();\n      this.$emit('set-location', [feature, this.locationUpdatedText]);\n    },\n\n    toggleSearch() {\n      console.log('toggleSearch', this.searchOpen, this.searchText);\n      if (this.searchOpen) {\n        this.performForwardGeocodingSearch();\n        // this.$nextTick(() => this.focusCombobox());\n        this.menuOpen = true;\n        this.focusCombobox();\n      } else {\n        this.searchOpen = true;\n      }\n    },\n\n    closeSearch() {\n      this.searchOpen = false;\n      this.clearSearchData();\n    },\n\n    clearSearchData() {\n      this.searchResults = null;\n      this.searchText = null;\n      this.searchErrorMessage = null;\n    },\n    \n    timedJustUpdatedLocation() {\n      this.locationJustUpdated = true;\n      setTimeout(() => {\n        this.locationJustUpdated = this.persistSelected;\n      }, 5000);\n    },\n  },\n  \n  watch: {\n    \n    modelValue(value: boolean) {\n      this.searchOpen = value;\n    },\n    \n    searchOpen(value: boolean) {\n      this.$emit('update:modelValue', value);\n    },\n    \n    searchText(text: string | null) {\n      if (this.searchErrorMessage) {\n        this.searchErrorMessage = null;\n      }\n      if (!text || text.length === 0) {\n        this.searchResults = null;\n      }\n    },\n  }\n  \n});\n\n</script>\n\n\n<style lang=\"less\">\n\n// https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\n.forward-geocoding-container {\n  --border-radius: 20px;\n  position: relative;\n  color: var(--accent-color);\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: var(--border-radius);\n  margin-left: 0.25rem;\n  margin-bottom: 0.25rem;\n  padding: var(--fg-container-padding);\n  backdrop-filter: blur(2px);\n\n  .v-field {\n    background-color: transparent !important;\n  }\n\n  // there are two separate labels, we want the 2nd one to be large. the first is the small floating label\n  .v-field > .v-field__field > .v-label.v-field-label:nth-child(2) {\n    font-size: 1.2rem;\n  }\n\n  // .v-input--horizontal .v-input__append {\n  //   margin-inline-start: 0;\n  // }\n  \n  .v-text-field {\n    min-width: 150px;\n  }\n  \n  .v-field--variant-filled.v-field--has-background .v-field__overlay {\n    border-top-right-radius: 0px;\n}\n\n  .forward-geocoding-input > .v-input__control > .v-field {\n    border-radius: var(--border-radius);\n  }\n  \n  .forward-geocoding-input.geocode-success label {\n    opacity: 1;\n  }\n  \n  .forward-geocoding-input-small label {\n    // .v-label sets default to 1rem\n    font-size: 0.8rem;\n  }\n\n  .forward-geocoding-input-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    gap: 10px;\n    align-items: center;\n  }\n  \n  .geocoding-search-icon {\n    padding-inline: calc(0.3 * var(--default-line-height));\n    padding-block: calc(0.4 * var(--default-line-height));\n  }\n\n  .geocoding-search-icon:hover, #geocoding-close-icon:hover {\n    cursor: pointer;\n  }\n\n}\n</style>\n","export interface MapBoxContextItem {\n  id: string;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  mapbox_id: string;\n  text: string;\n  wikidata: string;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  short_code?: string;\n}\n\n// The field names here come from MapBox\nexport interface MapBoxFeature {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  place_type: string[];\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  place_name: string;\n  text?: string;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  properties: { short_code: string; };\n  center: [number, number];\n  context: MapBoxContextItem[];\n}\n\nexport interface MapBoxFeatureCollection {\n  type: \"FeatureCollection\";\n  features: MapBoxFeature[];\n}\n\n// TODO: Add more options as we need them\n// See https://docs.mapbox.com/api/search/geocoding-v6/#forward-geocoding-with-search-text-input\nexport interface MapBoxForwardGeocodingOptions {\n  // For countries, use the ISO 3166-1 alpha-2 country codes:\n  // https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\n  countries?: string[];\n  types?: string[];\n  limit?: number;\n}\n\nconst RELEVANT_FEATURE_TYPES = [\"postcode\", \"place\", \"region\", \"country\"];\nconst NA_COUNTRIES = [\"United States\", \"Canada\", \"Mexico\"];\nconst NA_ABBREVIATIONS = [\"US-\", \"CA-\", \"MX-\"];\n\nexport function findBestFeature(collection: MapBoxFeatureCollection): MapBoxFeature | null {\n  const relevantFeatures = collection.features.filter(feature => RELEVANT_FEATURE_TYPES.some(type => feature.place_type.includes(type)));\n  const placeFeature = relevantFeatures.find(feature => feature.place_type.includes(\"place\")) ?? (relevantFeatures.find(feature => feature.place_type.includes(\"postcode\")) ?? undefined);\n  if (placeFeature !== undefined) {\n    return placeFeature;\n  }\n  const regionFeature = relevantFeatures.find(feature => feature.place_type.includes(\"region\"));\n  if (regionFeature !== undefined) {\n    return regionFeature;\n  }\n  const countryFeature = relevantFeatures.find(feature => feature.place_type.includes(\"country\"));\n  if (countryFeature !== undefined) {\n    return countryFeature;\n  }\n  return null;\n}\n\nexport function textForMapboxFeature(feature: MapBoxFeature): string {\n  const pieces: string[] = [];\n  if (feature.text) {\n    pieces.push(feature.text);\n  }\n  feature.context.forEach(item => {\n    const itemType = item.id.split(\".\")[0];\n    if (!RELEVANT_FEATURE_TYPES.includes(itemType)) {\n      return;\n    }\n    let text = null as string | null;\n    const shortCode = item.short_code;\n    if (itemType === \"region\" && shortCode != null) {\n      if (NA_ABBREVIATIONS.some(abbr => shortCode.startsWith(abbr))) {\n        text = shortCode.substring(3);\n      }\n    } else if (itemType === \"country\") {\n      const itemText = item.text;\n      if (!NA_COUNTRIES.includes(itemText)) {\n        text = itemText; \n      }\n    }\n    if (text !== null) {\n      pieces.push(text);\n    }\n  });\n  return pieces.join(\", \");\n}\n\nexport function textForMapboxResults(results: MapBoxFeatureCollection): string {\n  const feature = findBestFeature(results);\n  return feature !== null ? textForMapboxFeature(feature) : \"\";\n}\n\nexport async function textForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  const accessToken = process.env.VUE_APP_MAPBOX_ACCESS_TOKEN;\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${longitudeDeg},${latitudeDeg}.json?access_token=${accessToken}`;\n  return fetch(url)\n    .then(response => response.json())\n    .then((result: MapBoxFeatureCollection) => {\n      if (result.features.length === 0) {\n        const ns = latitudeDeg >= 0 ? 'N' : 'S';\n        const ew = longitudeDeg >= 0 ? 'E' : 'W';\n        const lat = Math.abs(latitudeDeg).toFixed(3);\n        const lon = Math.abs(longitudeDeg).toFixed(3);\n        return `${lat}° ${ns}, ${lon}° ${ew}`;\n      }\n      return textForMapboxResults(result);\n    });\n}\n\nexport async function geocodingInfoForSearch(searchText: string, options?: MapBoxForwardGeocodingOptions): Promise<MapBoxFeatureCollection> {\n  const accessToken = process.env.VUE_APP_MAPBOX_ACCESS_TOKEN;\n  const search = new URLSearchParams();\n  search.set(\"access_token\", accessToken ?? \"\");\n  const types = (options?.types ?? [\"place\", \"postcode\"]).join(\",\");\n  search.set(\"types\", types);\n  if (options?.countries) {\n    search.set(\"country\", options.countries.join(\",\"));\n  }\n  search.set(\"limit\", options?.limit?.toString() ?? \"5\");\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${searchText}.json?${search.toString()}`;\n  return fetch(url).then(response => response.json());\n}\n","import { render } from \"./LocationSearch.vue?vue&type=template&id=624ae7b9&ts=true\"\nimport script from \"./LocationSearch.vue?vue&type=script&lang=ts\"\nexport * from \"./LocationSearch.vue?vue&type=script&lang=ts\"\n\nimport \"./LocationSearch.vue?vue&type=style&index=0&id=624ae7b9&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","function lerp(a: number, b: number, t: number): number {\n  return a + (b - a) * t;\n}\n\n// linear spline\nfunction spline( t: number, ...values: number[]): number {\n  if (t <= 0) return values[0];\n  if (t >= 1) return values[values.length - 1];\n  const n = values.length - 1;\n  const i = Math.floor(t * n);\n  const u = t * n - i;\n  return lerp(values[i], values[i + 1], u);\n}\n\nfunction clamp(x: number, min: number, max: number): number {\n  return Math.min(Math.max(x, min), max);\n}\n\n\nexport function cbarNO2(cbar_min: number, cbar_max: number, cur_val: number): [number, number, number]\n{\n  const normalizedVal = clamp( (cur_val-cbar_min)/(cbar_max-cbar_min),0,1);\n  const r = spline(normalizedVal, 0.231373,0.227451,0.223529,0.215686,0.211765,0.211765,0.207843,0.207843,0.211765,0.211765,0.219608,0.227451,0.235294,0.247059,0.258824,0.270588,0.286275,0.298039,0.317647,0.329412,0.345098,0.364706,0.376471,0.396078,0.411765,0.427451,0.450980,0.466667,0.486275,0.501961,0.521569,0.541176,0.556863,0.580392,0.596078,0.615686,0.635294,0.650980,0.674510,0.690196,0.705882,0.725490,0.741176,0.760784,0.772549,0.788235,0.803922,0.819608,0.835294,0.847059,0.858824,0.874510,0.886275,0.898039,0.905882,0.917647,0.925490,0.933333,0.945098,0.949020,0.956863,0.964706,0.968627,0.972549,0.976471,0.980392,0.984314,0.988235,0.992157,0.992157,0.996078,0.996078,0.996078,1.00000,1.00000,1.00000,1.00000,1.00000,1.00000,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.992157,0.992157,0.992157,0.988235,0.988235,0.984314,0.980392,0.976471,0.972549,0.964706,0.960784,0.952941,0.949020,0.941176,0.937255,0.929412,0.925490,0.917647,0.909804,0.905882,0.898039,0.890196,0.882353,0.874510,0.870588,0.858824,0.850980,0.847059,0.835294,0.827451,0.819608,0.811765,0.803922,0.792157,0.784314,0.772549,0.764706,0.756863,0.745098,0.737255,0.725490,0.713726,0.705882,0.694118,0.686275,0.674510,0.662745,0.654902,0.639216,0.631373,0.619608,0.607843,0.600000,0.584314,0.576471,0.564706,0.552941,0.541176,0.529412,0.521569,0.509804,0.501961,0.490196,0.478431,0.470588,0.462745,0.450980,0.443137,0.435294,0.427451,0.415686,0.407843,0.400000,0.388235,0.380392,0.372549,0.364706,0.356863,0.345098,0.337255,0.329412,0.321569,0.313726,0.301961,0.294118,0.286275,0.278431,0.266667,0.258824,0.250980,0.239216,0.231373,0.223529,0.215686,0.207843,0.196078,0.188235,0.180392,0.172549,0.164706,0.156863,0.149020,0.145098,0.137255,0.133333,0.125490,0.121569,0.117647,0.113725,0.109804,0.105882,0.101961,0.101961,0.0980392,0.0941176,0.0941176,0.0901961,0.0901961,0.0862745,0.0823529,0.0823529,0.0784314,0.0745098,0.0745098,0.0705882,0.0666667,0.0666667,0.0627451,0.0627451,0.0588235,0.0549020,0.0549020,0.0509804,0.0509804,0.0470588,0.0431373,0.0431373,0.0392157,0.0392157,0.0352941,0.0313726,0.0313726,0.0313726,0.0274510,0.0274510);\n  const g = spline(normalizedVal, 0.462745,0.470588,0.474510,0.486275,0.494118,0.501961,0.517647,0.529412,0.541176,0.552941,0.564706,0.580392,0.592157,0.607843,0.623529,0.635294,0.650980,0.662745,0.674510,0.686275,0.698039,0.709804,0.721569,0.733333,0.741176,0.752941,0.760784,0.768627,0.780392,0.788235,0.792157,0.800000,0.807843,0.815686,0.823529,0.827451,0.835294,0.839216,0.847059,0.854902,0.858824,0.866667,0.870588,0.878431,0.882353,0.886275,0.894118,0.901961,0.905882,0.913725,0.917647,0.925490,0.929412,0.937255,0.941176,0.945098,0.952941,0.956863,0.960784,0.964706,0.968627,0.972549,0.976471,0.976471,0.980392,0.980392,0.980392,0.980392,0.976471,0.976471,0.972549,0.968627,0.964706,0.960784,0.952941,0.949020,0.941176,0.937255,0.929412,0.921569,0.913725,0.905882,0.898039,0.890196,0.878431,0.870588,0.862745,0.850980,0.843137,0.831373,0.823529,0.811765,0.803922,0.792157,0.780392,0.772549,0.756863,0.749020,0.733333,0.721569,0.709804,0.698039,0.686275,0.670588,0.654902,0.643137,0.627451,0.615686,0.600000,0.584314,0.572549,0.556863,0.545098,0.529412,0.517647,0.505882,0.494118,0.482353,0.466667,0.458824,0.447059,0.435294,0.427451,0.415686,0.407843,0.396078,0.388235,0.376471,0.368627,0.356863,0.349020,0.337255,0.329412,0.321569,0.309804,0.301961,0.294118,0.290196,0.282353,0.274510,0.270588,0.262745,0.258824,0.254902,0.250980,0.247059,0.239216,0.235294,0.231373,0.227451,0.223529,0.219608,0.215686,0.211765,0.207843,0.203922,0.200000,0.196078,0.192157,0.188235,0.184314,0.180392,0.176471,0.172549,0.168627,0.164706,0.160784,0.156863,0.152941,0.149020,0.145098,0.141176,0.141176,0.137255,0.133333,0.129412,0.125490,0.121569,0.117647,0.113725,0.109804,0.105882,0.105882,0.101961,0.0980392,0.0941176,0.0901961,0.0862745,0.0823529,0.0823529,0.0784314,0.0745098,0.0745098,0.0705882,0.0705882,0.0705882,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0588235,0.0588235,0.0588235,0.0588235,0.0549020,0.0549020,0.0549020,0.0509804,0.0509804,0.0509804,0.0509804,0.0470588,0.0470588,0.0470588,0.0431373,0.0431373,0.0431373,0.0392157,0.0392157,0.0392157,0.0352941,0.0352941,0.0352941,0.0352941,0.0313726,0.0313726,0.0313726,0.0274510,0.0274510,0.0274510,0.0235294,0.0235294,0.0235294,0.0235294,0.0196078,0.0196078,0.0196078,0.0156863,0.0156863,0.0156863);\n  const b = spline(normalizedVal, 0.776471,0.776471,0.776471,0.776471,0.776471,0.776471,0.776471,0.772549,0.772549,0.768627,0.764706,0.760784,0.756863,0.749020,0.745098,0.737255,0.733333,0.725490,0.717647,0.713726,0.709804,0.701961,0.698039,0.690196,0.686275,0.686275,0.682353,0.678431,0.678431,0.674510,0.674510,0.674510,0.674510,0.674510,0.674510,0.670588,0.670588,0.666667,0.662745,0.662745,0.658824,0.654902,0.650980,0.643137,0.639216,0.635294,0.631373,0.631373,0.627451,0.627451,0.627451,0.627451,0.627451,0.631373,0.639216,0.643137,0.650980,0.658824,0.670588,0.678431,0.686275,0.698039,0.705882,0.717647,0.725490,0.729412,0.737255,0.741176,0.745098,0.745098,0.741176,0.737255,0.733333,0.725490,0.717647,0.709804,0.694118,0.686275,0.670588,0.654902,0.643137,0.623529,0.611765,0.592157,0.576471,0.564706,0.549020,0.533333,0.517647,0.505882,0.498039,0.482353,0.474510,0.462745,0.450980,0.443137,0.431373,0.423529,0.411765,0.403922,0.392157,0.384314,0.376471,0.364706,0.356863,0.349020,0.337255,0.333333,0.325490,0.321569,0.317647,0.313726,0.313726,0.313726,0.313726,0.317647,0.321569,0.325490,0.329412,0.337255,0.341176,0.349020,0.352941,0.360784,0.364706,0.368627,0.376471,0.380392,0.384314,0.388235,0.392157,0.396078,0.400000,0.400000,0.403922,0.407843,0.411765,0.415686,0.419608,0.423529,0.423529,0.431373,0.431373,0.435294,0.439216,0.443137,0.447059,0.450980,0.454902,0.458824,0.462745,0.466667,0.470588,0.474510,0.474510,0.478431,0.482353,0.482353,0.486275,0.486275,0.490196,0.490196,0.490196,0.494118,0.494118,0.494118,0.498039,0.498039,0.498039,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.498039,0.498039,0.498039,0.498039,0.494118,0.494118,0.494118,0.490196,0.490196,0.490196,0.486275,0.486275,0.482353,0.478431,0.474510,0.470588,0.466667,0.462745,0.454902,0.450980,0.443137,0.435294,0.427451,0.419608,0.411765,0.403922,0.396078,0.384314,0.376471,0.368627,0.360784,0.352941,0.341176,0.333333,0.325490,0.317647,0.309804,0.301961,0.294118,0.286275,0.282353,0.274510,0.266667,0.262745,0.254902,0.247059,0.243137,0.235294,0.227451,0.223529,0.215686,0.211765,0.203922,0.196078,0.192157,0.184314,0.180392,0.172549,0.164706,0.156863,0.152941,0.145098,0.141176,0.133333,0.125490,0.121569,0.113725,0.109804,0.101961,0.0941176,0.0901961,0.0862745,0.0784314,0.0745098,0.0666667,0.0627451,0.0588235,0.0549020,0.0509804);\n  return [Math.round(r*255),Math.round(g*255),Math.round(b*255)];\n}\n\n\n\n\n\n// extended colormap\nexport function cbarNO2ColorsRevised2023(cbar_min: number, cbar_max: number, cur_val: number): [number, number, number]\n{\n  const normalizedVal = clamp( (cur_val-cbar_min)/(cbar_max-cbar_min),0,1);\n  const r = spline(normalizedVal, 0.231373,0.223529,0.215686,0.211765,0.207843,0.207843,0.211765,0.223529,0.235294,0.250980,0.270588,0.294118,0.317647,0.337255,0.364706,0.384314,0.411765,0.439216,0.466667,0.494118,0.521569,0.549020,0.580392,0.603922,0.635294,0.662745,0.690196,0.717647,0.741176,0.768627,0.788235,0.811765,0.835294,0.854902,0.874510,0.890196,0.905882,0.921569,0.933333,0.949020,0.956863,0.964706,0.972549,0.980392,0.984314,0.988235,0.992157,0.996078,0.996078,1.00000,1.00000,1.00000,1.00000,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.996078,0.992157,0.992157,0.988235,0.984314,0.980392,0.972549,0.964706,0.956863,0.949020,0.941176,0.929412,0.921569,0.913725,0.909804,0.905882,0.898039,0.894118,0.890196,0.882353,0.878431,0.870588,0.866667,0.862745,0.854902,0.850980,0.843137,0.839216,0.831373,0.823529,0.819608,0.811765,0.803922,0.796078,0.792157,0.784314,0.776471,0.768627,0.760784,0.756863,0.749020,0.741176,0.733333,0.725490,0.721569,0.709804,0.705882,0.698039,0.686275,0.682353,0.674510,0.662745,0.654902,0.647059,0.639216,0.631373,0.623529,0.615686,0.603922,0.600000,0.592157,0.580392,0.572549,0.564706,0.556863,0.549020,0.541176,0.533333,0.525490,0.517647,0.509804,0.501961,0.494118,0.486275,0.478431,0.470588,0.466667,0.458824,0.450980,0.443137,0.439216,0.431373,0.423529,0.419608,0.411765,0.403922,0.396078,0.392157,0.384314,0.376471,0.372549,0.364706,0.356863,0.352941,0.345098,0.337255,0.333333,0.325490,0.317647,0.313726,0.305882,0.301961,0.294118,0.286275,0.282353,0.270588,0.266667,0.258824,0.250980,0.247059,0.239216,0.235294,0.227451,0.219608,0.215686,0.207843,0.200000,0.196078,0.188235,0.180392,0.176471,0.172549,0.164706,0.156863,0.152941,0.145098,0.141176,0.137255,0.133333,0.129412,0.125490,0.121569,0.117647,0.113725,0.113725,0.109804,0.105882,0.105882,0.101961,0.101961,0.0980392,0.0980392,0.0941176,0.0941176,0.0901961,0.0901961,0.0862745,0.0862745,0.0823529,0.0823529,0.0823529,0.0784314,0.0784314,0.0745098,0.0745098,0.0705882,0.0705882,0.0666667,0.0666667,0.0627451,0.0627451,0.0627451,0.0588235,0.0588235,0.0549020,0.0549020,0.0509804,0.0509804,0.0470588,0.0470588,0.0431373,0.0431373,0.0392157,0.0392157,0.0392157,0.0352941,0.0352941,0.0313726,0.0313726,0.0313726,0.0274510,0.0274510,0.0274510);\n  const g = spline(normalizedVal, 0.462745,0.474510,0.486275,0.498039,0.517647,0.533333,0.552941,0.576471,0.592157,0.615686,0.635294,0.654902,0.674510,0.694118,0.709804,0.725490,0.741176,0.756863,0.768627,0.784314,0.792157,0.803922,0.815686,0.823529,0.835294,0.843137,0.854902,0.862745,0.870588,0.878431,0.886275,0.898039,0.905882,0.913725,0.925490,0.933333,0.941176,0.949020,0.956863,0.964706,0.968627,0.972549,0.976471,0.980392,0.980392,0.980392,0.976471,0.968627,0.964706,0.956863,0.949020,0.941176,0.929412,0.917647,0.905882,0.894118,0.878431,0.866667,0.850980,0.835294,0.823529,0.807843,0.792157,0.776471,0.756863,0.741176,0.721569,0.701961,0.686275,0.662745,0.643137,0.619608,0.600000,0.580392,0.556863,0.537255,0.517647,0.498039,0.482353,0.462745,0.447059,0.431373,0.415686,0.403922,0.388235,0.372549,0.364706,0.356863,0.349020,0.341176,0.337255,0.329412,0.321569,0.313726,0.305882,0.301961,0.298039,0.290196,0.286275,0.282353,0.278431,0.270588,0.266667,0.262745,0.258824,0.254902,0.250980,0.250980,0.247059,0.243137,0.239216,0.235294,0.231373,0.231373,0.227451,0.223529,0.219608,0.219608,0.215686,0.211765,0.207843,0.203922,0.203922,0.200000,0.196078,0.192157,0.192157,0.188235,0.184314,0.180392,0.180392,0.176471,0.172549,0.172549,0.168627,0.164706,0.160784,0.160784,0.156863,0.152941,0.152941,0.149020,0.145098,0.141176,0.141176,0.137255,0.133333,0.133333,0.129412,0.125490,0.125490,0.121569,0.117647,0.117647,0.113725,0.109804,0.109804,0.105882,0.101961,0.0980392,0.0980392,0.0941176,0.0901961,0.0901961,0.0862745,0.0862745,0.0823529,0.0823529,0.0784314,0.0784314,0.0745098,0.0745098,0.0705882,0.0705882,0.0705882,0.0705882,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0666667,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0627451,0.0588235,0.0588235,0.0588235,0.0588235,0.0588235,0.0549020,0.0549020,0.0549020,0.0549020,0.0509804,0.0509804,0.0509804,0.0509804,0.0509804,0.0470588,0.0470588,0.0470588,0.0470588,0.0431373,0.0431373,0.0431373,0.0431373,0.0392157,0.0392157,0.0392157,0.0392157,0.0392157,0.0352941,0.0352941,0.0352941,0.0352941,0.0313726,0.0313726,0.0313726,0.0313726,0.0313726,0.0274510,0.0274510,0.0274510,0.0274510,0.0235294,0.0235294,0.0235294,0.0235294,0.0235294,0.0196078,0.0196078,0.0196078,0.0196078,0.0156863,0.0156863,0.0156863,0.0156863);\n  const b = spline(normalizedVal, 0.776471,0.776471,0.776471,0.776471,0.776471,0.772549,0.768627,0.760784,0.756863,0.745098,0.737255,0.729412,0.717647,0.709804,0.701961,0.694118,0.686275,0.682353,0.678431,0.678431,0.674510,0.674510,0.674510,0.670588,0.670588,0.666667,0.662745,0.654902,0.650980,0.643137,0.635294,0.631373,0.627451,0.627451,0.627451,0.631373,0.639216,0.647059,0.658824,0.674510,0.686275,0.701961,0.717647,0.729412,0.737255,0.741176,0.745098,0.741176,0.733333,0.721569,0.709804,0.690196,0.670588,0.647059,0.623529,0.603922,0.576471,0.552941,0.533333,0.513726,0.498039,0.478431,0.462745,0.447059,0.431373,0.415686,0.403922,0.388235,0.376471,0.360784,0.349020,0.337255,0.325490,0.317647,0.313726,0.313726,0.313726,0.317647,0.325490,0.333333,0.341176,0.349020,0.360784,0.368627,0.376471,0.380392,0.384314,0.388235,0.392157,0.396078,0.396078,0.400000,0.400000,0.403922,0.407843,0.407843,0.411765,0.415686,0.415686,0.419608,0.423529,0.423529,0.427451,0.431373,0.431373,0.435294,0.439216,0.443137,0.443137,0.447059,0.450980,0.450980,0.454902,0.458824,0.462745,0.462745,0.466667,0.470588,0.470588,0.474510,0.474510,0.478431,0.478431,0.482353,0.482353,0.486275,0.486275,0.486275,0.490196,0.490196,0.490196,0.490196,0.494118,0.494118,0.494118,0.494118,0.498039,0.498039,0.498039,0.498039,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.501961,0.498039,0.498039,0.498039,0.498039,0.494118,0.494118,0.494118,0.494118,0.494118,0.490196,0.490196,0.490196,0.490196,0.486275,0.486275,0.482353,0.482353,0.478431,0.478431,0.474510,0.470588,0.466667,0.462745,0.462745,0.454902,0.450980,0.447059,0.439216,0.435294,0.427451,0.423529,0.415686,0.411765,0.403922,0.396078,0.392157,0.384314,0.376471,0.372549,0.364706,0.356863,0.352941,0.345098,0.341176,0.333333,0.325490,0.321569,0.313726,0.309804,0.305882,0.298039,0.294118,0.286275,0.282353,0.274510,0.270588,0.266667,0.262745,0.254902,0.250980,0.247059,0.243137,0.239216,0.235294,0.227451,0.223529,0.219608,0.211765,0.207843,0.203922,0.200000,0.196078,0.192157,0.188235,0.180392,0.176471,0.172549,0.164706,0.160784,0.156863,0.152941,0.145098,0.141176,0.137255,0.133333,0.129412,0.125490,0.117647,0.113725,0.109804,0.105882,0.101961,0.0941176,0.0901961,0.0862745,0.0823529,0.0784314,0.0745098,0.0705882,0.0666667,0.0627451,0.0588235,0.0549020,0.0549020,0.0509804);\n  return [Math.round(r*255),Math.round(g*255),Math.round(b*255)];\n}\n\n","// modified from https://stackoverflow.com/a/63397776/11594175\n\nlet preloadedImages: HTMLElement[] = [];\n\nfunction loadImage(src: string): Promise<HTMLElement> {\n  return new Promise((resolve, reject) => {\n    const img = document.createElement(\"link\");\n    img.rel = \"preload\";\n    img.as = \"image\";\n    img.onload = function () {\n      resolve(img);\n    };\n    img.onerror = img.onabort = function () {\n      reject(src);\n    };\n    img.href = src;\n    // add it to the dom in body so it will load\n    document.body.appendChild(img);\n    // append to the preloaded images list so it can be removed\n    preloadedImages.push(img);\n  });\n}\nexport function _preloadImages(images: string[]): Promise<HTMLElement>[] {\n  // remove past images\n  preloadedImages.forEach((img) => {\n    img.remove();\n  });\n  preloadedImages = [];\n  const promises = images.map((src) => loadImage(src));\n  // Promise.all(promises);\n  return promises;\n}\n\n// reset the preload images\n","export default [\n  {\n    date: \"2025-04-24\",\n    html: 'Educational resources designed for for informal educators (e.g., in museums, public outreach) are now available on the Cosmic Data Stories website at <a style=\"font-weight: normal;\" tabindex=\"0\"  href=\"https://www.cosmicds.cfa.harvard.edu/resources/tempo\" target=\"_blank\" rel=\"noopener\">Educator Resources</a>. You can also find the link the menu.',\n    highlight: new Date() < new Date('2025-05-7 00:00:00') ,\n    \n  },\n  {\n    date: \"2025-02-02\",\n    html:\n      'During the LA fires that began on Jan 7th, NO<sub>2</sub> levels far exceeded the default range displayed on our maps. For Jan 7 - Feb 2, 2025, we added an option to use an extended range of NO<sub>2</sub> values. For those dates, a button appears on the map to toggle between the standard and extended range.',\n      \n  },\n  {\n    date: \"2025-01-21\",\n    text:\n      \"Enable viewing the full resolution data. By default this is always off, displaying data at 1/2 the native Level 3 resolution for better performance\"\n  },\n  {\n    date: \"2025-01-09\",\n    text:\n      \"We have added a new sharable url feature! Click the share icon to copy a link for the current view (location, zoom level, date, and time) to your clipboard.\",\n  },\n  {\n    date: \"2024-11-29\",\n    text:\n      \"We are in the process of updating our data processing routines and images to use averaging rather than the nearest-neighbor pixel value when reprojecting. TEMPO images for dates after Nov 29th use the new pipeline, and past images will be updated over time\",\n  },\n];\n","import { ref, onMounted } from 'vue';\nimport L, { Map } from 'leaflet';\n\nexport interface InitMapOptions {\n  loc: L.LatLngExpression | number[],\n  zoom: number,\n  // allow other options\n  [x: string | number | symbol]: unknown\n}\n\nexport function useLeafletMap(id=\"map\", options: InitMapOptions, onReady?: (map: Map) => void) {\n  \n  // this is where our map will be\n  const map = ref<Map | null>(null);\n  const basemap = ref<L.TileLayer.WMS | null | L.TileLayer>(null);\n  const labelmap = ref<L.TileLayer.WMS | null | L.TileLayer>(null);\n  \n  async function addCoastlines() {\n    fetch(\"coastlines.geojson\")\n      .then(response => response.json())\n      .then(data => {\n        L.geoJson(data, {\n          style: { color: \"black\", weight: 1, opacity: 0.8 }\n        }).addTo(map.value as Map);\n      });\n  }\n  \n  function setupMap() {\n    if (map.value === null) return;\n    \n    // we need a pane that will be at a high z-index\n    const labelPane = map.value.createPane(\"labels\");\n    labelPane.style.zIndex = \"650\";\n    labelPane.style.pointerEvents = \"none\";\n    \n    // add Stadia Toner lines only\n    basemap.value = L.tileLayer('https://tiles.stadiamaps.com/tiles/stamen_toner_lines/{z}/{x}/{y}{r}.png', {\n      minZoom: 0,\n      maxZoom: 20,\n      attribution: '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a> &copy; <a href=\"https://www.stamen.com/\" target=\"_blank\">Stamen Design</a> &copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a> &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n      pane: 'labels'\n    });\n    basemap.value.addTo(map.value as Map);\n    \n    // add Stadia Toner labels only\n    labelmap.value = L.tileLayer('https://tiles.stadiamaps.com/tiles/stamen_toner_labels/{z}/{x}/{y}{r}.png', {\n      minZoom: 0,\n      maxZoom: 20,\n      attribution: '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a> &copy; <a href=\"https://www.stamen.com/\" target=\"_blank\">Stamen Design</a> &copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a> &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n      pane: 'labels'\n    });\n    labelmap.value.addTo(map.value as Map);\n    \n    addCoastlines();\n    if (onReady !== undefined) {\n      onReady(map.value as Map);\n    }\n  }\n  \n  function createMap() {\n    map.value = L.map(id, { zoomControl: false });\n    map.value.setView(options.loc as L.LatLngTuple, options.zoom);\n    \n    map.value.whenReady(setupMap);\n  }\n\n  function setView(latlng: [number, number] | L.LatLngExpression, zoom: number) {\n    if (map.value) {\n      map.value.setView(latlng, zoom);\n    }\n  }\n  \n  function resetView() {\n    if (map.value) {\n      map.value.setView(options.loc as L.LatLngTuple, options.zoom);\n    }\n  }\n  \n  \n  onMounted(() => {\n    createMap();\n  });\n\n  return {\n    map,\n    setView,\n    resetView\n  };\n}","import {ref, Ref, watch, isRef} from 'vue';\nimport { LatLngBounds } from '../types';\nimport L from 'leaflet';\n\nexport function useImageOverlay(\n  imageUrl: Ref<string> | string, \n  opacity: Ref<number> | number,\n  imageBounds: Ref<LatLngBounds | L.LatLngBounds>\n) {\n  \n  imageUrl = isRef(imageUrl) ? imageUrl : ref(imageUrl);\n  opacity = isRef(opacity) ? opacity : ref(opacity);\n  imageBounds = isRef(imageBounds) ? imageBounds : ref(imageBounds);\n  \n  const overlay = ref(new L.ImageOverlay(imageUrl.value, imageBounds.value, {\n    opacity: opacity.value,\n    interactive: false,\n  }));\n\n  watch(imageUrl, (url: string) => {\n    overlay.value.setUrl(url);\n  });\n\n  watch(opacity, (value: number) => {\n    overlay.value.setOpacity(value);\n  });\n\n  watch(imageBounds, (bounds: L.LatLngBounds) => {\n    overlay.value.setBounds(bounds);\n  });\n  \n  function addTo(map: L.Map) {\n    overlay.value.addTo(map);\n  }\n  \n  \n  return { overlay, addTo};\n\n}","// Generated by Copilot, modified by me\nimport { computed } from 'vue';\nimport type { Ref } from 'vue';\n\n// Library-agnostic bounds representation\nexport interface BoundingBox {\n  west: number;\n  south: number;\n  east: number;\n  north: number;\n}\n\n// Define standard bounds as constants\nconst BOUNDS_COLLECTION: Record<string, BoundingBox> = {\n  novDec: {\n    west: -154.975,\n    south: 17.025,\n    east: -24.475, \n    north: 63.975\n  },\n  march: {\n    west: -167.99,\n    south: 14.01,\n    east: -13.01,\n    north: 72.99\n  },\n  default: {\n    west: -167.99,\n    south: 14.01,\n    east: -13.01,\n    north: 72.99\n  }\n};\n\nexport type BoundsSelector = (date: Date) => BoundingBox;\n\nexport function useBounds(\n  date: Ref<Date>, \n  customSelector?: BoundsSelector\n) {\n  // Default selector function based on your existing logic\n  const defaultSelector: BoundsSelector = (date: Date) => {\n    if (date.getUTCFullYear() === 2023) {\n      return BOUNDS_COLLECTION.novDec;\n    } else if (date.getUTCFullYear() === 2024 && date.getUTCMonth() === 2) {\n      return BOUNDS_COLLECTION.march;\n    } else {\n      return BOUNDS_COLLECTION.default;\n    }\n  };\n\n  // Use the custom selector if provided, otherwise use the default\n  const selector = customSelector || defaultSelector;\n  \n  // Current bounds as a reactive reference\n  const currentBounds = computed(() => selector(date.value));\n  \n  // Array representation [west, south, east, north]\n  const boundsArray = computed(() => {\n    const bounds = currentBounds.value;\n    return [bounds.west, bounds.south, bounds.east, bounds.north];\n  });\n\n  return {\n    boundsCollection: BOUNDS_COLLECTION,\n    currentBounds,\n    boundsArray,\n    selector\n  };\n}","// Generated by Copilot, modified by me\nimport L from 'leaflet';\nimport { computed, type Ref } from 'vue';\nimport { useBounds, type BoundingBox, type BoundsSelector } from './useBounds';\n\nexport function useLeafletBounds(\n  date: Ref<Date>,\n  customSelector?: BoundsSelector\n) {\n  // Get the library-agnostic bounds\n  const { currentBounds, boundsArray, boundsCollection } = useBounds(date, customSelector);\n  \n  \n\n  // Helper function to convert any BoundingBox to Leaflet bounds\n  function toLeafletBounds(boundingBox: BoundingBox): L.LatLngBounds {\n    return new L.LatLngBounds(\n      new L.LatLng(boundingBox.south, boundingBox.west),\n      new L.LatLng(boundingBox.north, boundingBox.east)\n    );\n  }\n  \n  // Convert to Leaflet LatLngBounds\n  const leafletBounds = computed(() => {\n    return toLeafletBounds(currentBounds.value);\n  });\n\n  return {\n    boundsCollection,\n    currentBounds,\n    boundsArray,\n    leafletBounds,\n    toLeafletBounds\n  };\n}","import { ref, computed, watch, Ref } from 'vue';\nimport { getTimezoneOffset } from 'date-fns-tz';\n\nconst ONEDAYMS = 1000 * 60 * 60 * 24;\n\nfunction isBad(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\n\nexport const useUniqueTimeSelection = (timestamps: Ref<number[]>) => {\n  const timeIndex = ref(0);\n  const singleDateSelected = ref<Date>(new Date());\n  const minIndex = ref<number>(0);\n  const maxIndex = ref<number>(0);\n  \n\n  \n  function getOneDaysTimestamps(date: Date): number[] {\n    if (isBad(date)) {\n      return [];\n    }\n    const mod = timestamps.value.filter(ts => ((ts - date.getTime()) < ONEDAYMS) && (ts - date.getTime()) > 0);\n    return mod;\n  }\n  \n  function setNearestDate(date: number | null) {\n    if (date == null) {\n      return;\n    }\n\n    const mod = getOneDaysTimestamps(new Date(date));\n    if (mod.length > 0) {\n      minIndex.value = timestamps.value.indexOf(mod[0]);\n      maxIndex.value = timestamps.value.indexOf(mod[mod.length - 1]);\n      timeIndex.value = minIndex.value;\n    } else {\n      console.warn(\"No timestamps found for the given date.\");\n    }\n  }\n  \n  const timestamp = computed(() => {\n    const val = timestamps.value[timeIndex.value];\n    return val;\n  });\n  \n  const date = computed(() => {\n    return new Date(timestamp.value);\n  });\n  \n  const offset = (date: Date) => getTimezoneOffset(\"US/Eastern\", date);\n  \n  const uniqueDays = computed(() => {\n    // easter time cuz we want USA days\n    const easternDates = timestamps.value.map(ts => new Date(ts + offset(new Date(ts))));\n    const days = easternDates.map(date => (new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate())).getTime());\n    const unique = Array.from(new Set(days));\n    return unique.map(ts => new Date(ts));\n  });\n  \n  const uniqueDaysIndex = (ts: number) => {\n    let date = new Date(ts + offset(new Date(ts)));\n    date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n    return uniqueDays.value.map(e => e.getTime()).indexOf(date.getTime());\n  };\n  \n  \n  function getUniqueDayIndex(date: Date | null | undefined): number {\n    if (isBad(date)) {\n      return 0;\n    }\n    return uniqueDays.value.findIndex(day => day.getTime() === date.getTime());\n  }\n  \n  function moveBackwardOneDay() {\n    const currentIndex = getUniqueDayIndex(singleDateSelected.value);\n    if (currentIndex > 0) {\n      singleDateSelected.value = uniqueDays.value[currentIndex - 1];\n    }\n  }\n\n  function moveForwardOneDay() {\n    const nextIndex = getUniqueDayIndex(singleDateSelected.value) + 1;\n    if (nextIndex < uniqueDays.value.length) {\n      singleDateSelected.value = uniqueDays.value[nextIndex];\n    }\n  }\n  \n  function nearestDate(date: Date): number {\n    const time = date.getTime();\n    const timestamp = timestamps.value.find(ts => ((ts - time) < ONEDAYMS) && (ts - time) >= 0);\n    if (timestamp !== undefined) {\n      return timestamp;\n    } else {\n      console.warn(\"No matching timestamp found, returning default value.\");\n      return timestamps.value[0];\n    }\n  }\n  \n  function nearestDateIndex(date: Date): number {\n    const timestamp = date.getTime();\n    const index = timestamps.value.findIndex(ts => ((ts - timestamp) < ONEDAYMS) && (ts - timestamp) >= 0);\n    if (index < 0) {\n      console.log(\"No matching timestamp found, returning default index.\");\n      return 0;\n    }\n    return index;\n  }\n  \n  watch(singleDateSelected, (value) => {\n    setNearestDate(value.getTime());\n  });\n  \n  \n  return {\n    timeIndex,\n    timestamp,\n    date,\n    singleDateSelected,\n    maxIndex,\n    minIndex,\n    uniqueDays,\n    uniqueDaysIndex,\n    setNearestDate, // did an image preload\n    getUniqueDayIndex,\n    moveBackwardOneDay,\n    moveForwardOneDay,\n    nearestDate,\n    nearestDateIndex\n  };\n\n};","import { InterestingEvent } from \"./types\";\n\nexport const interestingEvents: InterestingEvent[] = [\n  {\n    date: new Date(2025, 0, 8),\n    endDate: new Date(2025, 0, 31),\n    dateString: \"Jan 8\",\n    label: \"LA Wildfires (Jan 8-31, 2025)\",\n    highlighted: false,\n    hasFeature: true,\n    info: `\n    <p> \n      Beginning on January 7, 2025, a series of wildfires broke out in the Los Angeles area. In addition to the devastating damage caused by the fires, large amounts of particulate matter, NO<sub>2</sub>, and other pollutants were released into the air.\n    </p>\n    <p>\n      The TEMPO instrument can detect the NO<sub>2</sub> plumes from these fires,\n      helping scientists and the public to understand the extent of the pollution and how it moves through the air. \n    </p>\n    <p>\n      Compare levels of NO<sub>2</sub> before, during, and after the fires. \n    </p>\n    <p>\n      During the fires, NO<sub>2</sub> levels far exceeded the default range displayed on our maps. For Jan 7 - Feb 2, 2025, we added an option to use an extended range of NO<sub>2</sub> values. For those dates, a button appears on the map to toggle between the standard and extended range.\n    </p>\n    `,\n    locations: [\n      {\n        latlng: [33.4773, -118.5975],\n        zoom: 8,\n        text: \"Los Angeles Wildfires\",\n        time: \"2025-01-08T19:51:00.000Z\",\n        description: `\n        <p>\n          Plumes of NO<sub>2</sub> from the wildfires can be seen from the \n          fires in the Los Angeles Area. On this day, the plumes are being blown south over the Pacific Ocean by the Santa Ana winds. \n          </p>\n          <p>\n          The levels of NO<sub>2</sub> are so high, they actually exceed the top of the scale shown on the color map.\n          </p>\n        `\n      }]\n      \n    \n\n  },\n\n  {\n    date: new Date(2024, 2, 28),\n    dateString: \"Mar 28\",\n    label: \"March 28, 2024\",\n    info: `\n        Breathing air with a high concentration of NO<sub>2</sub>, \n        and the resulting smog it forms when it reacts with other pollutants, \n        can irritate human respiratory systems. \n        People with asthma, as well as children and the elderly, \n        are generally at greater risk for the health effects of air pollution. \n        TEMPO data can help communities make informed \n        decisions and take action to improve air quality.\n        `,\n    locations: [\n      {\n        latlng: [31.938392, -99.095785],\n        zoom: 6,\n        text: \"Texas Oil and Gas Production\",\n        time: \"2024-03-28T13:04:00.000Z\",\n        description:\n          \"<p>The Permian basin, near Odessa, has two large plumes of NO2. This is the largest oil and gas producing area in the USA. You can also see here how pollution from a source in one state (Texas) can be transported across state lines to New Mexico.</p>\",\n      },\n      {\n        latlng: [31.331933, -91.575283],\n        zoom: 8,\n        text: \"LA/MS Fires\",\n        time: \"2024-03-28T16:44:00.000Z\",\n        description:\n          \"<p>Two fires can be seen popping up south and east of Alexandria. These are most easily identified as hot spots of NO2 that appear quickly.</p>\",\n      },\n    ],\n  }, // Mar 28\n\n  {\n    date: new Date(2023, 10, 3),\n    dateString: \"Nov 3\",\n    label: \"November 3, 2023\",\n    info: `\n        Levels of NO<sub>2</sub> change quickly from day to day, \n        and even from hour to hour as wind transports \n        plumes of pollution.\n        `,\n    locations: [\n      {\n        latlng: [36.215934, -119.7775],\n        zoom: 6,\n        text: \"California Traffic and Agriculture\",\n        time: \"2023-11-03T14:22:00.000Z\",\n        description:\n          \"<p>Los Angeles clearly stands out. NO<sub>2</sub> values are even higher than the maximum of our color bar. You can clearly see the highways including Route 10 between San Bernardino and Mexicali and Route 15 leading from San Bernardino towards Las Vegas. A significant amount of NO<sub>2</sub> in California&rsquo;s central valley is a byproduct of agricultural activity there. Excess fertilizer in the soil gets broken down by microbes to produce nitrogen oxides which are very reactive. Emissions that don&rsquo;t come from combustion are typically much harder to see, but the Central Valley is an area where TEMPO data may reveal this agricultural source of pollution.</p>\",\n      },\n      {\n        latlng: [41.85726, -80.531177],\n        zoom: 5,\n        text: \"Northeast: Large Emissions Plumes\",\n        time: \"2023-11-03T12:22:00.000Z\",\n        description:\n          \"<p>Air pollution is often transported, or moved, over great distances. In this data set large plumes can be seen over the Northeast. If you look closely you can see that many of these plumes appear to originate out of cities in the midwest including Nashville, St. Louis, and Memphis.</p>\",\n      },\n    ],\n  },\n  \n  {\n    date: new Date(2023, 10, 1),\n    dateString: \"Nov 1\",\n    label: \"November 1, 2023\",\n    info: `\n        <p>\n          Because the TEMPO instrument measures sunlight reflected and scattered from Earth’s \n        surface and atmosphere, it can’t “see” through the clouds&mdash;so these\n        areas appear blank on the map.\n        </p>\n        <p>\n          But right away you’ll see that there \n        are high concentrations of NO<sub>2</sub> around many urban centers, \n        and sometimes along major highways.\n        </p>\n        `,\n    locations: [\n      {\n        latlng: [34.359786, -111.700124],\n        zoom: 7,\n        text: \"Arizona Urban Traffic and Fires\",\n        time: \"2023-11-01T14:22:00.000Z\",\n        description:\n          \"<p>NO<sub>2</sub> increases during daily rush hour. In Phoenix, notice the high levels of NO<sub>2</sub> early in the morning, dip down during the day, then start to build back up during the evening commute.</p><p>Fires can be seen between Phoenix and Flagstaff. These are most easily identified as hot spots of NO<sub>2</sub> that appear quickly.</p>\",\n      },\n      {\n        latlng: [36.1716, -115.1391],\n        zoom: 7,\n        text: \"Las Vegas: Fairly Constant Levels All Day\",\n        time: \"2023-11-01T14:22:00.000Z\",\n        description:\n          \"<p>In this data Las Vegas has less daily variation than many other cities.</p>\",\n      },\n    ],\n  },\n\n];\n","/* eslint-disable @typescript-eslint/naming-convention */\nexport interface Manifest {\n  early_release: {\n    image_directory: string;\n    resized_image_directory: string;\n    timestamps: number[];\n  };\n  released: {\n    image_directory: string;\n    resized_image_directory: string;\n    timestamps: number[];\n  };\n  clouds: {\n    image_directory: string;\n    resized_image_directory: string;\n    timestamps: number[];\n  };\n}\n\nexport interface LAManifest {\n\n  'data_range_0_300/released': {\n    image_directory: string;\n    resized_image_directory: string;\n    timestamps: number[];\n  };\n  'data_range_0_300/clouds': {\n    image_directory: string;\n    resized_image_directory: string;\n    timestamps: number[];\n  };\n}\n\nexport async function fetchManifest(): Promise<Manifest> {\n  console.log(\"fetching manifest\");\n  const url = \"https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/manifest.json\";\n  // try to use cache busting, but if that fails try with plain url\n  return fetch(`${url}?version=${Date.now()}}`)\n    .then((response) => response.json())\n    .catch(() => fetch(url).then((response) => response.json()));\n    \n}\n\nexport async function fetchLaFireManifest(): Promise<LAManifest> {\n  console.log(\"fetching la fire manifest\");\n  const url = \"https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/manifest_la_fire.json\";\n  // try to use cache busting, but if that fails try with plain url\n  return fetch(`${url}?version=${Date.now()}}`)\n    .then((response) => response.json())\n    .catch(() => fetch(url).then((response) => response.json()));\n    \n}\n\ninterface Timestamps {\n  early_release: number[];\n  released: number[];\n  clouds: number[];\n}\n\nexport  async function getTimestamps(): Promise<Timestamps> {\n  const manifest = await fetchManifest();\n  const earlyRelease = manifest.early_release;\n  const released = manifest.released;\n  const clouds = manifest.clouds;\n  return { early_release: earlyRelease.timestamps, released: released.timestamps, clouds: clouds.timestamps };\n}\n\nexport async function getExtendedRangeTimestamps(): Promise<number[]> {\n  const manifest = await fetchLaFireManifest();\n  const ts =  manifest['data_range_0_300/released'].timestamps;\n  // console.log(ts.map(t => new Date(t)));\n  return ts;\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, isRef as _isRef, mergeProps as _mergeProps, normalizeClass as _normalizeClass } from \"vue\"\nimport _imports_0 from './assets/TEMPO-Logo-Small.png'\nimport _imports_1 from './assets/smithsonian.png'\n\n\nconst _hoisted_1 = {\n  key: 0,\n  id: \"introduction-overlay\",\n  class: \"elevation-10 gradient-background\"\n}\nconst _hoisted_2 = { id: \"intro-window-close-button\" }\nconst _hoisted_3 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_4 = { id: \"splash-screen-logos\" }\nconst _hoisted_5 = { class: \"intro-text mb-3\" }\nconst _hoisted_6 = { id: \"intro-bottom-controls\" }\nconst _hoisted_7 = { id: \"main-content\" }\nconst _hoisted_8 = { class: \"content-with-sidebars\" }\nconst _hoisted_9 = { id: \"logo-title\" }\nconst _hoisted_10 = { class: \"snackbar-alert-ul\" }\nconst _hoisted_11 = [\"data-date\"]\nconst _hoisted_12 = [\"innerHTML\"]\nconst _hoisted_13 = { id: \"menu-area\" }\nconst _hoisted_14 = {\n  style: {\"font-weight\":\"normal\"},\n  tabindex: \"0\",\n  href: \"https://www.cosmicds.cfa.harvard.edu/resources/tempo\",\n  target: \"_blank\",\n  rel: \"noopener\"\n}\nconst _hoisted_15 = { id: \"map-container\" }\nconst _hoisted_16 = {\n  id: \"map-contents\",\n  style: {\"width\":\"100%\",\"height\":\"100%\"}\n}\nconst _hoisted_17 = { id: \"map\" }\nconst _hoisted_18 = {\n  id: \"loading-circle-progress-container\",\n  class: \"d-flex flex-column align-center justify-center ga-2\"\n}\nconst _hoisted_19 = {\n  key: 0,\n  id: \"map-legend\"\n}\nconst _hoisted_20 = { id: \"map-show-hide-controls\" }\nconst _hoisted_21 = {\n  id: \"opacity-slider-container\",\n  class: \"mt-5\"\n}\nconst _hoisted_22 = { class: \"d-flex flex-row align-center justify-space-between\" }\nconst _hoisted_23 = { class: \"d-flex flex-row align-center justify-space-between\" }\nconst _hoisted_24 = { class: \"d-flex flex-row align-center justify-space-between\" }\nconst _hoisted_25 = {\n  key: 0,\n  class: \"d-flex flex-row align-center justify-space-between\"\n}\nconst _hoisted_26 = { id: \"location-and-sharing\" }\nconst _hoisted_27 = { id: \"la-fires\" }\nconst _hoisted_28 = { id: \"slider-row\" }\nconst _hoisted_29 = { class: \"thumb-label\" }\nconst _hoisted_30 = { id: \"user-options\" }\nconst _hoisted_31 = { id: \"all-dates\" }\nconst _hoisted_32 = { class: \"d-flex flex-row align-center\" }\nconst _hoisted_33 = [\"disabled\"]\nconst _hoisted_34 = { class: \"d-flex flex-row align-center my-2\" }\nconst _hoisted_35 = { key: 0 }\nconst _hoisted_36 = { key: 1 }\nconst _hoisted_37 = { id: \"date-radio\" }\nconst _hoisted_38 = [\"innerHTML\"]\nconst _hoisted_39 = {\n  key: 0,\n  style: {\"border-color\":\"grey\"}\n}\nconst _hoisted_40 = {\n  key: 1,\n  id: \"locations-of-interest\"\n}\nconst _hoisted_41 = { class: \"mb-1\" }\nconst _hoisted_42 = [\"innerHTML\"]\nconst _hoisted_43 = { id: \"bottom-options\" }\nconst _hoisted_44 = { id: \"information\" }\nconst _hoisted_45 = { class: \"d-flex flex-row justify-space-between\" }\nconst _hoisted_46 = { id: \"body-logos\" }\n\nimport { ref, computed, watch, onMounted, onBeforeUnmount, nextTick, ComputedRef } from \"vue\";\nimport { API_BASE_URL, blurActiveElement } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from 'vuetify';\nimport { DatePickerInstance } from \"@vuepic/vue-datepicker\";\nimport L, { LatLngExpression, Map } from \"leaflet\";\nimport { v4 } from \"uuid\";\nimport \"leaflet.zoomhome\";\nimport { getTimezoneOffset } from \"date-fns-tz\";\nimport { cbarNO2 } from \"./revised_cmap\";\nimport fieldOfRegard from \"./assets/TEMPO_FOR.json\";\nimport augustFieldOfRegard from \"./assets/august_for.json\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch } from \"./mapbox\";\nimport { _preloadImages } from \"./PreloadImages\";\nimport changes from \"./changes\";\nimport { useLeafletMap } from \"./composables/useLeafletMap\";\nimport { useImageOverlay } from \"./composables/useLeafletImageOverlay\";\nimport { useLeafletBounds } from './composables/useLeafletBounds';\nimport { useUniqueTimeSelection } from \"./composables/useUniqueTimeSelection\";\nimport { interestingEvents } from \"./interestingEvents\";\n\nimport { getTimestamps, getExtendedRangeTimestamps } from \"./timestamps\";\n\ntype SheetType = \"text\" | \"video\" | null;\ntype Timeout = ReturnType<typeof setTimeout>;\n\n\n/**************\n * UI Setup\n *************/\n// const hash = window.location.hash;\nconst showExtendedRangeFeatures = true; //hash.includes(\"extreme-events\");\nconst OPT_OUT_KEY = \"tempo-lite-optout\" as const;\nconst UUID_KEY = \"tempo-lite-uuid\" as const;\nconst homeLat = 40.044;\nconst homeLon = -98.789;\nconst homeZoom = 4;\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TempoLite',\n  setup(__props) {\n\nconst display = useDisplay();\nconst calendar = ref<DatePickerInstance | null>(null);\nconst urlParams = new URLSearchParams(window.location.search);\nconst showSplashScreen = ref(new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\");\nconst extendedRange = ref(window.location.hash.includes(\"extreme-events\") || urlParams.get('extendedRange') === \"true\"); //showExtendedRangeFeatures || urlParams.get('extendedRange') === \"true\";\nconst hideIntro = urlParams.get(\"hideintro\") === \"true\";\nconst WINDOW_DONTSHOWINTRO = hideIntro ? true : window.localStorage.getItem(\"dontShowIntro\") === 'true';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore --> msPointerEnabled may not be defined in window.navigator\nconst touchscreen = ref(('ontouchstart' in window) || ('ontouchstart' in document.documentElement) || !!window.navigator.msPointerEnabled);\n\n\n\nconst STORY_VISIT_URL = `${API_BASE_URL}/tempo-lite/visit`;\nfunction pingServer(venue: string) {\n\n  fetch(STORY_VISIT_URL, {\n    \n    method: \"POST\",\n    \n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? ''\n    },\n    \n    body: JSON.stringify({\n      info: { venue }\n    })\n    \n  })\n    .then((response) => {\n      if (!response.ok) {\n        console.error(\"Error pinging server\", response.status, response.statusText);\n      } \n    }).\n    catch((error) => {\n      console.error(\"Error pinging server\", error);\n    });\n}\n\nconst venue = (urlParams.get(\"venue\") ?? '').replace(/,/g, '-');\n\nif (venue !== '') {\n  // get current value of venue\n  const venues =  window.localStorage.getItem(\"venues\") ?? '';\n  // if they haven't visited this venue before, ping the server & save it\n  if (!venues.includes(venue)) {\n    pingServer(venue);\n    window.localStorage.setItem(\"venues\", venues ? `${venues},${venue}` : venue);\n  }\n}\n\n\nfunction clearUrl(hash = false) {\n  const newUrl = location.origin + location.pathname + (hash ? location.hash : '');\n  window.history.replaceState({}, '', newUrl);\n}\nclearUrl(true);\n\n\nconst introSlide = ref(1);\nconst inIntro = ref(!WINDOW_DONTSHOWINTRO);\nconst dontShowIntro = ref(WINDOW_DONTSHOWINTRO);\nconst showNotice = ref(true);\nconst sheet = ref<SheetType>(null);\nconst accentColor = ref(\"#068ede\");\nconst accentColor2 = ref(\"#ffcc33\");\n\nlet hasOptOutBeenOpened = false;\nconst introductionOpen = computed(() => inIntro.value && (introSlide.value === 1));\nconst userGuideOpen = computed(() => inIntro.value && (introSlide.value === 4));\n\nlet whatsNewOpenedCount = 0;\nlet whatsNewTimestamp = null as number | null;\nlet whatsNewOpenTimeMs = 0;\nlet introductionOpenedCount = 0;\nlet introductionTimestamp = null as number | null;\nlet introductionOpenTimeMs = 0;\nlet userGuideOpenedCount = 0;\nlet userGuideTimestamp = null as number | null;\nlet userGuideOpenTimeMs = 0;\nlet aboutDataOpenedCount = 0;\nlet aboutDataTimestamp = null as number | null;\nlet aboutDataOpenTimeMs = 0;\nlet creditsOpenedCount = 0;\nlet creditsTimestamp = null as number | null;\nlet creditsOpenTimeMs = 0;\nlet shareButtonClickedCount = 0;\nlet playButtonClickedCount = 0;\nlet timeSliderUsedCount = 0;\nlet opacitySliderUsedCount = 0;\nlet fieldOfRegardToggled = false;\nlet cloudMaskToggled = false;\nlet hiResDataToggled = false;\n\nlet userSelectedCalendarDates: number[] = [];\nlet userSelectedTimezones: string[] = [];\nlet userSelectedLocations: string[] = [];\nlet userSelectedNotableEvents: [string, string][] = [];\n\nconst STORY_DATA_URL = `${API_BASE_URL}/tempo-lite/data`;\nconst storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst optOut = typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst showPrivacyDialog = ref(false);\nconst responseOptOut = ref(optOut);\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\n\nfunction selectSheet(name: SheetType) {\n  if (sheet.value === name) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = name;\n  }\n}\n\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === 'text';\n  },\n  set(_value: boolean) {\n    selectSheet('text');\n  }\n});\n\nconst cssVars = computed(() => {\n  return {\n    '--accent-color': accentColor.value,\n    '--accent-color-2': accentColor2.value,\n    '--app-content-height': showTextSheet.value ? '66%' : '100%',\n  };\n});\n\nconst smallSize = computed(() => {\n  return display.smAndDown.value;\n});\n\nconst mobile = computed(() => {\n  return smallSize.value && touchscreen.value;\n});\n\n\nfunction zpad(n: number, width: number = 2, character: string = \"0\"): string {\n  return n.toString().padStart(width, character);\n}\n\n/************\n * TIMESTAMP SETUP\n ************/\nconst erdTimestamps = ref<number[]>([]);\nconst newTimestamps = ref<number[]>([]);\nconst cloudTimestamps = ref<number[]>([]);\nconst fosterTimestamps = ref<number[]>([\n  1698838920000,\n  1698841320000,\n  1698843720000,\n  1698846120000,\n  1698848520000,\n  1698852120000,\n  1698855720000,\n  1698859320000,\n  1698862920000,\n  1698866520000,\n  1698870120000,\n  1698873720000,\n  1698876120000,\n  1698878520000,\n  1698880920000,\n  1699011720000,\n  1699014120000,\n  1699016520000,\n  1699018920000,\n  1699021320000,\n  1699024920000,\n  1699028520000,\n  1699032120000,\n  1699035720000,\n  1699039320000,\n  1699042920000,\n  1699046520000,\n  1699048920000,\n  1699051320000,\n  1699053720000,\n  1711626180000,\n  1711628640000,\n  1711631040000,\n  1711633440000,\n  1711637040000,\n  1711640640000,\n  1711644240000,\n  1711647840000,\n  1711651440000,\n  1711655040000,\n  1711658640000,\n  1711662240000,\n  1711665840000,\n  1711668240000,\n]);\n\n\nconst timestamps = ref<number[]>(fosterTimestamps.value);\nconst extendedRangeTimestamps = ref<number[]>([]);\nconst showExtendedRange = ref(extendedRange.value);\nconst useHighRes = ref(false);\nconst {\n  timeIndex,\n  timestamp,\n  date,\n  singleDateSelected,\n  maxIndex,\n  minIndex,\n  uniqueDays,\n  uniqueDaysIndex,\n  setNearestDate,\n  moveBackwardOneDay,\n  moveForwardOneDay,\n  nearestDateIndex } = useUniqueTimeSelection(timestamps);\n\nconst timestampsLoaded = ref(false);\nconst fosterTimestampsSet = ref(new Set(fosterTimestamps.value));\nconst erdTimestampsSet = ref(new Set());\nconst newTimestampsSet = ref(new Set());\nconst cloudTimestampsSet = ref(new Set());\nconst extendedRangeTimestampsSet = ref(new Set());\nconst timestampsSet = ref(new Set(fosterTimestamps.value));\n\nasync function updateTimestamps() {\n  return Promise.all([\n    getExtendedRangeTimestamps().then(ts => {\n      extendedRangeTimestamps.value = ts;\n      extendedRangeTimestampsSet.value = new Set(ts);\n    }),\n    getTimestamps().then((ts) => {\n      erdTimestamps.value = ts.early_release;\n      erdTimestampsSet.value = new Set(ts.early_release);\n      newTimestamps.value = ts.released;\n      newTimestampsSet.value = new Set(ts.released);\n      timestamps.value = timestamps.value.concat(erdTimestamps.value, newTimestamps.value).sort();\n      timestampsSet.value = new Set(timestamps.value);\n      cloudTimestamps.value = ts.clouds;\n      cloudTimestampsSet.value = new Set(ts.clouds);\n    })\n  ]);\n}\n\nupdateTimestamps().then(() => { timestampsLoaded.value = true; })\n  .then(() => {\n    if (window.location.hash.includes(\"extreme-events\")) {\n      nextTick(() => {\n        activateExtremeEvents();\n      });\n    }\n  });\n\n\n/************\n * INITIAL LOCATIONS SETUP\n ************/\n\n\nconst initLat = parseFloat(urlParams.get(\"lat\") || '40.044');\nconst initLon = parseFloat(urlParams.get(\"lon\") || '-98.789');\nconst initZoom = parseFloat(urlParams.get(\"zoom\") || '4');\nconst initTime = urlParams.get(\"t\");\nconst initState = ref({\n  loc: [initLat, initLon] as LatLngExpression,\n  zoom: initZoom,\n  t: initTime ? +initTime : null\n});\n\n\nconst homeState = ref({\n  loc: [homeLat, homeLon] as LatLngExpression,\n  zoom: homeZoom,\n  t: null as number | null\n});\n\n\nconst radio = ref<number | null>(null);\nconst sublocationRadio = ref<number | null>(null);\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst { leafletBounds: imageBounds, boundsArray: bounds } = useLeafletBounds(date);\n\n\nconst fieldOfRegardLayer = L.geoJSON(\n  fieldOfRegard as GeoJSON.GeometryCollection,\n  {\n    style: {\n      color: \"#c10124\",\n      fillColor: \"transparent\",\n      weight: 1,\n      opacity: 0.8,\n    },\n  }\n) as L.Layer;\n\n\nconst selectedTimezone = ref(\"US/Eastern\");\nconst playing = ref(false);\nconst playInterval = ref<Timeout | null>(null);\nconst searchOpen = ref(true);\nconst searchErrorMessage = ref<string | null>(null);\nconst showControls = ref(false);\nconst showFieldOfRegard = ref(true);\nconst showCredits = ref(false);\nconst showUserGuide = ref(false);\nconst showAboutData = ref(false);\nconst loadedImagesProgress = ref(0);\n\nconst showLocationMarker = ref(true);\nconst locationMarker = ref<L.Marker | null>(null);\nconst currentUrl = ref(window.location.href);\nconst showChanges = ref(false);\nconst showLADialog = ref(false);\n\n\nconst imageName = computed(() => {\n  return getTempoFilename(date.value);\n});\n\nconst imageUrl = computed(() => {\n  if (customImageUrl.value) {\n    return customImageUrl.value;\n  }\n  const url = getTempoDataUrl(timestamp.value);\n  if (url === null) { return ''; }\n  return url + imageName.value;\n});\n\nconst showClouds = ref(false);\nconst cloudUrl = computed(() => {\n  if (!showClouds.value) {\n    return '';\n  }\n\n  if (cloudTimestampsSet.value.has(timestamp.value)) {\n    return getCloudFilename(date.value);\n  }\n  return '';\n});\n\n\nconst opacity = ref(0.9);\nconst preload = ref(true);\nconst customImageUrl = ref(\"\");\nconst cloudOverlay = useImageOverlay(cloudUrl, opacity, imageBounds);\nconst imageOverlay = useImageOverlay(imageUrl, opacity, imageBounds);\n\nconst cloudDataAvailable = computed(() => {\n  return cloudTimestampsSet.value.has(timestamp.value);\n});\n\nconst whichDataSet = computed(() => {\n  if (fosterTimestampsSet.value.has(timestamp.value)) {\n    return 'TEMPO-lite';\n  }\n\n  if (erdTimestampsSet.value.has(timestamp.value)) {\n    return 'Early Release (V01)';\n  }\n\n  if (newTimestampsSet.value.has(timestamp.value)) {\n    return 'Level 3 (V03)';\n  }\n\n  return 'Unknown';\n});\n\n\nconst highresAvailable = computed(() => {\n  return newTimestampsSet.value.has(timestamp.value);\n});\n\nconst extendedRangeAvailable = computed(() => {\n  return extendedRangeTimestampsSet.value.has(timestamp.value);\n});\n\nconst showingExtendedRange = computed(() => {\n  return showExtendedRangeFeatures && showExtendedRange.value && extendedRangeAvailable.value;\n});\n\nconst onMapReady = (map: Map) => {\n  map.on('moveend', updateURL);\n  map.on('zoomend', updateURL);\n};\nconst { map, setView } = useLeafletMap(\"map\", initState.value, onMapReady);\n\nonMounted(() => {\n  window.addEventListener(\"hashchange\", updateHash);\n  showSplashScreen.value = false;\n\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const zoomHome = L.Control.zoomHome({ homeCoordinates: homeState.value.loc, homeZoom: homeState.value.zoom });\n  const originalZH = zoomHome._zoomHome.bind(zoomHome);\n  zoomHome._zoomHome = (_e: Event) => {\n    originalZH();\n    sublocationRadio.value = null;\n    // check if location marker is not null and on map. if so remove it\n    if (locationMarker.value !== null) {\n      locationMarker.value.remove();\n    }\n  };\n  zoomHome.addTo(map.value);\n\n  singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n  imageOverlay.addTo(map.value as Map);\n  cloudOverlay.addTo(map.value as Map);\n\n  updateFieldOfRegard();\n  if (showFieldOfRegard.value) {\n    fieldOfRegardLayer.addTo(map.value as Map);\n  }\n\n  createUserEntry();\n  window.addEventListener(\"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") {\n      updateUserData();\n    } else {\n      resetData();\n    }\n  });\n  \n});\n\nonBeforeUnmount(() => {\n  // cleanup event handlers\n  if (map.value) {\n    map.value.off('movend');\n    map.value.off('zoomend');\n  }\n});\n\n\nconst datesOfInterest = computed(() => {\n  return interestingEvents.map(event => event.date);\n});\n\nconst dateStrings = computed(() => {\n  return interestingEvents.map(event => event.dateString);\n});\n\nconst locationsOfInterest = computed(() => {\n  return interestingEvents.map(event =>\n    event.locations.map(loc => ({\n      ...loc,\n      index: nearestDateIndex(new Date(loc.time)),\n    }))\n  );\n});\n\nconst locationsOfInterestText = computed(() => {\n  return interestingEvents.map(event =>\n    event.locations.map(loc => loc.description)\n  );\n});\n\nconst dateIsDST = computed(() => {\n  const standardOffset = getTimezoneOffset(selectedTimezone.value, new Date(date.value.getUTCFullYear(), 0, 1));\n  const currentOffset = getTimezoneOffset(selectedTimezone.value, date.value);\n  if (standardOffset === currentOffset) {\n    return false;\n  }\n  return true;\n});\n\nconst timezoneOptions = computed(() => {\n  return [\n    { tz: 'US/Eastern', name: dateIsDST.value ? 'Eastern Daylight' : 'Eastern Standard' },\n    { tz: 'US/Central', name: dateIsDST.value ? 'Central Daylight' : 'Central Standard' },\n    { tz: 'US/Mountain', name: dateIsDST.value ? 'Mountain Daylight' : 'Mountain Standard' },\n    { tz: 'US/Arizona', name: 'Mountain Standard' },\n    { tz: 'US/Pacific', name: dateIsDST.value ? 'Pacific Daylight' : 'Pacific Standard' },\n    { tz: 'US/Alaska', name: dateIsDST.value ? 'Alaska Daylight' : 'Alaska Standard' },\n    { tz: 'UTC', name: 'UTC' },\n  ];\n});\n\n// TODO: Maybe there's a built-in Date function to get this formatting?\nconst thumbLabel = computed(() => {\n  const offset = getTimezoneOffset(selectedTimezone.value, date.value);\n  const dateObj = new Date(timestamp.value + offset);\n  const hours = dateObj.getUTCHours();\n  const amPm = hours >= 12 ? \"PM\" : \"AM\";\n  let hourValue = hours % 12;\n  if (hourValue === 0) {\n    hourValue = 12;\n  }\n  return `${date.value.getUTCMonth() + 1}/${dateObj.getUTCDate()}/${dateObj.getUTCFullYear()} ${hourValue}:${dateObj.getUTCMinutes().toString().padStart(2, '0')} ${amPm}`;\n});\n\n\nfunction setMarker(latlng: L.LatLngExpression) {\n  console.log(L.Icon.Default.prototype.options);\n  const icon = L.icon({\n    ...L.Icon.Default.prototype.options,\n    iconRetinaUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\n    iconUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\n    shadowUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\n  });\n  if (locationMarker.value == null) {\n    locationMarker.value = new L.Marker(latlng, { icon: icon, pane: 'labels', opacity: 0.8 });\n  } else {\n    locationMarker.value.setLatLng(latlng);\n  }\n  if (showLocationMarker.value) {\n    locationMarker.value.addTo(map.value as Map);\n  }\n}\n\n\nfunction updateHash() {\n  if (window.location.hash.includes(\"extreme-events\")) {\n    activateExtremeEvents();\n  }\n}\n\n\nfunction updateURL() {\n  if (map.value) {\n    const center = map.value.getCenter();\n    let stateObj = null as Record<string, string> | null;\n    if (showExtendedRangeFeatures) {\n      stateObj = {\n        lat: `${center.lat.toFixed(4)}`,\n        lon: `${center.lng.toFixed(4)}`,\n        zoom: `${map.value.getZoom()}`,\n        t: `${timestamp.value}`,\n        extendedRange: `${showExtendedRange.value}`\n      };\n    } else {\n      stateObj = {\n        lat: `${center.lat.toFixed(4)}`,\n        lon: `${center.lng.toFixed(4)}`,\n        zoom: `${map.value.getZoom()}`,\n        t: `${timestamp.value}`\n      };\n    }\n    const url = new URL(location.origin);\n    const searchParams = new URLSearchParams(stateObj ?? {});\n    // const hash = window.location.hash;\n    // url.hash = hash;\n    url.pathname = location.pathname;\n    window.history.replaceState(null, '', url.toString());\n    url.search = searchParams.toString();\n    currentUrl.value = url.toString();\n    // window.history.replaceState(stateObj, '', url);\n  }\n}\n\nfunction cmapNO2(x: number): string {\n  const rgb = cbarNO2(0, 1, x);\n  return `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]},1)`;\n}\n\nasync function geocodingInfoForSearchLimited(searchText: string): Promise<MapBoxFeatureCollection | null> {\n  return geocodingInfoForSearch(searchText, {\n    countries: [\"US\", \"CA\", \"MX\", \"CU\", \"BM\", \"HT\", \"DO\"],\n    limit: 10,\n  }).catch(_err => null);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction resetMapBounds() {\n  setView([40.044, -98.789], 4);\n}\n\nfunction setLocationFromSearch(items: [MapBoxFeature | null, string]) {\n  const [feature, text] = items;\n  if (feature !== null) {\n    const coordinates: [number, number] = [feature.center[1], feature.center[0]];\n    map.value?.setView(coordinates, 12);\n    setMarker(coordinates);\n    userSelectedLocations.push(text);\n  }\n}\n\nfunction play() {\n  playInterval.value = setInterval(() => {\n    if (timeIndex.value >= maxIndex.value) {\n      if (playInterval.value) {\n        // clearInterval(this.playInterval);\n        // this.playInterval = null;\n        // let it loop\n        timeIndex.value = minIndex.value;\n      }\n    } else {\n      timeIndex.value += 1;\n    }\n  }, 1000);\n}\n\n\nfunction pause() {\n  if (playInterval.value) {\n    clearInterval(playInterval.value);\n  }\n}\n\n\nfunction getCloudFilename(date: Date): string {\n  const filename = getTempoFilename(date);\n  if (useHighRes.value) {\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/clouds/images/' + filename;\n  } else {\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/clouds/images/resized_images/' + filename;\n  }\n}\n\n\nfunction getTempoFilename(date: Date): string {\n  return `tempo_${date.getUTCFullYear()}-${zpad(date.getUTCMonth() + 1)}-${zpad(date.getUTCDate())}T${zpad(date.getUTCHours())}h${zpad(date.getUTCMinutes())}m.png`;\n}\n\n\nfunction getTempoDataUrl(timestamp: number): string {\n  if (showExtendedRange.value && extendedRangeTimestampsSet.value.has(timestamp)) {\n    if (useHighRes.value) {\n      return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/data_range_0_300/released/images/';\n    }\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/data_range_0_300/released/images/resized_images/';\n  }\n  if (fosterTimestampsSet.value.has(timestamp)) {\n    return 'https://tempo-images-bucket.s3.amazonaws.com/tempo-lite/';\n  }\n\n  if (erdTimestampsSet.value.has(timestamp)) {\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/early_release/images/';\n  }\n\n  if (newTimestampsSet.value.has(timestamp)) {\n    if (useHighRes.value) {\n      return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/released/images/';\n    }\n    return \"https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/released/images/resized_images/\";\n  }\n\n  return '';\n}\n\n\nfunction updateFieldOfRegard() {\n  if (date.value.getUTCFullYear() === 2023 && date.value.getUTCMonth() === 7) {\n    (fieldOfRegardLayer as L.GeoJSON).clearLayers();\n    (fieldOfRegardLayer as L.GeoJSON).addData(augustFieldOfRegard as GeoJSON.GeometryCollection);\n  } else {\n    (fieldOfRegardLayer as L.GeoJSON).clearLayers();\n    (fieldOfRegardLayer as L.GeoJSON).addData(fieldOfRegard as GeoJSON.GeometryCollection);\n  }\n}\n\n\nfunction imagePreload() {\n  if (!preload.value) {\n    return;\n  }\n  // console.log('preloading images for ', this.thumbLabel);\n  const times = timestamps.value.slice(minIndex.value, maxIndex.value + 1);\n  const images = times.map(ts => getTempoDataUrl(ts) + getTempoFilename(new Date(ts)));\n  const cloudImages = times.filter(ts => cloudTimestampsSet.value.has(ts)).map(ts => getCloudFilename(new Date(ts)));\n  images.push(...cloudImages);\n  const promises = _preloadImages(images);\n  let loaded = 0;\n  loadedImagesProgress.value = 0;\n  promises.forEach((promise) => {\n    promise.then(() => {\n      loaded += 1;\n      loadedImagesProgress.value = (loaded / promises.length) * 100;\n    }).catch((err) => {\n      console.error('error loading image', err);\n    });\n  });\n}\n\n\nfunction goToLocationOfInterst(index: number, subindex: number) {\n  if (index < 0 || index >= locationsOfInterest.value.length) {\n    console.warn('Invalid index for location of interest');\n    return;\n  }\n  const loi = locationsOfInterest.value[index][subindex];\n  map.value?.setView(loi.latlng, loi.zoom);\n  if (loi.index !== undefined) {\n    timeIndex.value = loi.index;\n  } else {\n    console.warn('No index found for location of interest');\n  }\n}\n\n\nfunction goToLA() {\n  showLADialog.value = false;\n  const event = interestingEvents.filter(e => e.label == 'LA Wildfires (Jan 8, 2025)');\n  if (event !== undefined && map.value) {\n    const loi = event[0].locations;\n    map.value.setView(loi[0].latlng, loi[0].zoom);\n  }\n}\n\n\nfunction activateLAViewer() {\n  showLADialog.value = true;\n}\n\n\nfunction activateExtremeEvents() {\n  // Find the LA Wildfires event\n  const laWildfireIndex = interestingEvents.findIndex(\n    event => event.label?.includes(\"LA Wildfires\")\n  );\n\n  if (laWildfireIndex !== -1) {\n    // Set the radio to select this event\n    radio.value = laWildfireIndex;\n    // Make sure extended range is on\n    showExtendedRange.value = true;\n  }\n}\n\nfunction onTimeSliderEnd(_value: number) {\n  timeSliderUsedCount += 1; \n}\n\nfunction onOpacitySliderEnd(_value: number) {\n  opacitySliderUsedCount += 1;\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n    }),\n  });\n}\n\nfunction resetData() {\n  whatsNewOpenedCount = 0;\n  introductionOpenedCount = 0;\n  userGuideOpenedCount = 0;\n  aboutDataOpenedCount = 0;\n  creditsOpenedCount = 0;\n  shareButtonClickedCount = 0;\n  playButtonClickedCount = 0;\n  timeSliderUsedCount = 0;\n  opacitySliderUsedCount = 0;\n  userSelectedCalendarDates = [];\n  userSelectedTimezones = [];\n  userSelectedLocations = [];\n  userSelectedNotableEvents = [];\n\n  aboutDataOpenTimeMs = 0;\n  userGuideOpenTimeMs = 0;\n  introductionOpenTimeMs = 0;\n  whatsNewOpenTimeMs = 0;\n  creditsOpenTimeMs = 0;\n  fieldOfRegardToggled = false;\n  cloudMaskToggled = false;\n  hiResDataToggled = false;\n\n  const now = Date.now();\n  creditsTimestamp = showCredits.value ? now : null;\n  aboutDataTimestamp = showAboutData.value ? now : null;\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const creditsTime = (showCredits.value && creditsTimestamp !== null) ? now - creditsTimestamp : creditsOpenTimeMs;\n  const aboutDataTime = (showAboutData.value && aboutDataTimestamp !== null) ? now - aboutDataTimestamp: aboutDataOpenTimeMs;\n  const whatsNewTime = (showChanges.value && whatsNewTimestamp !== null) ? now  - whatsNewTimestamp : whatsNewOpenTimeMs;\n  const introductionTime = (introductionOpen.value && introductionTimestamp !== null) ? now - introductionTimestamp : introductionOpenTimeMs;\n  const userGuideTime = (userGuideOpen.value && userGuideTimestamp !== null) ? now - userGuideTimestamp : userGuideOpenTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_opened_count: whatsNewOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_open_time_ms: whatsNewTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_opened_count: introductionOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_open_time_ms: introductionTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_opened_count: userGuideOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_open_time_ms: userGuideTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_opened_count: aboutDataOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_open_time_ms: aboutDataTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_opened_count: creditsOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_open_time_ms: creditsTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_share_button_clicked_count: shareButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_calendar_dates: userSelectedCalendarDates,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_timezones: userSelectedTimezones,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_locations: userSelectedLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_notable_events: userSelectedNotableEvents,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_play_clicked_count: playButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_time_slider_used_count: timeSliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_opacity_slider_used_count: opacitySliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      field_of_regard_toggled: fieldOfRegardToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      cloud_mask_toggled: cloudMaskToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      high_res_data_toggled: hiResDataToggled,\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nwatch(timestampsLoaded, (loaded: boolean) => {\n  if (loaded) {\n    console.log('timestamps loaded');\n    if (initState.value.t) {\n      let index = uniqueDaysIndex(initState.value.t);\n      if (index == -1) {\n        return;\n      }\n      console.log('set the date');\n      singleDateSelected.value = uniqueDays.value[index];\n      index = nearestDateIndex(new Date(initState.value.t));\n      if (index == -1) {\n        return;\n      }\n      timeIndex.value = index;\n      // FIXME if needed. if we find the time is not being set, use nextTick\n      // this.$nextTick(() => { this.timeIndex = index;});\n    }\n  }\n});\n\nwatch(timestamp, (_val: number) => {\n  updateURL();\n});\n\nwatch(introSlide, (val: number) => {\n  inIntro.value = val < 5;\n});\n\nwatch(dontShowIntro, (val: boolean) => {\n  window.localStorage.setItem(\"dontShowIntro\", val.toString());\n  if (!val) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (value: boolean) => {\n  if (!value) {\n    if (responseOptOut.value === null && !hasOptOutBeenOpened) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(showPrivacyDialog, (show: boolean) => {\n  if (show) {\n    hasOptOutBeenOpened = true;\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (responseOptOut.value !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n\nwatch(loadedImagesProgress, (val: number) => {\n  playing.value = false;\n  const btn = document.querySelector('#play-pause-button');\n  if (btn) {\n    if (val < 100) {\n      btn.setAttribute('disabled', 'true');\n    } else {\n      btn.removeAttribute('disabled');\n    }\n  }\n});\n\nwatch(playing, (val: boolean) => {\n  if (val) {\n    play();\n    playButtonClickedCount += 1;\n  } else {\n    pause();\n  }\n});\n\nwatch(imageUrl, (_url: string) => {\n  updateFieldOfRegard();\n});\n\n// watch(cloudUrl, (_url: string) => {\n//   // nothing to do here.\n// });\n\nwatch(useHighRes, () => {\n  hiResDataToggled = true;\n  imagePreload();\n});\n\nwatch(imageBounds, (bounds: L.LatLngBounds) => {\n  console.log('image bounds change to', whichDataSet.value, bounds.toBBoxString());\n});\n\nwatch(showFieldOfRegard, (show: boolean) => {\n  fieldOfRegardToggled = true;\n  if (show) {\n    fieldOfRegardLayer.addTo(map.value as Map);\n  } else if (map.value) {\n    map.value.removeLayer(fieldOfRegardLayer as L.Layer);\n  }\n});\n\nwatch(showClouds, (_show: boolean) => {\n  cloudMaskToggled = true;\n});\n\nwatch(showLocationMarker, (show: boolean) => {\n  if (locationMarker.value) {\n    if (show) {\n      locationMarker.value.addTo(map.value as Map);\n      return;\n    } else {\n      locationMarker.value.remove();\n      return;\n    }\n  }\n});\n\nwatch(timestamps, () => {\n  singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n});\n\nwatch(radio, (value: number | null) => {\n  if (value == null) {\n    setNearestDate(singleDateSelected.value.getTime());\n    sublocationRadio.value = null;\n    return;\n  }\n  const date = datesOfInterest.value[value] ?? singleDateSelected.value;\n  singleDateSelected.value = date;\n  setNearestDate(date.getTime());\n  if (sublocationRadio.value == 0 && value !== null) {\n    // run this manually as the watcher wouldn't trigger\n    goToLocationOfInterst(value, 0);\n  } else {\n    sublocationRadio.value = 0;\n  }\n});\n\nwatch(singleDateSelected, (value: Date) => {\n  // console.log(`singleDateSelected ${value}`);\n  const timestamp = value.getTime();\n  setNearestDate(timestamp);\n  if (radio.value !== null) {\n    const index = datesOfInterest.value.map(d => d.getTime()).indexOf(timestamp);\n    radio.value = index < 0 ? null : index;\n  }\n  imagePreload();\n});\n\nwatch(sublocationRadio, (value: number | null) => {\n  if (value !== null && radio.value != null) {\n    goToLocationOfInterst(radio.value, value);\n  }\n});\n\n\nwatch(showChanges, (_value: boolean) => {\n  if (showNotice.value) {\n    showNotice.value = false;\n  }\n});\n\nwatch(showExtendedRange, (_value: boolean) => {\n  updateURL();\n  imagePreload();\n});\n\nwatch(showChanges, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    whatsNewTimestamp = now;\n    whatsNewOpenedCount += 1;\n  } else if (whatsNewTimestamp !== null) {\n    whatsNewOpenTimeMs += (now - whatsNewTimestamp);\n    whatsNewTimestamp = null;\n  }\n});\n\nwatch(showAboutData, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    aboutDataTimestamp = now;\n    aboutDataOpenedCount += 1;\n  } else if (aboutDataTimestamp !== null) {\n    aboutDataOpenTimeMs += (now - aboutDataTimestamp);\n    aboutDataTimestamp = null;\n  }\n});\n\nwatch(showCredits, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    creditsTimestamp = now;\n    creditsOpenedCount += 1;\n  } else if (creditsTimestamp !== null) {\n    creditsOpenTimeMs += (now - creditsTimestamp);\n    creditsTimestamp = null;\n  }\n});\n\nwatch(introductionOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    introductionTimestamp = now;\n    introductionOpenedCount += 1;\n  } else if (introductionTimestamp !== null) {\n    introductionOpenTimeMs += (now - introductionTimestamp);\n    introductionTimestamp = null;\n  }\n});\n\nwatch(userGuideOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    userGuideTimestamp = now;\n    userGuideOpenedCount += 1;\n  } else if (userGuideTimestamp !== null) {\n    userGuideOpenTimeMs += (now - userGuideTimestamp);\n    userGuideTimestamp = null;\n  }\n});\n\nconst radioSubloc: ComputedRef<[number | null, number | null]> = computed(() => [radio.value, sublocationRadio.value]); \nwatch(radioSubloc, (item: [number | null, number | null]) => {\n  const radio = item[0];\n  const subRadio = item[1];\n  if (radio === null || subRadio === null) {\n    return [];\n  }\n  const eventText = interestingEvents[radio].label ?? \"\";\n  const subEventText = locationsOfInterest.value[radio][subRadio].text;\n  userSelectedNotableEvents.push([eventText, subEventText]);\n});\n\nwatch(selectedTimezone, (timezone: string) => {\n  userSelectedTimezones.push(timezone);\n});\n\nwatch(singleDateSelected, (date: Date) => {\n  if (!timestampsLoaded.value ) return;\n  userSelectedCalendarDates.push(date.getTime());\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_marquee_alert = _resolveComponent(\"marquee-alert\")!\n  const _component_cds_dialog = _resolveComponent(\"cds-dialog\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_share_button = _resolveComponent(\"share-button\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n  const _component_colorbar_horizontal = _resolveComponent(\"colorbar-horizontal\")!\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\")!\n  const _component_v_slider = _resolveComponent(\"v-slider\")!\n  const _component_info_button = _resolveComponent(\"info-button\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_location_search = _resolveComponent(\"location-search\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_colorbar = _resolveComponent(\"colorbar\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_date_picker = _resolveComponent(\"date-picker\")!\n  const _component_v_radio_group = _resolveComponent(\"v-radio-group\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_radio = _resolveComponent(\"v-radio\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_overlay, {\n        \"model-value\": inIntro.value,\n        style: _normalizeStyle(cssVars.value),\n        id: \"intro-background\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_dialog, {\n            modelValue: inIntro.value,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((inIntro).value = $event))\n          }, {\n            default: _withCtx(() => [\n              (inIntro.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                    _createVNode(_component_v_window, {\n                      modelValue: introSlide.value,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((introSlide).value = $event))\n                    }, {\n                      additional: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_2, [\n                          _createVNode(_component_font_awesome_icon, {\n                            size: \"xl\",\n                            class: \"ma-3\",\n                            color: \"#b3d5e6\",\n                            icon: \"square-xmark\",\n                            onClick: _cache[0] || (_cache[0] = ($event: any) => (inIntro.value = !inIntro.value)),\n                            onKeyup: _cache[1] || (_cache[1] = _withKeys(($event: any) => (inIntro.value = !inIntro.value), [\"enter\"])),\n                            tabindex: \"0\",\n                            \"tooltip-location\": \"start\"\n                          })\n                        ])\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_window_item, {\n                          value: 1,\n                          id: \"splash-screen\"\n                        }, {\n                          default: _withCtx(() => [\n                            _cache[69] || (_cache[69] = _createElementVNode(\"div\", { id: \"first-splash-row\" }, [\n                              _createElementVNode(\"div\", { id: \"splash-screen-text\" }, \" What Is in the Air You Breathe? \"),\n                              _createElementVNode(\"div\", null, \" Explore daily pollution maps over North America and find out. \")\n                            ], -1)),\n                            _createElementVNode(\"div\", null, [\n                              _createVNode(_component_v_btn, {\n                                class: \"splash-get-started\",\n                                onClick: _cache[2] || (_cache[2] = ($event: any) => (introSlide.value++)),\n                                onKeyup: _cache[3] || (_cache[3] = _withKeys(($event: any) => (introSlide.value++), [\"enter\"])),\n                                color: accentColor.value,\n                                density: _unref(display).smAndDown ? 'compact' : 'default',\n                                size: \"x-large\",\n                                variant: \"elevated\",\n                                rounded: \"lg\"\n                              }, {\n                                default: _withCtx(() => _cache[64] || (_cache[64] = [\n                                  _createTextVNode(\" Get Started \")\n                                ])),\n                                _: 1\n                              }, 8, [\"color\", \"density\"])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_3, [\n                              _cache[66] || (_cache[66] = _createTextVNode(\" Brought to you by \")),\n                              _cache[67] || (_cache[67] = _createElementVNode(\"a\", {\n                                href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\"\n                              }, \"Cosmic Data Stories\", -1)),\n                              _cache[68] || (_cache[68] = _createTextVNode(\". \")),\n                              _createElementVNode(\"div\", _hoisted_4, [\n                                _cache[65] || (_cache[65] = _createElementVNode(\"a\", {\n                                  href: \"https://www.si.edu/\",\n                                  target: \"_blank\",\n                                  rel: \"noopener noreferrer\"\n                                }, [\n                                  _createElementVNode(\"img\", {\n                                    alt: \"Smithsonian Logo\",\n                                    src: \"220px-Smithsonian_sun_logo_no_text.svg.png\"\n                                  })\n                                ], -1)),\n                                _createVNode(_component_credit_logos)\n                              ])\n                            ])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_component_v_window_item, { value: 2 }, {\n                          default: _withCtx(() => _cache[70] || (_cache[70] = [\n                            _createElementVNode(\"div\", { class: \"intro-text\" }, [\n                              _createElementVNode(\"p\", { class: \"mb-5\" }, \" The TEMPO satellite mission (Tropospheric Emissions: Monitoring Pollution), launched in April 2023, is the first space-based instrument to measure major air pollutants across the North American continent every daylight hour at high spatial resolution. A collaboration between NASA and the Smithsonian Astrophysical Observatory, the TEMPO instrument gathers hourly daytime scans of the atmosphere over North America from the Atlantic Ocean to the Pacific Coast and from the Yucatán Peninsula to central Canada. \")\n                            ], -1)\n                          ])),\n                          _: 1\n                        }),\n                        _createVNode(_component_v_window_item, { value: 3 }, {\n                          default: _withCtx(() => _cache[71] || (_cache[71] = [\n                            _createElementVNode(\"div\", { class: \"intro-text mb-3\" }, [\n                              _createElementVNode(\"p\", { class: \"mb-3\" }, [\n                                _createTextVNode(\" This Data Story provides an introduction to what can be learned from TEMPO’s data, which became publicly available May 20, 2024. The map here visualizes hourly Nitrogen Dioxide (NO\"),\n                                _createElementVNode(\"sub\", null, \"2\"),\n                                _createTextVNode(\") data over time. NO\"),\n                                _createElementVNode(\"sub\", null, \"2\"),\n                                _createTextVNode(\" can be produced by: \")\n                              ]),\n                              _createElementVNode(\"ul\", null, [\n                                _createElementVNode(\"li\", null, \"Burning of fossil fuels—for example from vehicles, power plants, manufacturing sites, and oil refineries\"),\n                                _createElementVNode(\"li\", null, \"Fires and biomass burning—including wildfires and prescribed burns, as well as burning of vegetation for land clearing\"),\n                                _createElementVNode(\"li\", null, [\n                                  _createTextVNode(\"Bacteria, which naturally convert nitrogen in soil into compounds that can form NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\". Agricultural use of nitrogen-based fertilizers increases the amount of NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" produced by these bacteria.\")\n                                ]),\n                                _createElementVNode(\"li\", null, [\n                                  _createTextVNode(\"Lightning, which triggers a chemical reaction that turns harmless N\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" in the atmosphere into NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\". \")\n                                ])\n                              ]),\n                              _createElementVNode(\"p\", { class: \"mt-3\" }, \" For each date, you can see the scans beginning on the East Coast in the morning, and ending on the West Coast as the Sun sets. \")\n                            ], -1)\n                          ])),\n                          _: 1\n                        }),\n                        _createVNode(_component_v_window_item, { value: 4 }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"div\", _hoisted_5, [\n                              _cache[82] || (_cache[82] = _createElementVNode(\"p\", { class: \"mb-3\" }, \" In this interactive page you can: \", -1)),\n                              _createElementVNode(\"ul\", null, [\n                                _cache[78] || (_cache[78] = _createElementVNode(\"li\", null, \" Use the search box to navigate a location of your choice. \", -1)),\n                                _cache[79] || (_cache[79] = _createElementVNode(\"li\", null, [\n                                  _createTextVNode(\" Select a date and press the “Play” button or scroll the time slider to view the changing concentrations of NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" on those dates. \")\n                                ], -1)),\n                                _createElementVNode(\"li\", null, [\n                                  _cache[73] || (_cache[73] = _createTextVNode(\" Click \")),\n                                  _createVNode(_component_v_icon, { style: {\"color\":\"#ffcc33\"} }, {\n                                    default: _withCtx(() => _cache[72] || (_cache[72] = [\n                                      _createTextVNode(\"mdi-share-variant\")\n                                    ])),\n                                    _: 1\n                                  }),\n                                  _cache[74] || (_cache[74] = _createTextVNode(\" to share your selected location, date, and time with others. \"))\n                                ]),\n                                _createElementVNode(\"li\", {\n                                  style: _normalizeStyle(cssVars.value)\n                                }, [\n                                  _cache[76] || (_cache[76] = _createTextVNode(\" Press the \")),\n                                  _createVNode(_component_v_icon, {\n                                    style: {\"font-size\":\"1.3em\",\"color\":\"var(--accent-color)\"},\n                                    elevation: \"1\"\n                                  }, {\n                                    default: _withCtx(() => _cache[75] || (_cache[75] = [\n                                      _createTextVNode(\"mdi-information-variant-circle-outline\")\n                                    ])),\n                                    _: 1\n                                  }),\n                                  _cache[77] || (_cache[77] = _createTextVNode(\" button next to each Notable Date to get an overview of what to look for on that date \"))\n                                ], 4),\n                                _cache[80] || (_cache[80] = _createElementVNode(\"li\", null, \" For each Notable Date, select one of two zoomed-in Locations to investigate specific pollution events. \", -1)),\n                                _cache[81] || (_cache[81] = _createElementVNode(\"li\", null, \" You can use the “Timezone” setting to investigate how pollution evolves over the day in different parts of the country, for example as rush hour progresses in large cities. \", -1))\n                              ]),\n                              _createVNode(_component_v_checkbox, {\n                                modelValue: dontShowIntro.value,\n                                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((dontShowIntro).value = $event)),\n                                onKeyup: _cache[5] || (_cache[5] = _withKeys(($event: any) => (dontShowIntro.value = !dontShowIntro.value), [\"enter\"])),\n                                label: \"Don't show this introduction at launch\",\n                                color: \"#c10124\",\n                                \"hide-details\": \"\"\n                              }, null, 8, [\"modelValue\"])\n                            ])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"]),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                      _createElementVNode(\"div\", null, [\n                        ((introSlide.value > 1))\n                          ? (_openBlock(), _createBlock(_component_v_btn, {\n                              key: 0,\n                              id: \"intro-next-button\",\n                              color: accentColor.value,\n                              onClick: _cache[7] || (_cache[7] = ($event: any) => (introSlide.value--)),\n                              onKeyup: _cache[8] || (_cache[8] = _withKeys(($event: any) => (introSlide.value--), [\"enter\"])),\n                              elevation: \"0\"\n                            }, {\n                              default: _withCtx(() => _cache[83] || (_cache[83] = [\n                                _createTextVNode(\" Back \")\n                              ])),\n                              _: 1\n                            }, 8, [\"color\"]))\n                          : _createCommentVNode(\"\", true)\n                      ]),\n                      ((introSlide.value > 1))\n                        ? (_openBlock(), _createBlock(_component_v_btn, {\n                            key: 0,\n                            id: \"intro-next-button\",\n                            color: accentColor.value,\n                            onClick: _cache[9] || (_cache[9] = ($event: any) => (introSlide.value++)),\n                            onKeyup: _cache[10] || (_cache[10] = _withKeys(($event: any) => (introSlide.value++), [\"enter\"])),\n                            elevation: \"0\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(introSlide.value < 4 ? 'Next' : 'Get Started'), 1)\n                            ]),\n                            _: 1\n                          }, 8, [\"color\"]))\n                        : _createCommentVNode(\"\", true)\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }, 8, [\"model-value\", \"style\"]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        (smallSize.value && showExtendedRangeFeatures && extendedRangeAvailable.value)\n          ? (_openBlock(), _createBlock(_component_marquee_alert, {\n              key: 0,\n              timeout: \"30000\",\n              message: \"You can view data with an extend range for the \\n            duration of the LA fires. See the 🔥 button on the map\"\n            }))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _cache[95] || (_cache[95] = _createElementVNode(\"a\", {\n              href: \"https://tempo.si.edu\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\"\n            }, [\n              _createElementVNode(\"img\", {\n                src: _imports_0,\n                alt: \"TEMPO Logo\",\n                style: {\"width\":\"100px\",\"height\":\"100px\"}\n              })\n            ], -1)),\n            _cache[96] || (_cache[96] = _createElementVNode(\"h1\", { id: \"title\" }, \"What is in the Air You Breathe?\", -1)),\n            _createVNode(_component_cds_dialog, {\n              title: \"What's new\",\n              modelValue: showChanges.value,\n              \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((showChanges).value = $event)),\n              color: accentColor2.value\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"ul\", _hoisted_10, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(changes), (change) => {\n                    return (_openBlock(), _createElementBlock(\"li\", {\n                      class: \"change-item mb-5\",\n                      key: change.date,\n                      \"data-date\": change.date\n                    }, [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({\"font-weight\":\"bold\", \"color\": `${change.highlight ? \"var(--smithsonian-yellow)\" : \"currentColor\"}` })\n                      }, _toDisplayString(change.date), 5),\n                      _cache[84] || (_cache[84] = _createElementVNode(\"br\", null, null, -1)),\n                      _cache[85] || (_cache[85] = _createTextVNode()),\n                      _createElementVNode(\"span\", {\n                        innerHTML: change.html\n                      }, null, 8, _hoisted_12),\n                      _createTextVNode(_toDisplayString(change.text), 1)\n                    ], 8, _hoisted_11))\n                  }), 128))\n                ])\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"color\"]),\n            _createElementVNode(\"div\", _hoisted_13, [\n              ((new Date('2025-05-7 00:00:00') > new Date()))\n                ? (_openBlock(), _createBlock(_component_v_btn, {\n                    key: 0,\n                    class: \"whats-new-button pulse\",\n                    \"aria-label\": \"What's new\",\n                    onClick: _cache[13] || (_cache[13] = ($event: any) => (showChanges.value = true)),\n                    onKeyup: _cache[14] || (_cache[14] = _withKeys(($event: any) => (showChanges.value = true), [\"enter\"])),\n                    variant: \"outlined\",\n                    rounded: \"lg\",\n                    color: accentColor2.value,\n                    elevation: \"0\",\n                    size: \"lg\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_tooltip, {\n                        location: \"bottom\",\n                        activator: \"parent\",\n                        disabled: mobile.value,\n                        text: \"What's new\"\n                      }, null, 8, [\"disabled\"]),\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[86] || (_cache[86] = [\n                          _createTextVNode(\"mdi-creation\")\n                        ])),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"color\"]))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_share_button, {\n                source: currentUrl.value,\n                buttonColor: \"black\",\n                iconColor: accentColor2.value,\n                elevation: \"0\",\n                size: \"small\",\n                rounded: \"1\",\n                \"tooltip-disabled\": mobile.value,\n                onClick: _cache[15] || (_cache[15] = ($event: any) => (_isRef(shareButtonClickedCount) //@ts-ignore\n ? shareButtonClickedCount.value += 1 : shareButtonClickedCount += 1)),\n                alert: \"\"\n              }, null, 8, [\"source\", \"iconColor\", \"tooltip-disabled\"]),\n              _createVNode(_component_v_btn, {\n                \"aria-role\": \"menu\",\n                \"aria-label\": \"Show menu\",\n                class: \"menu-button\",\n                variant: \"outlined\",\n                rounded: \"lg\",\n                color: accentColor2.value,\n                elevation: \"5\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_icon, { size: \"x-large\" }, {\n                    default: _withCtx(() => _cache[87] || (_cache[87] = [\n                      _createTextVNode(\"mdi-menu\")\n                    ])),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_menu, { activator: \"parent\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_list, null, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"See recent changes\",\n                            onClick: _cache[16] || (_cache[16] = ($event: any) => (showChanges.value = true)),\n                            onKeyup: _cache[17] || (_cache[17] = _withKeys(($event: any) => (showChanges.value = true), [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => _cache[88] || (_cache[88] = [\n                              _createTextVNode(\" What's New \")\n                            ])),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show introduction\",\n                            onClick: _cache[18] || (_cache[18] = () => {introSlide.value = 1; inIntro.value = true;}),\n                            onKeyup: _cache[19] || (_cache[19] = _withKeys(() => {introSlide.value = 1; inIntro.value = true;}, [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => _cache[89] || (_cache[89] = [\n                              _createTextVNode(\" Introduction \")\n                            ])),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show user guide\",\n                            onClick: _cache[20] || (_cache[20] = () => {introSlide.value = 4; inIntro.value = true;}),\n                            onKeyup: _cache[21] || (_cache[21] = _withKeys(() => {introSlide.value = 4; inIntro.value = true;}, [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => _cache[90] || (_cache[90] = [\n                              _createTextVNode(\" User Guide \")\n                            ])),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show dialog telling about the data\",\n                            onClick: _cache[22] || (_cache[22] = ($event: any) => (showAboutData.value = true)),\n                            onKeyup: _cache[23] || (_cache[23] = _withKeys(($event: any) => (showAboutData.value = true), [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => _cache[91] || (_cache[91] = [\n                              _createTextVNode(\" About the Data \")\n                            ])),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, { \"aria-label\": \"Leave Page to Educator Resources\" }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"a\", _hoisted_14, [\n                                _cache[93] || (_cache[93] = _createTextVNode(\"Educator Resources\")),\n                                _createVNode(_component_v_icon, null, {\n                                  default: _withCtx(() => _cache[92] || (_cache[92] = [\n                                    _createTextVNode(\"mdi-open-in-new\")\n                                  ])),\n                                  _: 1\n                                })\n                              ])\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_list_item, {\n                            tabindex: \"0\",\n                            \"aria-label\": \"Show credits\",\n                            onClick: _cache[24] || (_cache[24] = ($event: any) => (showCredits.value = true)),\n                            onKeyup: _cache[25] || (_cache[25] = _withKeys(($event: any) => (showCredits.value = true), [\"enter\"]))\n                          }, {\n                            default: _withCtx(() => _cache[94] || (_cache[94] = [\n                              _createTextVNode(\" Credits \")\n                            ])),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }, 8, [\"color\"])\n            ])\n          ]),\n          _cache[151] || (_cache[151] = _createElementVNode(\"div\", {\n            id: \"where\",\n            class: \"big-label\"\n          }, \"where\", -1)),\n          _createElementVNode(\"div\", _hoisted_15, [\n            (_unref(display).width.value <= 750)\n              ? (_openBlock(), _createBlock(_component_colorbar_horizontal, {\n                  key: 0,\n                  label: \"Amount of NO2\",\n                  backgroundColor: \"transparent\",\n                  nsteps: 255,\n                  cmap: cmapNO2,\n                  \"start-value\": \"1\",\n                  \"end-value\": showingExtendedRange.value ? '300' : '150',\n                  extend: true\n                }, {\n                  label: _withCtx(() => _cache[97] || (_cache[97] = [\n                    _createElementVNode(\"div\", { style: {\"text-align\":\"center\"} }, [\n                      _createTextVNode(\"Amount of NO₂ \"),\n                      _createElementVNode(\"span\", { class: \"unit-label\" }, \"(10¹⁴ mol/cm²)\")\n                    ], -1)\n                  ])),\n                  _: 1\n                }, 8, [\"end-value\"]))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"div\", _hoisted_16, [\n              _createElementVNode(\"div\", _hoisted_17, [\n                _createVNode(_component_v_overlay, {\n                  modelValue: loadedImagesProgress.value < 100,\n                  style: {\"z-index\":\"1000\"},\n                  class: \"align-center justify-center\",\n                  contained: \"\",\n                  opacity: \".8\"\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_18, [\n                      _cache[98] || (_cache[98] = _createElementVNode(\"label\", {\n                        class: \"text-black\",\n                        for: \"loading-circle-progress\"\n                      }, \"Loading Data...\", -1)),\n                      _createVNode(_component_v_progress_circular, {\n                        id: \"loading-circle-progress\",\n                        style: {\"z-index\":\"1000\"},\n                        size: 100,\n                        width: 15,\n                        \"model-value\": loadedImagesProgress.value,\n                        color: \"#092088\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(loadedImagesProgress.value.toFixed(0)) + \"% \", 1)\n                        ]),\n                        _: 1\n                      }, 8, [\"model-value\"])\n                    ])\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              (showFieldOfRegard.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, _cache[99] || (_cache[99] = [\n                    _createElementVNode(\"hr\", { class: \"line-legend\" }, null, -1),\n                    _createTextVNode(\"TEMPO Field of Regard\")\n                  ])))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_v_menu, {\n                id: \"map-controls\",\n                modelValue: showControls.value,\n                \"onUpdate:modelValue\": _cache[37] || (_cache[37] = ($event: any) => ((showControls).value = $event)),\n                \"close-on-content-click\": false\n              }, {\n                activator: _withCtx(({ props }) => [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createVNode(_component_v_btn, _mergeProps(props, {\n                      class: \"mx-2 mt-5\",\n                      elevation: \"2\",\n                      color: \"white\",\n                      icon: \"\",\n                      style: {\"outline\":\"2px solid #b6b6b6\"},\n                      rounded: \"0\",\n                      size: \"x-small\"\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          color: \"black\",\n                          size: \"x-large\"\n                        }, {\n                          default: _withCtx(() => _cache[100] || (_cache[100] = [\n                            _createTextVNode(\"mdi-tune-variant\")\n                          ])),\n                          _: 1\n                        })\n                      ]),\n                      _: 2\n                    }, 1040)\n                  ])\n                ]),\n                default: _withCtx(() => [\n                  _createVNode(_component_v_card, { class: \"controls-card\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_font_awesome_icon, {\n                        style: {\"position\":\"absolute\",\"right\":\"16px\",\"cursor\":\"pointer\"},\n                        icon: \"square-xmark\",\n                        size: \"xl\",\n                        onClick: _cache[26] || (_cache[26] = ($event: any) => (showControls.value = false)),\n                        onKeyup: _cache[27] || (_cache[27] = _withKeys(($event: any) => (showControls.value = false), [\"enter\"])),\n                        color: accentColor2.value,\n                        tabindex: \"0\"\n                      }, null, 8, [\"color\"]),\n                      _createElementVNode(\"div\", _hoisted_21, [\n                        _cache[101] || (_cache[101] = _createElementVNode(\"div\", { id: \"opacity-slider-label\" }, \"TEMPO data opacity\", -1)),\n                        _createVNode(_component_v_slider, {\n                          modelValue: opacity.value,\n                          \"onUpdate:modelValue\": _cache[28] || (_cache[28] = ($event: any) => ((opacity).value = $event)),\n                          min: 0,\n                          max: 1,\n                          color: \"#c10124\",\n                          density: \"compact\",\n                          \"hide-details\": \"\",\n                          class: \"mb-4\",\n                          onEnd: onOpacitySliderEnd\n                        }, null, 8, [\"modelValue\"])\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_22, [\n                        _createVNode(_component_v_checkbox, {\n                          modelValue: showFieldOfRegard.value,\n                          \"onUpdate:modelValue\": _cache[29] || (_cache[29] = ($event: any) => ((showFieldOfRegard).value = $event)),\n                          onKeyup: _cache[30] || (_cache[30] = _withKeys(($event: any) => (showFieldOfRegard.value = !showFieldOfRegard.value), [\"enter\"])),\n                          label: \"TEMPO Field of Regard\",\n                          color: \"#c10124\",\n                          \"hide-details\": \"\"\n                        }, null, 8, [\"modelValue\"]),\n                        _createVNode(_component_info_button, null, {\n                          default: _withCtx(() => [\n                            _cache[106] || (_cache[106] = _createElementVNode(\"p\", null, \" The TEMPO satellite observes the atmosphere over North America, from the Atlantic Ocean to the Pacific Coast, and from roughly Mexico City to central Canada. \", -1)),\n                            _createElementVNode(\"p\", null, [\n                              _cache[102] || (_cache[102] = _createTextVNode(\" The TEMPO Field of Regard (in \")),\n                              _cache[103] || (_cache[103] = _createElementVNode(\"span\", { class: \"text-red\" }, \"red\", -1)),\n                              _cache[104] || (_cache[104] = _createTextVNode(\", currently \")),\n                              _createElementVNode(\"em\", null, _toDisplayString(showFieldOfRegard.value ? 'visible' : \"hidden\"), 1),\n                              _cache[105] || (_cache[105] = _createTextVNode(\") is the area over which the satellite takes measurements. \"))\n                            ])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_23, [\n                        _createVNode(_component_v_checkbox, {\n                          modelValue: showClouds.value,\n                          \"onUpdate:modelValue\": _cache[31] || (_cache[31] = ($event: any) => ((showClouds).value = $event)),\n                          onKeyup: _cache[32] || (_cache[32] = _withKeys(($event: any) => (showClouds.value = !showClouds.value), [\"enter\"])),\n                          disabled: !cloudDataAvailable.value,\n                          label: cloudDataAvailable.value ? 'Show Cloud Mask' : 'No Cloud Data Available',\n                          color: \"#c10124\",\n                          \"hide-details\": \"\"\n                        }, null, 8, [\"modelValue\", \"disabled\", \"label\"]),\n                        _createVNode(_component_info_button, null, {\n                          default: _withCtx(() => _cache[107] || (_cache[107] = [\n                            _createElementVNode(\"p\", null, [\n                              _createTextVNode(\" The cloud mask shows where the satellite could not measure NO\"),\n                              _createElementVNode(\"sub\", null, \"2\"),\n                              _createTextVNode(\" because of cloud cover. \")\n                            ], -1)\n                          ])),\n                          _: 1\n                        })\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_24, [\n                        _createVNode(_component_v_checkbox, {\n                          disabled: !highresAvailable.value,\n                          modelValue: useHighRes.value,\n                          \"onUpdate:modelValue\": _cache[33] || (_cache[33] = ($event: any) => ((useHighRes).value = $event)),\n                          onKeyup: _cache[34] || (_cache[34] = _withKeys(($event: any) => (useHighRes.value = !useHighRes.value), [\"enter\"])),\n                          label: \"Use High Resolution Data\",\n                          color: \"#c10124\",\n                          \"hide-details\": \"\"\n                        }, null, 8, [\"disabled\", \"modelValue\"]),\n                        _createVNode(_component_info_button, null, {\n                          default: _withCtx(() => _cache[108] || (_cache[108] = [\n                            _createElementVNode(\"p\", null, \" By default we show data at 1/2 resolution for performance. \", -1)\n                          ])),\n                          _: 1\n                        })\n                      ]),\n                      (showExtendedRangeFeatures && extendedRangeAvailable.value)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [\n                            _createVNode(_component_v_checkbox, {\n                              disabled: !extendedRangeAvailable.value,\n                              modelValue: showExtendedRange.value,\n                              \"onUpdate:modelValue\": _cache[35] || (_cache[35] = ($event: any) => ((showExtendedRange).value = $event)),\n                              onKeyup: _cache[36] || (_cache[36] = _withKeys(($event: any) => (showExtendedRange.value = !showExtendedRange.value), [\"enter\"])),\n                              label: \"Use Extended NO2 range\",\n                              color: \"#c10124\",\n                              \"hide-details\": \"\"\n                            }, null, 8, [\"disabled\", \"modelValue\"]),\n                            _createVNode(_component_info_button, null, {\n                              default: _withCtx(() => _cache[109] || (_cache[109] = [\n                                _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" If data is available, show map with extended range of NO\"),\n                                  _createElementVNode(\"sub\", null, \"2\"),\n                                  _createTextVNode(\" values. \")\n                                ], -1)\n                              ])),\n                              _: 1\n                            })\n                          ]))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"]),\n              _createElementVNode(\"div\", _hoisted_26, [\n                _createVNode(_component_location_search, {\n                  modelValue: searchOpen.value,\n                  \"onUpdate:modelValue\": _cache[38] || (_cache[38] = ($event: any) => ((searchOpen).value = $event)),\n                  small: \"\",\n                  \"stay-open\": \"\",\n                  buttonSize: \"xl\",\n                  \"persist-selected\": \"\",\n                  \"search-provider\": geocodingInfoForSearchLimited,\n                  onSetLocation: setLocationFromSearch,\n                  onError: _cache[39] || (_cache[39] = (error) => searchErrorMessage.value = error)\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _createElementVNode(\"div\", _hoisted_27, [\n                (!smallSize.value && extendedRangeAvailable.value)\n                  ? (_openBlock(), _createBlock(_component_v_btn, {\n                      key: 0,\n                      onClick: activateLAViewer,\n                      onKeyup: _withKeys(activateLAViewer, [\"enter\"])\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(extendedRangeAvailable.value ? (showExtendedRange.value ? \"Showing extended range\" : \"Use extreme events range\") : \"No extended range images available for this date\"), 1)\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true),\n                (smallSize.value && showExtendedRangeFeatures && extendedRangeAvailable.value)\n                  ? (_openBlock(), _createBlock(_component_v_btn, {\n                      key: 1,\n                      onClick: activateLAViewer,\n                      onKeyup: _withKeys(activateLAViewer, [\"enter\"]),\n                      icon: \"\"\n                    }, {\n                      default: _withCtx(() => _cache[110] || (_cache[110] = [\n                        _createTextVNode(\" 🔥 \")\n                      ])),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_component_cds_dialog, {\n                  title: \"Extreme Events\",\n                  modelValue: showLADialog.value,\n                  \"onUpdate:modelValue\": _cache[41] || (_cache[41] = ($event: any) => ((showLADialog).value = $event)),\n                  color: accentColor2.value\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_row, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_col, null, {\n                          default: _withCtx(() => [\n                            _cache[111] || (_cache[111] = _createElementVNode(\"p\", null, [\n                              _createTextVNode(\" Some events like the January 2025 Los Angeles fires generate so much smoke and pollution that NO\"),\n                              _createElementVNode(\"sub\", null, \"2\"),\n                              _createTextVNode(\" levels can greatly exceed the default range used in the color scale for the TEMPO-lite viewer. To show more clearly where the very highest levels of NO\"),\n                              _createElementVNode(\"sub\", null, \"2\"),\n                              _createTextVNode(\" are present, you can use an extended color stretch. \")\n                            ], -1)),\n                            _cache[112] || (_cache[112] = _createElementVNode(\"p\", null, [\n                              _createTextVNode(\" By default we display values from 0.01-1.5×10\"),\n                              _createElementVNode(\"sup\", null, \"16\"),\n                              _createTextVNode(\" molecules per square centimeter, check the box here to double the max of the range to 3×10\"),\n                              _createElementVNode(\"sup\", null, \"16\"),\n                              _createTextVNode(\" molecules per square centimeter. The extended range will be available on dates with extreme events like the Los Angeles fire outbreaks. \")\n                            ], -1)),\n                            _createVNode(_component_v_checkbox, {\n                              modelValue: showExtendedRange.value,\n                              \"onUpdate:modelValue\": _cache[40] || (_cache[40] = ($event: any) => ((showExtendedRange).value = $event)),\n                              label: \"Use extended data range\"\n                            }, null, 8, [\"modelValue\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_row, { class: \"justify-center\" }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_btn, {\n                          color: accentColor2.value,\n                          onClick: goToLA,\n                          onKeyup: _withKeys(goToLA, [\"enter\"])\n                        }, {\n                          default: _withCtx(() => _cache[113] || (_cache[113] = [\n                            _createTextVNode(\" Go To Los Angeles\")\n                          ])),\n                          _: 1\n                        }, 8, [\"color\"])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\"])\n              ])\n            ]),\n            (_unref(display).width.value > 750)\n              ? (_openBlock(), _createBlock(_component_colorbar, {\n                  key: 1,\n                  label: \"Amount of NO2\",\n                  backgroundColor: \"transparent\",\n                  nsteps: 255,\n                  cmap: cmapNO2,\n                  \"start-value\": \"1\",\n                  \"end-value\": showingExtendedRange.value ? '300' : '150',\n                  extend: true\n                }, {\n                  label: _withCtx(() => _cache[114] || (_cache[114] = [\n                    _createElementVNode(\"div\", { style: {\"text-align\":\"center\"} }, [\n                      _createTextVNode(\"Amount of NO₂\"),\n                      _createElementVNode(\"br\"),\n                      _createElementVNode(\"span\", { class: \"unit-label\" }, \"(10¹⁴ molecules/cm²)\")\n                    ], -1)\n                  ])),\n                  _: 1\n                }, 8, [\"end-value\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _cache[152] || (_cache[152] = _createElementVNode(\"div\", {\n            id: \"when\",\n            class: \"big-label\"\n          }, \"when\", -1)),\n          _createElementVNode(\"div\", _hoisted_28, [\n            _createVNode(_component_v_slider, {\n              class: \"time-slider\",\n              modelValue: _unref(timeIndex),\n              \"onUpdate:modelValue\": _cache[42] || (_cache[42] = ($event: any) => (_isRef(timeIndex) ? (timeIndex).value = $event : null)),\n              min: _unref(minIndex),\n              max: _unref(maxIndex),\n              step: 1,\n              color: \"#068ede95\",\n              \"thumb-label\": \"always\",\n              \"track-size\": 10,\n              \"show-ticks\": \"always\",\n              \"hide-details\": \"\",\n              disabled: loadedImagesProgress.value < 100,\n              onEnd: onTimeSliderEnd\n            }, {\n              \"thumb-label\": _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_29, _toDisplayString(thumbLabel.value), 1)\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"min\", \"max\", \"disabled\"]),\n            _createVNode(_component_icon_button, {\n              id: \"play-pause\",\n              \"fa-icon\": playing.value ? 'pause' : 'play',\n              \"fa-size\": \"sm\",\n              onActivate: _cache[43] || (_cache[43] = ($event: any) => (playing.value = !playing.value))\n            }, null, 8, [\"fa-icon\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_30, [\n            _createElementVNode(\"div\", _hoisted_31, [\n              _cache[118] || (_cache[118] = _createElementVNode(\"h2\", null, \"Select a Date\", -1)),\n              _createElementVNode(\"div\", _hoisted_32, [\n                _createVNode(_component_v_radio_group, {\n                  modelValue: radio.value,\n                  \"onUpdate:modelValue\": _cache[47] || (_cache[47] = ($event: any) => ((radio).value = $event))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_date_picker, {\n                      ref_key: \"calendar\",\n                      ref: calendar,\n                      \"model-value\": _unref(singleDateSelected),\n                      onInternalModelChange: _cache[46] || (_cache[46] = (value) => {\n                  if (value != null && value.getTime() != _unref(singleDateSelected).getTime()) {\n                    radio.value = null;\n                    singleDateSelected.value = value;\n                    calendar.value?.closeMenu();\n                  }\n                }),\n                      \"allowed-dates\": _unref(uniqueDays),\n                      clearable: false,\n                      \"enable-time-picker\": false,\n                      \"multi-dates\": false,\n                      transitions: false,\n                      format: (date) => date?.toDateString(),\n                      \"preview-format\": (date) => date?.toDateString(),\n                      \"no-today\": \"\",\n                      dark: \"\"\n                    }, {\n                      \"action-buttons\": _withCtx(() => [\n                        _createElementVNode(\"button\", {\n                          class: \"dp__action_button dp__action-latest\",\n                          onClick: _cache[44] || (_cache[44] = () => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1]),\n                          onKeyup: _cache[45] || (_cache[45] = _withKeys(() => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1], [\"enter\"])),\n                          disabled: _unref(singleDateSelected) === _unref(uniqueDays)[_unref(uniqueDays).length - 1],\n                          elevation: \"0\",\n                          size: \"sm\"\n                        }, \" Latest \", 40, _hoisted_33)\n                      ]),\n                      _: 1\n                    }, 8, [\"model-value\", \"allowed-dates\", \"format\", \"preview-format\"])\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _createElementVNode(\"div\", _hoisted_34, [\n                _createVNode(_component_v_tooltip, {\n                  disabled: touchscreen.value,\n                  text: \"Previous Date\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps(props, {\n                      class: \"rounded-icon-wrapper\",\n                      onClick: _unref(moveBackwardOneDay),\n                      onKeyup: _withKeys(_unref(moveBackwardOneDay), [\"enter\"]),\n                      disabled: _unref(singleDateSelected) === _unref(uniqueDays)[0],\n                      color: \"#009ade\",\n                      variant: \"outlined\",\n                      elevation: \"0\",\n                      size: \"md\"\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, null, {\n                          default: _withCtx(() => _cache[115] || (_cache[115] = [\n                            _createTextVNode(\"mdi-chevron-double-left\")\n                          ])),\n                          _: 1\n                        })\n                      ]),\n                      _: 2\n                    }, 1040, [\"onClick\", \"onKeyup\", \"disabled\"])\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"]),\n                _createVNode(_component_v_spacer),\n                _createVNode(_component_v_tooltip, {\n                  disabled: touchscreen.value,\n                  text: \"Get Data for latest available day\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps(props, {\n                      style: {\"padding-inline\":\"4px\"},\n                      onClick: _cache[48] || (_cache[48] = () => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1]),\n                      onKeyup: _cache[49] || (_cache[49] = _withKeys(() => singleDateSelected.value = _unref(uniqueDays)[_unref(uniqueDays).length - 1], [\"enter\"])),\n                      disabled: _unref(singleDateSelected) === _unref(uniqueDays)[_unref(uniqueDays).length - 1],\n                      color: \"#009ade\",\n                      variant: \"outlined\",\n                      elevation: \"0\",\n                      size: \"md\"\n                    }), {\n                      default: _withCtx(() => _cache[116] || (_cache[116] = [\n                        _createTextVNode(\" Latest Data \")\n                      ])),\n                      _: 2\n                    }, 1040, [\"disabled\"])\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"]),\n                _createVNode(_component_v_spacer),\n                _createVNode(_component_v_tooltip, {\n                  disabled: touchscreen.value,\n                  text: \"Next Date\"\n                }, {\n                  activator: _withCtx(({ props }) => [\n                    _createVNode(_component_v_btn, _mergeProps(props, {\n                      class: \"rounded-icon-wrapper\",\n                      onClick: _unref(moveForwardOneDay),\n                      onKeyup: _withKeys(_unref(moveForwardOneDay), [\"enter\"]),\n                      disabled: _unref(singleDateSelected) === _unref(uniqueDays)[_unref(uniqueDays).length - 1],\n                      color: \"#009ade\",\n                      variant: \"outlined\",\n                      elevation: \"0\",\n                      size: \"md\"\n                    }), {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_icon, null, {\n                          default: _withCtx(() => _cache[117] || (_cache[117] = [\n                            _createTextVNode(\"mdi-chevron-double-right\")\n                          ])),\n                          _: 1\n                        })\n                      ]),\n                      _: 2\n                    }, 1040, [\"onClick\", \"onKeyup\", \"disabled\"])\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"])\n              ]),\n              (loadedImagesProgress.value < 101)\n                ? (_openBlock(), _createBlock(_component_v_progress_linear, {\n                    key: 0,\n                    modelValue: loadedImagesProgress.value,\n                    \"onUpdate:modelValue\": _cache[50] || (_cache[50] = ($event: any) => ((loadedImagesProgress).value = $event)),\n                    color: \"#092088\",\n                    height: \"20\"\n                  }, {\n                    default: _withCtx(() => [\n                      (loadedImagesProgress.value < 100)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_35, \"Loading Data (\" + _toDisplayString(loadedImagesProgress.value.toFixed(0)) + \"%)\", 1))\n                        : (_openBlock(), _createElementBlock(\"span\", _hoisted_36, \"Data Loaded\"))\n                    ]),\n                    _: 1\n                  }, 8, [\"modelValue\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _cache[121] || (_cache[121] = _createElementVNode(\"hr\", { style: {\"border-color\":\"grey\"} }, null, -1)),\n            _createElementVNode(\"div\", _hoisted_37, [\n              _cache[119] || (_cache[119] = _createElementVNode(\"h2\", null, \"Notable Dates\", -1)),\n              _createVNode(_component_v_radio_group, {\n                modelValue: radio.value,\n                \"onUpdate:modelValue\": _cache[51] || (_cache[51] = ($event: any) => ((radio).value = $event)),\n                row: \"\"\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(interestingEvents), (event, index) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: index,\n                      class: \"d-flex flex-row align-center\"\n                    }, [\n                      _createVNode(_component_v_radio, {\n                        class: _normalizeClass(event.highlighted ? 'highlighted' : ''),\n                        label: event.label,\n                        value: index,\n                        onKeyup: _withKeys(($event: any) => (radio.value = index), [\"enter\"])\n                      }, null, 8, [\"class\", \"label\", \"value\", \"onKeyup\"]),\n                      _createVNode(_component_info_button, null, {\n                        default: _withCtx(() => [\n                          _createElementVNode(\"div\", {\n                            style: {\"display\":\"inline-block\",\"margin\":\"0\",\"padding\":\"0\"},\n                            innerHTML: event.info\n                          }, null, 8, _hoisted_38)\n                        ]),\n                        _: 2\n                      }, 1024)\n                    ]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            (radio.value !== null )\n              ? (_openBlock(), _createElementBlock(\"hr\", _hoisted_39))\n              : _createCommentVNode(\"\", true),\n            (radio.value !== null)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, [\n                  _createElementVNode(\"h3\", _hoisted_41, \"Featured Events for \" + _toDisplayString(dateStrings.value[radio.value]), 1),\n                  (radio.value !== null)\n                    ? (_openBlock(), _createBlock(_component_v_radio_group, {\n                        key: 0,\n                        modelValue: sublocationRadio.value,\n                        \"onUpdate:modelValue\": _cache[52] || (_cache[52] = ($event: any) => ((sublocationRadio).value = $event)),\n                        row: \"\"\n                      }, {\n                        default: _withCtx(() => [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(locationsOfInterest.value[radio.value], (loi, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                              key: index,\n                              class: \"sublocation-radio-wrapper d-flex flex-row align-center space-between\"\n                            }, [\n                              _createVNode(_component_v_radio, {\n                                class: \"sublocation-radio\",\n                                label: loi.text,\n                                value: index,\n                                onKeyup: _withKeys(($event: any) => (sublocationRadio.value = index), [\"enter\"])\n                              }, null, 8, [\"label\", \"value\", \"onKeyup\"]),\n                              _createVNode(_component_info_button, null, {\n                                default: _withCtx(() => [\n                                  _createElementVNode(\"p\", {\n                                    innerHTML: locationsOfInterestText.value[radio.value][index]\n                                  }, null, 8, _hoisted_42)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]))\n                          }), 128))\n                        ]),\n                        _: 1\n                      }, 8, [\"modelValue\"]))\n                    : _createCommentVNode(\"\", true)\n                ]))\n              : _createCommentVNode(\"\", true),\n            _cache[122] || (_cache[122] = _createElementVNode(\"hr\", { style: {\"border-color\":\"grey\"} }, null, -1)),\n            _createElementVNode(\"div\", _hoisted_43, [\n              _cache[120] || (_cache[120] = _createElementVNode(\"br\", null, null, -1)),\n              _createVNode(_component_v_select, {\n                modelValue: selectedTimezone.value,\n                \"onUpdate:modelValue\": _cache[53] || (_cache[53] = ($event: any) => ((selectedTimezone).value = $event)),\n                label: \"Timezone\",\n                items: timezoneOptions.value,\n                \"item-title\": \"name\",\n                \"item-value\": \"tz\"\n              }, null, 8, [\"modelValue\", \"items\"]),\n              false\n                ? (_openBlock(), _createBlock(_component_v_checkbox, {\n                    key: 0,\n                    disabled: !highresAvailable.value,\n                    modelValue: useHighRes.value,\n                    \"onUpdate:modelValue\": _cache[54] || (_cache[54] = ($event: any) => ((useHighRes).value = $event)),\n                    onKeyup: _cache[55] || (_cache[55] = _withKeys(($event: any) => (useHighRes.value = !useHighRes.value), [\"enter\"])),\n                    label: \"Use High Resolution Data\",\n                    color: \"#c10124\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"disabled\", \"modelValue\"]))\n                : _createCommentVNode(\"\", true),\n              (showExtendedRangeFeatures && extendedRangeAvailable.value)\n                ? (_openBlock(), _createBlock(_component_v_checkbox, {\n                    key: 1,\n                    disabled: !extendedRangeAvailable.value,\n                    modelValue: showExtendedRange.value,\n                    \"onUpdate:modelValue\": _cache[56] || (_cache[56] = ($event: any) => ((showExtendedRange).value = $event)),\n                    onKeyup: _cache[57] || (_cache[57] = _withKeys(($event: any) => (showExtendedRange.value = !showExtendedRange.value), [\"enter\"])),\n                    label: \"Use Extended NO2 range\",\n                    color: \"#c10124\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"disabled\", \"modelValue\"]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_44, [\n            _createElementVNode(\"article\", null, [\n              _cache[149] || (_cache[149] = _createElementVNode(\"h2\", null, [\n                _createTextVNode(\"TEMPO NO\"),\n                _createElementVNode(\"sub\", null, \"2\"),\n                _createTextVNode(\" Data\")\n              ], -1)),\n              _cache[150] || (_cache[150] = _createElementVNode(\"p\", null, [\n                _createElementVNode(\"a\", {\n                  href: \"https://tempo.si.edu\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \" TEMPO\"),\n                _createTextVNode(\", a collaboration between the Smithsonian and NASA, is the first space-based probe to measure air pollution hourly over North America at neighborhood scales. NO\"),\n                _createElementVNode(\"sub\", null, \"2\"),\n                _createTextVNode(\" (nitrogen dioxide) is one of the pollutants detected by TEMPO. It is produced by wildfires and the burning of fossil fuels. NO\"),\n                _createElementVNode(\"sub\", null, \"2\"),\n                _createTextVNode(\" contributes to the formation of harmful ground-level ozone and toxic particulates in the air we breathe. \")\n              ], -1)),\n              _createElementVNode(\"div\", _hoisted_45, [\n                _createVNode(_component_cds_dialog, {\n                  title: \"Credits\",\n                  id: \"credits-dialog\",\n                  modelValue: showCredits.value,\n                  \"onUpdate:modelValue\": _cache[58] || (_cache[58] = ($event: any) => ((showCredits).value = $event)),\n                  activator: \"parent\",\n                  scrim: false,\n                  location: \"center center\",\n                  color: accentColor2.value\n                }, {\n                  default: _withCtx(() => [\n                    _cache[123] || (_cache[123] = _createElementVNode(\"h4\", { class: \"mb-2\" }, [\n                      _createElementVNode(\"a\", {\n                        href: \"https://tempo.si.edu/\",\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\"\n                      }, \"TEMPO\"),\n                      _createTextVNode(\" Team Acknowledgments:\")\n                    ], -1)),\n                    _cache[124] || (_cache[124] = _createElementVNode(\"p\", null, \" Caroline Nowlan, Aaron Naeger, and Erika Wright provided dates and featured events of interest in the TEMPO data. \", -1)),\n                    _cache[125] || (_cache[125] = _createElementVNode(\"p\", null, \" Xiong Liu provided the L3 version 2 TEMPO data files. \", -1)),\n                    _cache[126] || (_cache[126] = _createElementVNode(\"p\", null, \" Heesung Chong provided the shape file for the TEMPO field of regard. \", -1)),\n                    _cache[127] || (_cache[127] = _createElementVNode(\"p\", { class: \"my-3\" }, [\n                      _createTextVNode(\"NASA's Scientific Visualization Studio provided the TEMPO NO\"),\n                      _createElementVNode(\"sub\", null, \"2\"),\n                      _createTextVNode(\" colormap.\")\n                    ], -1)),\n                    _cache[128] || (_cache[128] = _createElementVNode(\"h4\", { class: \"mb-2\" }, [\n                      _createElementVNode(\"a\", {\n                        href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\"\n                      }, \"CosmicDS\"),\n                      _createTextVNode(\" Team:\")\n                    ], -1)),\n                    _cache[129] || (_cache[129] = _createTextVNode(\" John Lewis\")),\n                    _cache[130] || (_cache[130] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[131] || (_cache[131] = _createTextVNode(\" Jonathan Foster\")),\n                    _cache[132] || (_cache[132] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[133] || (_cache[133] = _createTextVNode(\" Pat Udomprasert\")),\n                    _cache[134] || (_cache[134] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[135] || (_cache[135] = _createTextVNode(\" Jon Carifio\")),\n                    _cache[136] || (_cache[136] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[137] || (_cache[137] = _createTextVNode(\" Alyssa Goodman\")),\n                    _cache[138] || (_cache[138] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[139] || (_cache[139] = _createTextVNode(\" Erika Wright\")),\n                    _cache[140] || (_cache[140] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[141] || (_cache[141] = _createTextVNode(\" Mary Dussault\")),\n                    _cache[142] || (_cache[142] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[143] || (_cache[143] = _createTextVNode(\" Harry Houghton\")),\n                    _cache[144] || (_cache[144] = _createElementVNode(\"br\", null, null, -1)),\n                    _cache[145] || (_cache[145] = _createTextVNode(\" Evaluator: Sue Sunbury\")),\n                    _cache[146] || (_cache[146] = _createElementVNode(\"br\", null, null, -1)),\n                    _createVNode(_component_funding_acknowledgement, { class: \"my-3\" })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\"]),\n                _createVNode(_component_cds_dialog, {\n                  id: \"user-guide-dialog\",\n                  modelValue: showUserGuide.value,\n                  \"onUpdate:modelValue\": _cache[59] || (_cache[59] = ($event: any) => ((showUserGuide).value = $event)),\n                  scrim: false,\n                  location: \"center center\",\n                  title: \"User Guide\",\n                  color: accentColor2.value\n                }, {\n                  default: _withCtx(() => _cache[147] || (_cache[147] = [\n                    _createElementVNode(\"p\", null, \" Do consectetur consequat dolore esse nulla . \", -1),\n                    _createElementVNode(\"p\", null, \" Reprehenderit sint ipsum laborum in reprehenderit sunt eu pariatur ipsum tempor . \", -1),\n                    _createElementVNode(\"p\", null, \" Ex laboris fugiat ad duis eu ipsum cupidatat veniam fugiat . \", -1)\n                  ])),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\"]),\n                _createVNode(_component_cds_dialog, {\n                  id: \"about-data-dialog\",\n                  modelValue: showAboutData.value,\n                  \"onUpdate:modelValue\": _cache[60] || (_cache[60] = ($event: any) => ((showAboutData).value = $event)),\n                  scrim: false,\n                  location: \"center center\",\n                  title: \"Data source and processing\",\n                  \"short-title\": \"About Data\",\n                  color: accentColor2.value\n                }, {\n                  default: _withCtx(() => _cache[148] || (_cache[148] = [\n                    _createElementVNode(\"p\", null, [\n                      _createTextVNode(\" This visualization of the TEMPO satellite NO\"),\n                      _createElementVNode(\"sub\", null, \"2\"),\n                      _createTextVNode(\" Tropospheric Column Density data is derived from Level 3 data files obtained from the \"),\n                      _createElementVNode(\"a\", {\n                        href: \"https://asdc.larc.nasa.gov/project/TEMPO\",\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\"\n                      }, \"NASA ASDC TEMPO Data Products Page\"),\n                      _createTextVNode(\". \")\n                    ], -1),\n                    _createElementVNode(\"br\", null, null, -1),\n                    _createElementVNode(\"p\", null, [\n                      _createTextVNode(\" The data has been processed and visualized by the CosmicDS team at the Harvard-Smithsonian Center for Astrophysics. The images displayed have undergone pre-processing to filter out erroneous data, and a 50% cloud cover mask has been applied. For performance optimization, the data resolution has been halved and reprojected to a Web Mercator projection to ensure compatibility with \"),\n                      _createElementVNode(\"a\", {\n                        href: \"https://leafletjs.com/\",\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\"\n                      }, \"Leaflet.js\"),\n                      _createTextVNode(\". \")\n                    ], -1),\n                    _createElementVNode(\"br\", null, null, -1),\n                    _createElementVNode(\"p\", null, \" The data is rendered using the color map provided by NASA's Scientific Visualization Studio. \", -1),\n                    _createElementVNode(\"br\", null, null, -1),\n                    _createElementVNode(\"p\", null, [\n                      _createTextVNode(\" All data processing scripts are available on \"),\n                      _createElementVNode(\"a\", {\n                        href: \"https://github.com/johnarban/tempo_processing_scripts\",\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\"\n                      }, \"GitHub\"),\n                      _createTextVNode(\". \")\n                    ], -1)\n                  ])),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\"])\n              ])\n            ])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_46, [\n          _cache[153] || (_cache[153] = _createElementVNode(\"a\", {\n            href: \"https://www.si.edu/\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            class: \"mr-1\"\n          }, [\n            _createElementVNode(\"img\", {\n              alt: \"Smithsonian Logo\",\n              src: _imports_1\n            })\n          ], -1)),\n          _createVNode(_component_credit_logos)\n        ])\n      ]),\n      _createVNode(_component_v_dialog, {\n        scrim: \"false\",\n        modelValue: showPrivacyDialog.value,\n        \"onUpdate:modelValue\": _cache[63] || (_cache[63] = ($event: any) => ((showPrivacyDialog).value = $event)),\n        \"max-width\": \"400px\",\n        id: \"privacy-popup-dialog\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_card, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_card_text, null, {\n                default: _withCtx(() => _cache[154] || (_cache[154] = [\n                  _createTextVNode(\" To evaluate usage of this app, \"),\n                  _createElementVNode(\"strong\", null, \"anonymized\", -1),\n                  _createTextVNode(\" data may be collected, including locations viewed and map quiz responses. \\\"My Location\\\" data is NEVER collected. \")\n                ])),\n                _: 1\n              }),\n              _createVNode(_component_v_card_actions, { class: \"pt-3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_spacer),\n                  _createVNode(_component_v_btn, {\n                    color: \"#BDBDBD\",\n                    href: \"https://www.cfa.harvard.edu/privacy-statement\",\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\"\n                  }, {\n                    default: _withCtx(() => _cache[155] || (_cache[155] = [\n                      _createTextVNode(\" Privacy Policy \")\n                    ])),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_btn, {\n                    color: \"#ff6666\",\n                    onClick: _cache[61] || (_cache[61] = () => {\n              responseOptOut.value = true;\n              showPrivacyDialog.value = false;\n            })\n                  }, {\n                    default: _withCtx(() => _cache[156] || (_cache[156] = [\n                      _createTextVNode(\" Opt out \")\n                    ])),\n                    _: 1\n                  }),\n                  _createVNode(_component_v_btn, {\n                    color: \"green\",\n                    onClick: _cache[62] || (_cache[62] = () => {\n              responseOptOut.value = false;\n              showPrivacyDialog.value = false;\n            })\n                  }, {\n                    default: _withCtx(() => _cache[157] || (_cache[157] = [\n                      _createTextVNode(\" Allow \")\n                    ])),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n<v-app\n  id=\"app\"\n  :style=\"cssVars\"\n>\n\n<v-overlay\n  :model-value=\"inIntro\"\n  :style=\"cssVars\"\n  id=\"intro-background\"\n>\n\n<v-dialog \n  v-model=\"inIntro\"\n        >\n        <div v-if=\"inIntro\" id=\"introduction-overlay\" class=\"elevation-10 gradient-background\">\n          <v-window v-model=\"introSlide\">\n            <template v-slot:additional>\n              <div id=\"intro-window-close-button\">\n              <font-awesome-icon\n                size=\"xl\"\n                class=\"ma-3\"\n                color=\"#b3d5e6\"\n                icon='square-xmark'\n                @click=\"inIntro = !inIntro\"\n                @keyup.enter=\"inIntro = !inIntro\"\n                tabindex=\"0\"\n                tooltip-location=\"start\"\n              /> \n            </div>\n            </template>\n\n            <v-window-item :value=\"1\"\n              id=\"splash-screen\"\n            >\n              <div\n                id=\"first-splash-row\"\n              >\n                <div id=\"splash-screen-text\">\n                  What Is in the Air You Breathe?\n                </div>\n                <div>\n                  Explore daily pollution maps over North America and find out.\n                </div>\n              </div>\n\n              <div>\n                <v-btn\n                  class=\"splash-get-started\"\n                  @click=\"introSlide++\"\n                  @keyup.enter=\"introSlide++\"\n                  :color=\"accentColor\"\n                  :density=\"display.smAndDown ? 'compact' : 'default'\"\n                  size=\"x-large\"\n                  variant=\"elevated\"\n                  rounded=\"lg\"\n                >\n                  Get Started\n                </v-btn>\n              </div>\n            \n              <div id=\"splash-screen-acknowledgements\">\n                Brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a>.\n                \n                <div id=\"splash-screen-logos\">\n                  <a href=\"https://www.si.edu/\" target=\"_blank\" rel=\"noopener noreferrer\"\n                  ><img alt=\"Smithsonian Logo\" src=\"220px-Smithsonian_sun_logo_no_text.svg.png\"></a>\n                  <credit-logos/>\n                </div>\n              </div>\n            </v-window-item>\n            \n            <v-window-item :value=\"2\">\n              <div class=\"intro-text\">\n                <p class=\"mb-5\">\n                  The TEMPO satellite mission (Tropospheric Emissions: Monitoring Pollution), launched in April 2023, is the first space-based instrument to measure major air pollutants across the North American continent every daylight hour at high spatial resolution. A collaboration between NASA and the Smithsonian Astrophysical Observatory, the TEMPO instrument gathers hourly daytime scans of the atmosphere over North America from the Atlantic Ocean to the Pacific Coast and from the Yucatán Peninsula to central Canada.\n                </p>\n              </div>\n            </v-window-item>\n            \n            <v-window-item :value=\"3\">\n              <div class=\"intro-text mb-3\">\n                <p class=\"mb-3\">\n                  This Data Story provides an introduction to what can be learned from TEMPO’s data, which became publicly available May 20, 2024. The map here visualizes hourly Nitrogen Dioxide (NO<sub>2</sub>) data over time. NO<sub>2</sub> can be produced by:\n                </p> \n                <ul>\n                  <li>Burning of fossil fuels&#8212;for example from vehicles, power plants, manufacturing sites, and oil refineries</li>\n                  <li>Fires and biomass burning&#8212;including wildfires and prescribed burns, as well as burning of vegetation for land clearing</li>\n                  <li>Bacteria, which naturally convert nitrogen in soil into compounds that can form NO<sub>2</sub>. Agricultural use of nitrogen-based fertilizers increases the amount of NO<sub>2</sub> produced by these bacteria.</li>\n                  <li>Lightning, which triggers a chemical reaction that turns harmless N<sub>2</sub> in the atmosphere into NO<sub>2</sub>.\n</li>\n                </ul>\n                <p class=\"mt-3\">\n                For each date, you can see the scans beginning on the East Coast in the morning, and ending on the West Coast as the Sun sets.\n                </p> \n              </div>\n            </v-window-item>\n            <v-window-item :value=\"4\">\n              <div class=\"intro-text mb-3\">      \n                <p class=\"mb-3\">\n                  In this interactive page you can:\n                </p>\n                <ul>\n                  <li>\n                    Use the search box to navigate a location of your choice.\n                  </li>\n                  <li>\n                    Select a date and press the “Play” button or scroll the time slider to view the changing concentrations of NO<sub>2</sub> on those dates. \n                  </li>\n                  <li>\n                    Click <v-icon style=\"color: #ffcc33\">mdi-share-variant</v-icon> to share your selected location, date, and time with others.\n                  </li>\n                  <li v-bind:style=\"cssVars\">\n                    Press the <v-icon style=\"font-size: 1.3em; color: var(--accent-color)\" elevation=\"1\">mdi-information-variant-circle-outline</v-icon> button next to each Notable Date to get an overview of what to look for on that date\n                  </li>\n                  <li>\n                    For each Notable Date, select one of two zoomed-in Locations to investigate specific pollution events.\n                  </li>\n                  <li>\n                    You can use the “Timezone” setting to investigate how pollution evolves over the day in different parts of the country, for example as rush hour progresses in large cities.\n                  </li>\n                </ul>\n                <!-- add do not show introduction again button -->\n                <v-checkbox\n                  v-model=\"dontShowIntro\"\n                  @keyup.enter=\"dontShowIntro = !dontShowIntro\"\n                  label=\"Don't show this introduction at launch\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n              </div>\n            </v-window-item>\n          </v-window>\n\n          <div id=\"intro-bottom-controls\">\n            <div>\n              <v-btn\n                v-if=\"(introSlide > 1)\"\n                id=\"intro-next-button\"\n                :color=\"accentColor\"\n                @click=\"introSlide--\"\n                @keyup.enter=\"introSlide--\"\n                elevation=\"0\"\n                >\n                Back\n              </v-btn>\n            </div>\n            \n            <v-btn\n              v-if=\"(introSlide > 1)\"\n              id=\"intro-next-button\"\n              :color=\"accentColor\"\n              @click=\"introSlide++\"\n              @keyup.enter=\"introSlide++\"\n              elevation=\"0\"\n              >\n              {{ introSlide < 4 ? 'Next' : 'Get Started' }}\n            </v-btn>\n          </div>\n        </div>\n      </v-dialog>\n    </v-overlay>\n  <div\n    id=\"main-content\"\n  > \n  <marquee-alert \n    v-if=\"smallSize && showExtendedRangeFeatures && extendedRangeAvailable\" \n    timeout=\"30000\"\n    message=\"You can view data with an extend range for the \n            duration of the LA fires. See the 🔥 button on the map\"\n    />\n    <div class=\"content-with-sidebars\">\n      <!-- tempo logo -->\n      <div id=\"logo-title\">\n      <a href=\"https://tempo.si.edu\" target=\"_blank\" rel=\"noopener noreferrer\" >\n        <img \n          src=\"./assets/TEMPO-Logo-Small.png\"\n          alt=\"TEMPO Logo\"\n          style=\"width: 100px; height: 100px;\"\n        >\n      </a>\n\n      <h1 id=\"title\">What is in the Air You Breathe?</h1>\n      <!-- </div> -->\n      <cds-dialog title=\"What's new\" v-model=\"showChanges\" :color=\"accentColor2\">\n        <ul class=\"snackbar-alert-ul\">\n          <li class=\"change-item mb-5\" v-for=\"change in changes\" :key=\"change.date\" :data-date=\"change.date\">\n            <span :style='{\"font-weight\":\"bold\", \"color\": `${change.highlight ? \"var(--smithsonian-yellow)\" : \"currentColor\"}` }'>{{ change.date }}</span><br> <span v-html=\"change.html\">  </span>{{ change.text }}\n          </li>\n        </ul>\n        <!-- <template v-slot:activator=\"{ onClick, id }\">\n          <v-btn :id=\"id\" @click=\"onClick\" color=\"primary\">\n            Custom Activator\n          </v-btn>\n        </template>  -->\n      </cds-dialog>\n\n      <div id=\"menu-area\">\n        <v-btn \n          v-if=\"(new Date('2025-05-7 00:00:00') > new Date())\"\n          class='whats-new-button pulse' \n          aria-label=\"What's new\" \n          @click=\"showChanges = true\" \n          @keyup.enter=\"showChanges = true\" \n          variant=\"outlined\" \n          rounded=\"lg\" \n          :color=\"accentColor2\" \n          elevation=\"0\"\n          size=\"lg\"\n          >\n          <v-tooltip location=\"bottom\" activator=\"parent\" :disabled=\"mobile\" text=\"What's new\"></v-tooltip>\n          <v-icon>mdi-creation</v-icon>\n        </v-btn>\n        <share-button\n            :source=\"currentUrl\"\n            buttonColor=\"black\"\n            :iconColor=\"accentColor2\"\n            elevation=\"0\"\n            size=\"small\"\n            rounded=\"1\"\n            :tooltip-disabled=\"mobile\"\n            @click=\"shareButtonClickedCount += 1\"\n            alert\n          />\n        <v-btn aria-role=\"menu\" aria-label=\"Show menu\" class=\"menu-button\" variant=\"outlined\" rounded=\"lg\" :color=\"accentColor2\" elevation=\"5\">\n          <v-icon size=\"x-large\">mdi-menu</v-icon>\n          <v-menu\n            activator=\"parent\"\n            >\n            <v-list>\n              <v-list-item \n                tabindex=\"0\"\n                aria-label=\"See recent changes\"\n                @click=\"showChanges = true\"\n                @keyup.enter=\"showChanges = true\"\n                >\n                What's New\n              </v-list-item>\n\n              <v-list-item \n                tabindex=\"0\" \n                aria-label=\"Show introduction\"\n                @click=\"() => {introSlide = 1; inIntro = true;}\"\n                @keyup.enter=\"() => {introSlide = 1; inIntro = true;}\"\n                >\n                  Introduction\n              </v-list-item>\n              \n              <v-list-item \n                tabindex=\"0\"\n                aria-label=\"Show user guide\"\n                @click=\"() => {introSlide = 4; inIntro = true;}\"\n                @keyup.enter=\"() => {introSlide = 4; inIntro = true;}\"\n                >\n                User Guide\n              </v-list-item>\n              \n              <v-list-item \n                tabindex=\"0\"\n                aria-label=\"Show dialog telling about the data\"\n                @click=\"showAboutData = true\"\n                @keyup.enter=\"showAboutData = true\"\n                >\n                About the Data\n              </v-list-item>\n              \n              <v-list-item \n                \n                aria-label=\"Leave Page to Educator Resources\"\n                >\n                <a style=\"font-weight: normal;\" tabindex=\"0\"  href=\"https://www.cosmicds.cfa.harvard.edu/resources/tempo\" target=\"_blank\" rel=\"noopener\">Educator Resources<v-icon>mdi-open-in-new</v-icon></a>\n              </v-list-item>\n              \n              <v-list-item \n                tabindex=\"0\" \n                aria-label=\"Show credits\"\n                @click=\"showCredits = true\"\n                @keyup.enter=\"showCredits = true\"\n                >\n                  Credits\n              </v-list-item>\n              \n            </v-list>\n          </v-menu>\n        </v-btn>\n      </div>\n    </div>\n      <div id=\"where\" class=\"big-label\">where</div>\n      <div id=\"map-container\">\n        <colorbar-horizontal\n          v-if=\"display.width.value <= 750\"\n          label=\"Amount of NO2\"\n          backgroundColor=\"transparent\"\n          :nsteps=\"255\"\n          :cmap=\"cmapNO2\"\n          start-value=\"1\"\n          :end-value=\"showingExtendedRange ? '300' : '150'\"\n          :extend=\"true\"\n        >\n        <template v-slot:label>\n              <div style=\"text-align: center;\">Amount of NO&#x2082;&nbsp;<span class=\"unit-label\">(10&sup1;&#x2074; mol/cm&sup2;)</span></div>\n        </template>\n        </colorbar-horizontal>\n        <div id=\"map-contents\" style=\"width:100%; height: 100%;\">\n          <div id=\"map\">\n            <v-overlay\n              :modelValue=\"loadedImagesProgress < 100\"\n              style=\"z-index: 1000;\"\n              class=\"align-center justify-center\"\n              contained\n              opacity=\".8\"\n              >\n              <!-- Generated by Copilot -->\n              <div id=\"loading-circle-progress-container\" class=\"d-flex flex-column align-center justify-center ga-2\">\n                <label class=\"text-black\" for=\"loading-circle-progress\">Loading Data...</label>\n                <v-progress-circular\n                  id=\"loading-circle-progress\"\n                  style=\"z-index: 1000;\"\n                  :size=\"100\"\n                  :width=\"15\"\n                  :model-value=\"loadedImagesProgress\"\n                  color=\"#092088\"\n                >\n                {{ loadedImagesProgress.toFixed(0) }}%\n              </v-progress-circular>\n              </div>\n            </v-overlay>\n          </div>\n\n          <div v-if=\"showFieldOfRegard\" id=\"map-legend\"><hr class=\"line-legend\">TEMPO Field of Regard</div>\n          <!-- show hide cloud data, disable if none is available -->\n\n          <v-menu\n            id=\"map-controls\"\n            v-model=\"showControls\"\n            :close-on-content-click=\"false\"\n          >\n            <template v-slot:activator=\"{ props }\">\n              <div id=\"map-show-hide-controls\">\n                <v-btn\n                  v-bind=\"props\"\n                  class=\"mx-2 mt-5\"\n                  elevation=\"2\"\n                  color=\"white\"\n                  icon\n                  style=\"outline: 2px solid #b6b6b6;\"\n                  rounded=\"0\"\n                  size=\"x-small\"\n                >\n                  <template v-slot:default>\n                    <v-icon\n                      color=\"black\"\n                      size=\"x-large\"\n                    >mdi-tune-variant</v-icon>\n                  </template>\n                </v-btn>\n              </div>\n            </template>\n            <v-card class=\"controls-card\">\n              <font-awesome-icon\n                style=\"position:absolute;right:16px;cursor:pointer\"\n                icon=\"square-xmark\"\n                size=\"xl\"\n                @click=\"showControls = false\"\n                @keyup.enter=\"showControls = false\"\n                :color=\"accentColor2\"\n                tabindex=\"0\"\n              ></font-awesome-icon>\n              <div\n                id=\"opacity-slider-container\"\n                class=\"mt-5\"\n              >\n                <div id=\"opacity-slider-label\">TEMPO data opacity</div>\n                <v-slider\n                    v-model=\"opacity\"\n                    :min=\"0\"\n                    :max=\"1\"\n                    color=\"#c10124\"\n                    density=\"compact\"\n                    hide-details\n                    class=\"mb-4\"\n                    @end=\"onOpacitySliderEnd\"\n                  >\n                </v-slider>\n              </div>\n              <div\n                class=\"d-flex flex-row align-center justify-space-between\"\n              >\n                <v-checkbox\n                  v-model=\"showFieldOfRegard\"\n                  @keyup.enter=\"showFieldOfRegard = !showFieldOfRegard\"\n                  label=\"TEMPO Field of Regard\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n                <info-button>\n                  <p>\n                    The TEMPO satellite observes the atmosphere over North America, from the Atlantic Ocean to the Pacific Coast, and from roughly Mexico City to central Canada. \n                  </p>\n                  <p>\n                    The TEMPO Field of Regard (in <span class=\"text-red\">red</span>, currently <em>{{ showFieldOfRegard ? 'visible' : \"hidden\" }}</em>)\n                    is the area over which the satellite takes measurements. \n                  </p>\n                  </info-button>\n                </div>\n                <div class=\"d-flex flex-row align-center justify-space-between\">\n                <v-checkbox\n                  v-model=\"showClouds\"\n                  @keyup.enter=\"showClouds = !showClouds\"\n                  :disabled=\"!cloudDataAvailable\"\n                  :label=\"cloudDataAvailable ? 'Show Cloud Mask' : 'No Cloud Data Available'\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n                <info-button>\n                  <p>\n                    The cloud mask shows where the satellite could not measure NO<sub>2</sub> because of cloud cover. \n                  </p>\n                </info-button>\n              </div>\n                <div class=\"d-flex flex-row align-center justify-space-between\">\n                  <v-checkbox\n                  :disabled=\"!highresAvailable\"\n                  v-model=\"useHighRes\"\n                  @keyup.enter=\"useHighRes = !useHighRes\"\n                  label=\"Use High Resolution Data\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n                <info-button>\n                  <p>\n                    By default we show data at 1/2 resolution for performance. \n                  </p>\n                </info-button>\n              </div>\n                <div v-if=\"showExtendedRangeFeatures && extendedRangeAvailable\" class=\"d-flex flex-row align-center justify-space-between\">\n                  <v-checkbox\n                  :disabled=\"!extendedRangeAvailable\"\n                  v-model=\"showExtendedRange\"\n                  @keyup.enter=\"showExtendedRange = !showExtendedRange\"\n                  label=\"Use Extended NO2 range\"\n                  color=\"#c10124\"\n                  hide-details\n                />\n                <info-button>\n                  <p>\n                    If data is available, show map with extended range of NO<sub>2</sub> values.\n                  </p>\n                </info-button>\n              </div>\n            </v-card>\n          </v-menu>\n          <div id=\"location-and-sharing\">\n          <location-search\n            v-model=\"searchOpen\"\n            small\n            stay-open\n            buttonSize=\"xl\"\n            persist-selected\n            :search-provider=\"geocodingInfoForSearchLimited\"\n            @set-location=\"setLocationFromSearch\"\n            @error=\"(error: string) => searchErrorMessage = error\"\n          ></location-search>\n        </div>\n        \n        <div id=\"la-fires\">\n          <v-btn v-if=\"!smallSize && extendedRangeAvailable\" @click=\"activateLAViewer\" @keyup.enter=\"activateLAViewer\" >\n            {{ extendedRangeAvailable ? (showExtendedRange ? \"Showing extended range\" : \"Use extreme events range\") : \"No extended range images available for this date\" }}\n          </v-btn>\n          <v-btn v-if=\"smallSize && showExtendedRangeFeatures && extendedRangeAvailable\" @click=\"activateLAViewer\" @keyup.enter=\"activateLAViewer\" icon >\n            🔥\n          </v-btn>\n          <cds-dialog title=\"Extreme Events\" v-model=\"showLADialog\" :color=\"accentColor2\">\n            <v-row>\n              <v-col>\n                <p>\n                  Some events like the January 2025 Los Angeles fires generate so much smoke \n                  and pollution that NO<sub>2</sub> levels can greatly\n                    exceed the default range used in the color scale \n                    for the TEMPO-lite viewer. To show more clearly where \n                    the very highest levels of NO<sub>2</sub> are present, \n                    you can use an extended color stretch.   \n                </p>\n                <p>\n                  By default we display values from 0.01-1.5&times;10<sup>16</sup> molecules per square centimeter, \n                  check the box here to double the max of the range to 3&times;10<sup>16</sup> molecules per square centimeter. \n                  The extended range will be available on dates with extreme events like the Los Angeles fire outbreaks.\n                </p>\n            \n            <v-checkbox v-model=\"showExtendedRange\" label=\"Use extended data range\"/>\n            \n            <!-- Note on clouds. Some times (such as January 19th) smoke is detected as \"clouds\" and so those pixels get removed. \n            We (CosmicDS) currently do not have an algorithmic way retrieve the nitrogen dioxide column in these cases and so \n            those pixels are masked out in the \"cloud mask\". -->\n        \n              </v-col>\n            </v-row>\n            <v-row class=\"justify-center\">\n\n              <v-btn :color=\"accentColor2\" @click=\"goToLA\" @keyup.enter=\"goToLA\"> Go To Los Angeles</v-btn>\n\n            </v-row>\n          </cds-dialog>\n        </div>\n        \n        </div>\n        <colorbar \n          v-if=\"display.width.value > 750\"\n          label=\"Amount of NO2\"\n          backgroundColor=\"transparent\"\n          :nsteps=\"255\"\n          :cmap=\"cmapNO2\"\n          start-value=\"1\"\n          :end-value=\"showingExtendedRange ? '300' : '150'\"\n          :extend=\"true\"\n        >\n          <template v-slot:label>\n              <div style=\"text-align: center;\">Amount of NO&#x2082;<br><span class=\"unit-label\">(10&sup1;&#x2074; molecules/cm&sup2;)</span></div>\n          </template>\n        </colorbar>\n        \n\n      </div>\n        <div id=\"when\" class=\"big-label\">when</div>\n        <div id=\"slider-row\">\n          <v-slider\n            class=\"time-slider\"\n            v-model=\"timeIndex\"\n            :min=\"minIndex\"\n            :max=\"maxIndex\"\n            :step=\"1\"\n            color=\"#068ede95\"\n            thumb-label=\"always\"\n            :track-size=\"10\"\n            show-ticks=\"always\"\n            hide-details\n            :disabled=\"loadedImagesProgress < 100\"\n            @end=\"onTimeSliderEnd\"\n          >\n            <template v-slot:thumb-label>\n              <div class=\"thumb-label\">\n                {{ thumbLabel }}\n              </div>\n            </template>\n          </v-slider>\n          <icon-button\n            id=\"play-pause\"\n            :fa-icon=\"playing ? 'pause' : 'play'\"\n            fa-size=\"sm\"\n            @activate=\"playing = !playing\"\n          ></icon-button>\n        </div>\n\n        \n\n        <div id=\"user-options\">\n        <div id=\"all-dates\">\n          <h2>Select a Date</h2>  \n          <div class=\"d-flex flex-row align-center\">\n            <v-radio-group v-model=\"radio\">\n              <date-picker\n                ref=\"calendar\"\n                :model-value=\"singleDateSelected\"\n                @internal-model-change=\"(value: Date) => {\n                  if (value != null && value.getTime() != singleDateSelected.getTime()) {\n                    radio = null;\n                    singleDateSelected = value;\n                    calendar?.closeMenu();\n                  }\n                }\"\n                :allowed-dates=\"uniqueDays\"\n                :clearable=\"false\"\n                :enable-time-picker=\"false\"\n                :multi-dates=\"false\"\n                :transitions=\"false\"\n                :format=\"(date: Date | null) => date?.toDateString()\"\n                :preview-format=\"(date: Date | null) => date?.toDateString()\"\n                no-today\n                dark\n              >\n                <template #action-buttons>\n                  <button\n                    class=\"dp__action_button dp__action-latest\"\n                    @click=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                    @keyup.enter=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                    :disabled=\"singleDateSelected === uniqueDays[uniqueDays.length - 1]\"\n                    elevation=\"0\"\n                    size=\"sm\"\n                  >\n                    Latest\n                </button>\n                </template>\n                <!-- <template #action-extra=\"{ selectCurrentDate }\">\n                \n                </template> -->\n              </date-picker>\n            </v-radio-group>\n          </div>        \n          <!-- create a list of the uniqueDays -->\n          <!-- <v-select\n            :modelValue=\"singleDateSelected\"\n            :disabled=\"radio !== 0\"\n            :items=\"uniqueDays\"\n            item-title=\"title\"\n            item-value=\"value\"\n            label=\"Select a Date\"\n            @update:model-value=\"(e) => { singleDateSelected = e;}\"\n            hide-details\n            variant=\"solo\"\n          ></v-select> -->\n          <!-- add buttons to increment and decrement the singledateselected -->\n          <div class=\"d-flex flex-row align-center my-2\">\n            <v-tooltip :disabled=\"touchscreen\" text=\"Previous Date\">\n              <template v-slot:activator=\"{ props }\">\n                <v-btn\n                  v-bind=\"props\"\n                  class=\"rounded-icon-wrapper\"\n                  @click=\"moveBackwardOneDay\"\n                  @keyup.enter=\"moveBackwardOneDay\"\n                  :disabled=\"singleDateSelected === uniqueDays[0]\"\n                  color=\"#009ade\"\n                  variant=\"outlined\"\n                  elevation=\"0\"\n                  size=\"md\"\n                >\n                  <v-icon>mdi-chevron-double-left</v-icon>\n                </v-btn>\n              </template>\n            </v-tooltip>\n            <v-spacer></v-spacer>\n            <v-tooltip :disabled=\"touchscreen\" text=\"Get Data for latest available day\">\n              <template v-slot:activator=\"{ props }\">\n                <v-btn\n                  v-bind=\"props\"\n                  style=\"padding-inline: 4px;\"\n                  @click=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                  @keyup.enter=\"() => singleDateSelected = uniqueDays[uniqueDays.length - 1]\"\n                  :disabled=\"singleDateSelected === uniqueDays[uniqueDays.length - 1]\"\n                  color=\"#009ade\"\n                  variant=\"outlined\"\n                  elevation=\"0\"\n                  size=\"md\"\n                >\n                  Latest Data\n                </v-btn>\n              </template>\n            </v-tooltip>\n            <v-spacer></v-spacer>\n            <v-tooltip :disabled=\"touchscreen\" text=\"Next Date\">\n              <template v-slot:activator=\"{ props }\">\n                <v-btn\n                  v-bind=\"props\"\n                  class=\"rounded-icon-wrapper\"\n                  @click=\"moveForwardOneDay\"\n                  @keyup.enter=\"moveForwardOneDay\"\n                  :disabled=\"singleDateSelected === uniqueDays[uniqueDays.length - 1]\"\n                  color=\"#009ade\"\n                  variant=\"outlined\"\n                  elevation=\"0\"\n                  size=\"md\"\n                >\n                  <v-icon>mdi-chevron-double-right</v-icon>\n                </v-btn>\n              </template>\n            </v-tooltip>\n          </div>\n          <v-progress-linear\n            v-if=\"loadedImagesProgress < 101\"\n            v-model=\"loadedImagesProgress\"\n            color=\"#092088\"\n            height=\"20\"\n          >\n          <span v-if=\"loadedImagesProgress < 100\">Loading Data ({{ loadedImagesProgress.toFixed(0) }}%)</span>\n          <span v-else>Data Loaded</span>\n          </v-progress-linear>\n          <!-- <v-switch label=\"LA fires\" v-model=\"showExtendedRange\" /> -->\n        </div>\n\n        <hr style=\"border-color: grey\">\n\n\n          <div id=\"date-radio\">\n            <!-- make a v-radio-group with 3 options -->\n          <h2>Notable Dates</h2>\n          <v-radio-group\n            v-model=\"radio\"\n            row\n          >\n            <div v-for = \"(event, index) in interestingEvents\" :key=\"index\" class=\"d-flex flex-row align-center\">\n              <v-radio\n                :class=\"event.highlighted ? 'highlighted' : ''\"\n                :label=\"event.label\"\n                :value=\"index\"\n                @keyup.enter=\"radio = index\"\n              >\n              </v-radio>\n              <info-button>\n                <div style=\"display: inline-block; margin: 0; padding: 0;\" v-html=\"event.info\"></div>\n              </info-button>\n            </div>\n            \n          </v-radio-group>\n        </div>\n        \n        <hr style=\"border-color: grey;\"  v-if=\"radio !== null \">\n        \n        <div id=\"locations-of-interest\" v-if=\"radio !== null\">\n          <h3 class=\"mb-1\">Featured Events for {{ dateStrings[radio] }}</h3>\n          <v-radio-group\n            v-if=\"radio !== null\"\n            v-model=\"sublocationRadio\"\n            row\n          >\n          <div\n            v-for=\"(loi, index) in locationsOfInterest[radio]\" \n            v-bind:key=\"index\" \n            class=\"sublocation-radio-wrapper d-flex flex-row align-center space-between\">\n            <v-radio\n              class=\"sublocation-radio\"\n              :label=\"loi.text\"\n              :value=\"index\"\n              @keyup.enter=\"sublocationRadio = index\"\n            ></v-radio>\n            <info-button>\n              <p v-html=\"locationsOfInterestText[radio][index]\"></p>\n            </info-button>\n          </div>\n          </v-radio-group>\n        </div>\n\n        <hr style=\"border-color: grey;\">\n        <div id=\"bottom-options\">\n          <br>\n          <v-select\n            v-model=\"selectedTimezone\"\n            label=\"Timezone\"\n            :items=\"timezoneOptions\"\n            item-title=\"name\"\n            item-value=\"tz\"\n          ></v-select>\n          <v-checkbox\n            v-if=\"false\"\n            :disabled=\"!highresAvailable\"\n            v-model=\"useHighRes\"\n            @keyup.enter=\"useHighRes = !useHighRes\"\n            label=\"Use High Resolution Data\"\n            color=\"#c10124\"\n            hide-details\n          />\n          <v-checkbox\n            v-if=\"showExtendedRangeFeatures && extendedRangeAvailable\"\n            :disabled=\"!extendedRangeAvailable\"\n            v-model=\"showExtendedRange\"\n            @keyup.enter=\"showExtendedRange = !showExtendedRange\"\n            label=\"Use Extended NO2 range\"\n            color=\"#c10124\"\n            hide-details\n          />\n        </div>\n      </div>\n      \n      <div id=\"information\">\n      <article>\n        <h2>TEMPO NO<sub>2</sub> Data</h2>\n        <p>\n          <a href=\"https://tempo.si.edu\" target=\"_blank\" rel=\"noopener noreferrer\" >\n          TEMPO</a>, a collaboration between the Smithsonian and NASA, is the first space-based probe to measure air pollution hourly over North America at neighborhood scales. NO<sub>2</sub> (nitrogen dioxide) is one of the pollutants detected by TEMPO. It is produced by wildfires and the burning of fossil fuels. NO<sub>2</sub> contributes to the formation of harmful ground-level ozone and toxic particulates in the air we breathe.\n        </p>\n\n          <div class=\"d-flex flex-row justify-space-between\">\n            <cds-dialog\n              title=\"Credits\"\n              id=\"credits-dialog\"\n              v-model=\"showCredits\"\n              activator=\"parent\"\n              :scrim=\"false\"\n              location=\"center center\"\n              :color=\"accentColor2\"\n            >\n              <h4 class=\"mb-2\"><a href=\"https://tempo.si.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">TEMPO</a> Team Acknowledgments:</h4>\n              <p>\n                Caroline Nowlan, Aaron Naeger, and Erika Wright provided dates and featured events of interest in the TEMPO data.\n              </p>\n              <p>\n                Xiong Liu provided the L3 version 2 TEMPO data files.\n              </p>\n              <p>\n                Heesung Chong provided the shape file for the TEMPO field of regard.\n              </p>\n\n              <p class=\"my-3\">NASA's Scientific Visualization Studio provided the TEMPO NO<sub>2</sub> colormap.</p>\n\n              <h4 class=\"mb-2\"><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Team:</h4> \n\n              John Lewis<br>\n              Jonathan Foster<br>\n              Pat Udomprasert<br>\n              Jon Carifio<br>\n              Alyssa Goodman<br>\n              Erika Wright<br>\n              Mary Dussault<br>\n              Harry Houghton<br>\n              Evaluator: Sue Sunbury<br>\n\n              <funding-acknowledgement class=\"my-3\"></funding-acknowledgement>\n            </cds-dialog>\n\n          <cds-dialog\n            id=\"user-guide-dialog\"\n            v-model=\"showUserGuide\"\n            :scrim=\"false\"\n            location=\"center center\"\n            title=\"User Guide\"\n            :color=\"accentColor2\"\n          >\n            <p>\n              Do consectetur consequat dolore esse nulla .\n            </p>\n\n            <p>\n              Reprehenderit sint ipsum laborum in reprehenderit sunt eu pariatur ipsum tempor .\n            </p>\n\n            <p>\n              Ex laboris fugiat ad duis eu ipsum cupidatat veniam fugiat .\n            </p>\n          </cds-dialog>\n          \n          \n          <cds-dialog\n            id=\"about-data-dialog\"\n            v-model=\"showAboutData\"\n            :scrim=\"false\"\n            location=\"center center\"\n            title=\"Data source and processing\"\n            short-title=\"About Data\"\n            :color=\"accentColor2\"\n          >\n            <p>\n              This visualization of the TEMPO satellite NO<sub>2</sub> Tropospheric Column Density data is derived from Level 3 data files obtained from the \n              <a href=\"https://asdc.larc.nasa.gov/project/TEMPO\" target=\"_blank\" rel=\"noopener noreferrer\">NASA ASDC TEMPO Data Products Page</a>.\n            </p>\n            <br />\n            <p>\n              The data has been processed and visualized by the CosmicDS team at the Harvard-Smithsonian Center for Astrophysics. The images displayed have undergone pre-processing to filter out erroneous data, and a 50% cloud cover mask has been applied. \n              For performance optimization, the data resolution has been halved and reprojected to a Web Mercator projection to ensure compatibility with \n              <a href=\"https://leafletjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Leaflet.js</a>.\n            </p>\n            <br />\n            <p>\n              The data is rendered using the color map provided by NASA's Scientific Visualization Studio.\n            </p>\n            <br />\n            <p>\n              All data processing scripts are available on \n              <a href=\"https://github.com/johnarban/tempo_processing_scripts\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>.\n            </p>\n          </cds-dialog>\n\n          <!-- make small inline show introduction link button -->\n          <!-- <a href=\"#\" @click=\"inIntro = true\" @keyup.enter=\"inIntro = true\" style=\"right: 0;\">\n            Show Introduction\n          </a> -->\n        </div>\n\n      </article>\n      </div>\n      \n    </div>\n    <div id=\"body-logos\">\n      <a href=\"https://www.si.edu/\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"mr-1\" \n      ><img alt=\"Smithsonian Logo\" src=\"./assets/smithsonian.png\"\n        /></a>\n      <credit-logos/>\n    </div>\n  </div>\n\n   <!-- Data collection opt-out dialog -->\n    <v-dialog\n      scrim=\"false\"\n      v-model=\"showPrivacyDialog\"\n      max-width=\"400px\"\n      id=\"privacy-popup-dialog\"\n    >\n      <v-card>\n        <v-card-text>\n          To evaluate usage of this app, <strong>anonymized</strong> data may be collected, including locations viewed and map quiz responses. \"My Location\" data is NEVER collected.\n        </v-card-text>\n        <v-card-actions class=\"pt-3\">\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"#BDBDBD\"\n            href=\"https://www.cfa.harvard.edu/privacy-statement\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n          Privacy Policy\n          </v-btn>\n          <v-btn\n            color=\"#ff6666\"\n            @click=\"() => {\n              responseOptOut = true;\n              showPrivacyDialog = false;\n            }\"\n          >\n          Opt out\n          </v-btn>\n          <v-btn \n            color=\"green\"\n            @click=\"() => {\n              responseOptOut = false;\n              showPrivacyDialog = false;\n            }\"\n          >\n            Allow\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n</v-app>\n</template>\n  \n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onBeforeUnmount, nextTick, ComputedRef } from \"vue\";\nimport { API_BASE_URL, blurActiveElement } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from 'vuetify';\nimport { DatePickerInstance } from \"@vuepic/vue-datepicker\";\nimport L, { LatLngExpression, Map } from \"leaflet\";\nimport { v4 } from \"uuid\";\nimport \"leaflet.zoomhome\";\nimport { getTimezoneOffset } from \"date-fns-tz\";\nimport { cbarNO2 } from \"./revised_cmap\";\nimport fieldOfRegard from \"./assets/TEMPO_FOR.json\";\nimport augustFieldOfRegard from \"./assets/august_for.json\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch } from \"./mapbox\";\nimport { _preloadImages } from \"./PreloadImages\";\nimport changes from \"./changes\";\nimport { useLeafletMap } from \"./composables/useLeafletMap\";\nimport { useImageOverlay } from \"./composables/useLeafletImageOverlay\";\nimport { useLeafletBounds } from './composables/useLeafletBounds';\nimport { useUniqueTimeSelection } from \"./composables/useUniqueTimeSelection\";\nimport { interestingEvents } from \"./interestingEvents\";\n\nconst display = useDisplay();\nconst calendar = ref<DatePickerInstance | null>(null);\ntype SheetType = \"text\" | \"video\" | null;\ntype Timeout = ReturnType<typeof setTimeout>;\n\n\n/**************\n * UI Setup\n *************/\n// const hash = window.location.hash;\nconst urlParams = new URLSearchParams(window.location.search);\nconst showExtendedRangeFeatures = true; //hash.includes(\"extreme-events\");\nconst showSplashScreen = ref(new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\");\nconst extendedRange = ref(window.location.hash.includes(\"extreme-events\") || urlParams.get('extendedRange') === \"true\"); //showExtendedRangeFeatures || urlParams.get('extendedRange') === \"true\";\nconst hideIntro = urlParams.get(\"hideintro\") === \"true\";\nconst WINDOW_DONTSHOWINTRO = hideIntro ? true : window.localStorage.getItem(\"dontShowIntro\") === 'true';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore --> msPointerEnabled may not be defined in window.navigator\nconst touchscreen = ref(('ontouchstart' in window) || ('ontouchstart' in document.documentElement) || !!window.navigator.msPointerEnabled);\n\n\n\nconst STORY_VISIT_URL = `${API_BASE_URL}/tempo-lite/visit`;\nfunction pingServer(venue: string) {\n\n  fetch(STORY_VISIT_URL, {\n    \n    method: \"POST\",\n    \n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? ''\n    },\n    \n    body: JSON.stringify({\n      info: { venue }\n    })\n    \n  })\n    .then((response) => {\n      if (!response.ok) {\n        console.error(\"Error pinging server\", response.status, response.statusText);\n      } \n    }).\n    catch((error) => {\n      console.error(\"Error pinging server\", error);\n    });\n}\n\nconst venue = (urlParams.get(\"venue\") ?? '').replace(/,/g, '-');\n\nif (venue !== '') {\n  // get current value of venue\n  const venues =  window.localStorage.getItem(\"venues\") ?? '';\n  // if they haven't visited this venue before, ping the server & save it\n  if (!venues.includes(venue)) {\n    pingServer(venue);\n    window.localStorage.setItem(\"venues\", venues ? `${venues},${venue}` : venue);\n  }\n}\n\n\nfunction clearUrl(hash = false) {\n  const newUrl = location.origin + location.pathname + (hash ? location.hash : '');\n  window.history.replaceState({}, '', newUrl);\n}\nclearUrl(true);\n\n\nconst introSlide = ref(1);\nconst inIntro = ref(!WINDOW_DONTSHOWINTRO);\nconst dontShowIntro = ref(WINDOW_DONTSHOWINTRO);\nconst showNotice = ref(true);\nconst sheet = ref<SheetType>(null);\nconst accentColor = ref(\"#068ede\");\nconst accentColor2 = ref(\"#ffcc33\");\n\nlet hasOptOutBeenOpened = false;\nconst introductionOpen = computed(() => inIntro.value && (introSlide.value === 1));\nconst userGuideOpen = computed(() => inIntro.value && (introSlide.value === 4));\n\nlet whatsNewOpenedCount = 0;\nlet whatsNewTimestamp = null as number | null;\nlet whatsNewOpenTimeMs = 0;\nlet introductionOpenedCount = 0;\nlet introductionTimestamp = null as number | null;\nlet introductionOpenTimeMs = 0;\nlet userGuideOpenedCount = 0;\nlet userGuideTimestamp = null as number | null;\nlet userGuideOpenTimeMs = 0;\nlet aboutDataOpenedCount = 0;\nlet aboutDataTimestamp = null as number | null;\nlet aboutDataOpenTimeMs = 0;\nlet creditsOpenedCount = 0;\nlet creditsTimestamp = null as number | null;\nlet creditsOpenTimeMs = 0;\nlet shareButtonClickedCount = 0;\nlet playButtonClickedCount = 0;\nlet timeSliderUsedCount = 0;\nlet opacitySliderUsedCount = 0;\nlet fieldOfRegardToggled = false;\nlet cloudMaskToggled = false;\nlet hiResDataToggled = false;\n\nlet userSelectedCalendarDates: number[] = [];\nlet userSelectedTimezones: string[] = [];\nlet userSelectedLocations: string[] = [];\nlet userSelectedNotableEvents: [string, string][] = [];\n\nconst STORY_DATA_URL = `${API_BASE_URL}/tempo-lite/data`;\nconst OPT_OUT_KEY = \"tempo-lite-optout\" as const;\nconst UUID_KEY = \"tempo-lite-uuid\" as const;\nconst storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst optOut = typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst showPrivacyDialog = ref(false);\nconst responseOptOut = ref(optOut);\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\n\nfunction selectSheet(name: SheetType) {\n  if (sheet.value === name) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = name;\n  }\n}\n\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === 'text';\n  },\n  set(_value: boolean) {\n    selectSheet('text');\n  }\n});\n\nconst cssVars = computed(() => {\n  return {\n    '--accent-color': accentColor.value,\n    '--accent-color-2': accentColor2.value,\n    '--app-content-height': showTextSheet.value ? '66%' : '100%',\n  };\n});\n\nconst smallSize = computed(() => {\n  return display.smAndDown.value;\n});\n\nconst mobile = computed(() => {\n  return smallSize.value && touchscreen.value;\n});\n\n\nfunction zpad(n: number, width: number = 2, character: string = \"0\"): string {\n  return n.toString().padStart(width, character);\n}\n\n/************\n * TIMESTAMP SETUP\n ************/\nimport { getTimestamps, getExtendedRangeTimestamps } from \"./timestamps\";\n\nconst erdTimestamps = ref<number[]>([]);\nconst newTimestamps = ref<number[]>([]);\nconst cloudTimestamps = ref<number[]>([]);\nconst fosterTimestamps = ref<number[]>([\n  1698838920000,\n  1698841320000,\n  1698843720000,\n  1698846120000,\n  1698848520000,\n  1698852120000,\n  1698855720000,\n  1698859320000,\n  1698862920000,\n  1698866520000,\n  1698870120000,\n  1698873720000,\n  1698876120000,\n  1698878520000,\n  1698880920000,\n  1699011720000,\n  1699014120000,\n  1699016520000,\n  1699018920000,\n  1699021320000,\n  1699024920000,\n  1699028520000,\n  1699032120000,\n  1699035720000,\n  1699039320000,\n  1699042920000,\n  1699046520000,\n  1699048920000,\n  1699051320000,\n  1699053720000,\n  1711626180000,\n  1711628640000,\n  1711631040000,\n  1711633440000,\n  1711637040000,\n  1711640640000,\n  1711644240000,\n  1711647840000,\n  1711651440000,\n  1711655040000,\n  1711658640000,\n  1711662240000,\n  1711665840000,\n  1711668240000,\n]);\n\n\nconst timestamps = ref<number[]>(fosterTimestamps.value);\nconst extendedRangeTimestamps = ref<number[]>([]);\nconst showExtendedRange = ref(extendedRange.value);\nconst useHighRes = ref(false);\nconst {\n  timeIndex,\n  timestamp,\n  date,\n  singleDateSelected,\n  maxIndex,\n  minIndex,\n  uniqueDays,\n  uniqueDaysIndex,\n  setNearestDate,\n  moveBackwardOneDay,\n  moveForwardOneDay,\n  nearestDateIndex } = useUniqueTimeSelection(timestamps);\n\nconst timestampsLoaded = ref(false);\nconst fosterTimestampsSet = ref(new Set(fosterTimestamps.value));\nconst erdTimestampsSet = ref(new Set());\nconst newTimestampsSet = ref(new Set());\nconst cloudTimestampsSet = ref(new Set());\nconst extendedRangeTimestampsSet = ref(new Set());\nconst timestampsSet = ref(new Set(fosterTimestamps.value));\n\nasync function updateTimestamps() {\n  return Promise.all([\n    getExtendedRangeTimestamps().then(ts => {\n      extendedRangeTimestamps.value = ts;\n      extendedRangeTimestampsSet.value = new Set(ts);\n    }),\n    getTimestamps().then((ts) => {\n      erdTimestamps.value = ts.early_release;\n      erdTimestampsSet.value = new Set(ts.early_release);\n      newTimestamps.value = ts.released;\n      newTimestampsSet.value = new Set(ts.released);\n      timestamps.value = timestamps.value.concat(erdTimestamps.value, newTimestamps.value).sort();\n      timestampsSet.value = new Set(timestamps.value);\n      cloudTimestamps.value = ts.clouds;\n      cloudTimestampsSet.value = new Set(ts.clouds);\n    })\n  ]);\n}\n\nupdateTimestamps().then(() => { timestampsLoaded.value = true; })\n  .then(() => {\n    if (window.location.hash.includes(\"extreme-events\")) {\n      nextTick(() => {\n        activateExtremeEvents();\n      });\n    }\n  });\n\n\n/************\n * INITIAL LOCATIONS SETUP\n ************/\n\n\nconst initLat = parseFloat(urlParams.get(\"lat\") || '40.044');\nconst initLon = parseFloat(urlParams.get(\"lon\") || '-98.789');\nconst initZoom = parseFloat(urlParams.get(\"zoom\") || '4');\nconst initTime = urlParams.get(\"t\");\nconst initState = ref({\n  loc: [initLat, initLon] as LatLngExpression,\n  zoom: initZoom,\n  t: initTime ? +initTime : null\n});\n\n\nconst homeLat = 40.044;\nconst homeLon = -98.789;\nconst homeZoom = 4;\nconst homeState = ref({\n  loc: [homeLat, homeLon] as LatLngExpression,\n  zoom: homeZoom,\n  t: null as number | null\n});\n\n\nconst radio = ref<number | null>(null);\nconst sublocationRadio = ref<number | null>(null);\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst { leafletBounds: imageBounds, boundsArray: bounds } = useLeafletBounds(date);\n\n\nconst fieldOfRegardLayer = L.geoJSON(\n  fieldOfRegard as GeoJSON.GeometryCollection,\n  {\n    style: {\n      color: \"#c10124\",\n      fillColor: \"transparent\",\n      weight: 1,\n      opacity: 0.8,\n    },\n  }\n) as L.Layer;\n\n\nconst selectedTimezone = ref(\"US/Eastern\");\nconst playing = ref(false);\nconst playInterval = ref<Timeout | null>(null);\nconst searchOpen = ref(true);\nconst searchErrorMessage = ref<string | null>(null);\nconst showControls = ref(false);\nconst showFieldOfRegard = ref(true);\nconst showCredits = ref(false);\nconst showUserGuide = ref(false);\nconst showAboutData = ref(false);\nconst loadedImagesProgress = ref(0);\n\nconst showLocationMarker = ref(true);\nconst locationMarker = ref<L.Marker | null>(null);\nconst currentUrl = ref(window.location.href);\nconst showChanges = ref(false);\nconst showLADialog = ref(false);\n\n\nconst imageName = computed(() => {\n  return getTempoFilename(date.value);\n});\n\nconst imageUrl = computed(() => {\n  if (customImageUrl.value) {\n    return customImageUrl.value;\n  }\n  const url = getTempoDataUrl(timestamp.value);\n  if (url === null) { return ''; }\n  return url + imageName.value;\n});\n\nconst showClouds = ref(false);\nconst cloudUrl = computed(() => {\n  if (!showClouds.value) {\n    return '';\n  }\n\n  if (cloudTimestampsSet.value.has(timestamp.value)) {\n    return getCloudFilename(date.value);\n  }\n  return '';\n});\n\n\nconst opacity = ref(0.9);\nconst preload = ref(true);\nconst customImageUrl = ref(\"\");\nconst cloudOverlay = useImageOverlay(cloudUrl, opacity, imageBounds);\nconst imageOverlay = useImageOverlay(imageUrl, opacity, imageBounds);\n\nconst cloudDataAvailable = computed(() => {\n  return cloudTimestampsSet.value.has(timestamp.value);\n});\n\nconst whichDataSet = computed(() => {\n  if (fosterTimestampsSet.value.has(timestamp.value)) {\n    return 'TEMPO-lite';\n  }\n\n  if (erdTimestampsSet.value.has(timestamp.value)) {\n    return 'Early Release (V01)';\n  }\n\n  if (newTimestampsSet.value.has(timestamp.value)) {\n    return 'Level 3 (V03)';\n  }\n\n  return 'Unknown';\n});\n\n\nconst highresAvailable = computed(() => {\n  return newTimestampsSet.value.has(timestamp.value);\n});\n\nconst extendedRangeAvailable = computed(() => {\n  return extendedRangeTimestampsSet.value.has(timestamp.value);\n});\n\nconst showingExtendedRange = computed(() => {\n  return showExtendedRangeFeatures && showExtendedRange.value && extendedRangeAvailable.value;\n});\n\nconst onMapReady = (map: Map) => {\n  map.on('moveend', updateURL);\n  map.on('zoomend', updateURL);\n};\nconst { map, setView } = useLeafletMap(\"map\", initState.value, onMapReady);\n\nonMounted(() => {\n  window.addEventListener(\"hashchange\", updateHash);\n  showSplashScreen.value = false;\n\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const zoomHome = L.Control.zoomHome({ homeCoordinates: homeState.value.loc, homeZoom: homeState.value.zoom });\n  const originalZH = zoomHome._zoomHome.bind(zoomHome);\n  zoomHome._zoomHome = (_e: Event) => {\n    originalZH();\n    sublocationRadio.value = null;\n    // check if location marker is not null and on map. if so remove it\n    if (locationMarker.value !== null) {\n      locationMarker.value.remove();\n    }\n  };\n  zoomHome.addTo(map.value);\n\n  singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n  imageOverlay.addTo(map.value as Map);\n  cloudOverlay.addTo(map.value as Map);\n\n  updateFieldOfRegard();\n  if (showFieldOfRegard.value) {\n    fieldOfRegardLayer.addTo(map.value as Map);\n  }\n\n  createUserEntry();\n  window.addEventListener(\"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") {\n      updateUserData();\n    } else {\n      resetData();\n    }\n  });\n  \n});\n\nonBeforeUnmount(() => {\n  // cleanup event handlers\n  if (map.value) {\n    map.value.off('movend');\n    map.value.off('zoomend');\n  }\n});\n\n\nconst datesOfInterest = computed(() => {\n  return interestingEvents.map(event => event.date);\n});\n\nconst dateStrings = computed(() => {\n  return interestingEvents.map(event => event.dateString);\n});\n\nconst locationsOfInterest = computed(() => {\n  return interestingEvents.map(event =>\n    event.locations.map(loc => ({\n      ...loc,\n      index: nearestDateIndex(new Date(loc.time)),\n    }))\n  );\n});\n\nconst locationsOfInterestText = computed(() => {\n  return interestingEvents.map(event =>\n    event.locations.map(loc => loc.description)\n  );\n});\n\nconst dateIsDST = computed(() => {\n  const standardOffset = getTimezoneOffset(selectedTimezone.value, new Date(date.value.getUTCFullYear(), 0, 1));\n  const currentOffset = getTimezoneOffset(selectedTimezone.value, date.value);\n  if (standardOffset === currentOffset) {\n    return false;\n  }\n  return true;\n});\n\nconst timezoneOptions = computed(() => {\n  return [\n    { tz: 'US/Eastern', name: dateIsDST.value ? 'Eastern Daylight' : 'Eastern Standard' },\n    { tz: 'US/Central', name: dateIsDST.value ? 'Central Daylight' : 'Central Standard' },\n    { tz: 'US/Mountain', name: dateIsDST.value ? 'Mountain Daylight' : 'Mountain Standard' },\n    { tz: 'US/Arizona', name: 'Mountain Standard' },\n    { tz: 'US/Pacific', name: dateIsDST.value ? 'Pacific Daylight' : 'Pacific Standard' },\n    { tz: 'US/Alaska', name: dateIsDST.value ? 'Alaska Daylight' : 'Alaska Standard' },\n    { tz: 'UTC', name: 'UTC' },\n  ];\n});\n\n// TODO: Maybe there's a built-in Date function to get this formatting?\nconst thumbLabel = computed(() => {\n  const offset = getTimezoneOffset(selectedTimezone.value, date.value);\n  const dateObj = new Date(timestamp.value + offset);\n  const hours = dateObj.getUTCHours();\n  const amPm = hours >= 12 ? \"PM\" : \"AM\";\n  let hourValue = hours % 12;\n  if (hourValue === 0) {\n    hourValue = 12;\n  }\n  return `${date.value.getUTCMonth() + 1}/${dateObj.getUTCDate()}/${dateObj.getUTCFullYear()} ${hourValue}:${dateObj.getUTCMinutes().toString().padStart(2, '0')} ${amPm}`;\n});\n\n\nfunction setMarker(latlng: L.LatLngExpression) {\n  console.log(L.Icon.Default.prototype.options);\n  const icon = L.icon({\n    ...L.Icon.Default.prototype.options,\n    iconRetinaUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\n    iconUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\n    shadowUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\n  });\n  if (locationMarker.value == null) {\n    locationMarker.value = new L.Marker(latlng, { icon: icon, pane: 'labels', opacity: 0.8 });\n  } else {\n    locationMarker.value.setLatLng(latlng);\n  }\n  if (showLocationMarker.value) {\n    locationMarker.value.addTo(map.value as Map);\n  }\n}\n\n\nfunction updateHash() {\n  if (window.location.hash.includes(\"extreme-events\")) {\n    activateExtremeEvents();\n  }\n}\n\n\nfunction updateURL() {\n  if (map.value) {\n    const center = map.value.getCenter();\n    let stateObj = null as Record<string, string> | null;\n    if (showExtendedRangeFeatures) {\n      stateObj = {\n        lat: `${center.lat.toFixed(4)}`,\n        lon: `${center.lng.toFixed(4)}`,\n        zoom: `${map.value.getZoom()}`,\n        t: `${timestamp.value}`,\n        extendedRange: `${showExtendedRange.value}`\n      };\n    } else {\n      stateObj = {\n        lat: `${center.lat.toFixed(4)}`,\n        lon: `${center.lng.toFixed(4)}`,\n        zoom: `${map.value.getZoom()}`,\n        t: `${timestamp.value}`\n      };\n    }\n    const url = new URL(location.origin);\n    const searchParams = new URLSearchParams(stateObj ?? {});\n    // const hash = window.location.hash;\n    // url.hash = hash;\n    url.pathname = location.pathname;\n    window.history.replaceState(null, '', url.toString());\n    url.search = searchParams.toString();\n    currentUrl.value = url.toString();\n    // window.history.replaceState(stateObj, '', url);\n  }\n}\n\nfunction cmapNO2(x: number): string {\n  const rgb = cbarNO2(0, 1, x);\n  return `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]},1)`;\n}\n\nasync function geocodingInfoForSearchLimited(searchText: string): Promise<MapBoxFeatureCollection | null> {\n  return geocodingInfoForSearch(searchText, {\n    countries: [\"US\", \"CA\", \"MX\", \"CU\", \"BM\", \"HT\", \"DO\"],\n    limit: 10,\n  }).catch(_err => null);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction resetMapBounds() {\n  setView([40.044, -98.789], 4);\n}\n\nfunction setLocationFromSearch(items: [MapBoxFeature | null, string]) {\n  const [feature, text] = items;\n  if (feature !== null) {\n    const coordinates: [number, number] = [feature.center[1], feature.center[0]];\n    map.value?.setView(coordinates, 12);\n    setMarker(coordinates);\n    userSelectedLocations.push(text);\n  }\n}\n\nfunction play() {\n  playInterval.value = setInterval(() => {\n    if (timeIndex.value >= maxIndex.value) {\n      if (playInterval.value) {\n        // clearInterval(this.playInterval);\n        // this.playInterval = null;\n        // let it loop\n        timeIndex.value = minIndex.value;\n      }\n    } else {\n      timeIndex.value += 1;\n    }\n  }, 1000);\n}\n\n\nfunction pause() {\n  if (playInterval.value) {\n    clearInterval(playInterval.value);\n  }\n}\n\n\nfunction getCloudFilename(date: Date): string {\n  const filename = getTempoFilename(date);\n  if (useHighRes.value) {\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/clouds/images/' + filename;\n  } else {\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/clouds/images/resized_images/' + filename;\n  }\n}\n\n\nfunction getTempoFilename(date: Date): string {\n  return `tempo_${date.getUTCFullYear()}-${zpad(date.getUTCMonth() + 1)}-${zpad(date.getUTCDate())}T${zpad(date.getUTCHours())}h${zpad(date.getUTCMinutes())}m.png`;\n}\n\n\nfunction getTempoDataUrl(timestamp: number): string {\n  if (showExtendedRange.value && extendedRangeTimestampsSet.value.has(timestamp)) {\n    if (useHighRes.value) {\n      return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/data_range_0_300/released/images/';\n    }\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/data_range_0_300/released/images/resized_images/';\n  }\n  if (fosterTimestampsSet.value.has(timestamp)) {\n    return 'https://tempo-images-bucket.s3.amazonaws.com/tempo-lite/';\n  }\n\n  if (erdTimestampsSet.value.has(timestamp)) {\n    return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/early_release/images/';\n  }\n\n  if (newTimestampsSet.value.has(timestamp)) {\n    if (useHighRes.value) {\n      return 'https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/released/images/';\n    }\n    return \"https://raw.githubusercontent.com/johnarban/tempo-data-holdings/main/released/images/resized_images/\";\n  }\n\n  return '';\n}\n\n\nfunction updateFieldOfRegard() {\n  if (date.value.getUTCFullYear() === 2023 && date.value.getUTCMonth() === 7) {\n    (fieldOfRegardLayer as L.GeoJSON).clearLayers();\n    (fieldOfRegardLayer as L.GeoJSON).addData(augustFieldOfRegard as GeoJSON.GeometryCollection);\n  } else {\n    (fieldOfRegardLayer as L.GeoJSON).clearLayers();\n    (fieldOfRegardLayer as L.GeoJSON).addData(fieldOfRegard as GeoJSON.GeometryCollection);\n  }\n}\n\n\nfunction imagePreload() {\n  if (!preload.value) {\n    return;\n  }\n  // console.log('preloading images for ', this.thumbLabel);\n  const times = timestamps.value.slice(minIndex.value, maxIndex.value + 1);\n  const images = times.map(ts => getTempoDataUrl(ts) + getTempoFilename(new Date(ts)));\n  const cloudImages = times.filter(ts => cloudTimestampsSet.value.has(ts)).map(ts => getCloudFilename(new Date(ts)));\n  images.push(...cloudImages);\n  const promises = _preloadImages(images);\n  let loaded = 0;\n  loadedImagesProgress.value = 0;\n  promises.forEach((promise) => {\n    promise.then(() => {\n      loaded += 1;\n      loadedImagesProgress.value = (loaded / promises.length) * 100;\n    }).catch((err) => {\n      console.error('error loading image', err);\n    });\n  });\n}\n\n\nfunction goToLocationOfInterst(index: number, subindex: number) {\n  if (index < 0 || index >= locationsOfInterest.value.length) {\n    console.warn('Invalid index for location of interest');\n    return;\n  }\n  const loi = locationsOfInterest.value[index][subindex];\n  map.value?.setView(loi.latlng, loi.zoom);\n  if (loi.index !== undefined) {\n    timeIndex.value = loi.index;\n  } else {\n    console.warn('No index found for location of interest');\n  }\n}\n\n\nfunction goToLA() {\n  showLADialog.value = false;\n  const event = interestingEvents.filter(e => e.label == 'LA Wildfires (Jan 8, 2025)');\n  if (event !== undefined && map.value) {\n    const loi = event[0].locations;\n    map.value.setView(loi[0].latlng, loi[0].zoom);\n  }\n}\n\n\nfunction activateLAViewer() {\n  showLADialog.value = true;\n}\n\n\nfunction activateExtremeEvents() {\n  // Find the LA Wildfires event\n  const laWildfireIndex = interestingEvents.findIndex(\n    event => event.label?.includes(\"LA Wildfires\")\n  );\n\n  if (laWildfireIndex !== -1) {\n    // Set the radio to select this event\n    radio.value = laWildfireIndex;\n    // Make sure extended range is on\n    showExtendedRange.value = true;\n  }\n}\n\nfunction onTimeSliderEnd(_value: number) {\n  timeSliderUsedCount += 1; \n}\n\nfunction onOpacitySliderEnd(_value: number) {\n  opacitySliderUsedCount += 1;\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n    }),\n  });\n}\n\nfunction resetData() {\n  whatsNewOpenedCount = 0;\n  introductionOpenedCount = 0;\n  userGuideOpenedCount = 0;\n  aboutDataOpenedCount = 0;\n  creditsOpenedCount = 0;\n  shareButtonClickedCount = 0;\n  playButtonClickedCount = 0;\n  timeSliderUsedCount = 0;\n  opacitySliderUsedCount = 0;\n  userSelectedCalendarDates = [];\n  userSelectedTimezones = [];\n  userSelectedLocations = [];\n  userSelectedNotableEvents = [];\n\n  aboutDataOpenTimeMs = 0;\n  userGuideOpenTimeMs = 0;\n  introductionOpenTimeMs = 0;\n  whatsNewOpenTimeMs = 0;\n  creditsOpenTimeMs = 0;\n  fieldOfRegardToggled = false;\n  cloudMaskToggled = false;\n  hiResDataToggled = false;\n\n  const now = Date.now();\n  creditsTimestamp = showCredits.value ? now : null;\n  aboutDataTimestamp = showAboutData.value ? now : null;\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const creditsTime = (showCredits.value && creditsTimestamp !== null) ? now - creditsTimestamp : creditsOpenTimeMs;\n  const aboutDataTime = (showAboutData.value && aboutDataTimestamp !== null) ? now - aboutDataTimestamp: aboutDataOpenTimeMs;\n  const whatsNewTime = (showChanges.value && whatsNewTimestamp !== null) ? now  - whatsNewTimestamp : whatsNewOpenTimeMs;\n  const introductionTime = (introductionOpen.value && introductionTimestamp !== null) ? now - introductionTimestamp : introductionOpenTimeMs;\n  const userGuideTime = (userGuideOpen.value && userGuideTimestamp !== null) ? now - userGuideTimestamp : userGuideOpenTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_opened_count: whatsNewOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_whats_new_open_time_ms: whatsNewTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_opened_count: introductionOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_introduction_open_time_ms: introductionTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_opened_count: userGuideOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_user_guide_open_time_ms: userGuideTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_opened_count: aboutDataOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_about_data_open_time_ms: aboutDataTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_opened_count: creditsOpenedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_credits_open_time_ms: creditsTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_share_button_clicked_count: shareButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_calendar_dates: userSelectedCalendarDates,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_timezones: userSelectedTimezones,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_locations: userSelectedLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_notable_events: userSelectedNotableEvents,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_play_clicked_count: playButtonClickedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_time_slider_used_count: timeSliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_opacity_slider_used_count: opacitySliderUsedCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      field_of_regard_toggled: fieldOfRegardToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      cloud_mask_toggled: cloudMaskToggled,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      high_res_data_toggled: hiResDataToggled,\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nwatch(timestampsLoaded, (loaded: boolean) => {\n  if (loaded) {\n    console.log('timestamps loaded');\n    if (initState.value.t) {\n      let index = uniqueDaysIndex(initState.value.t);\n      if (index == -1) {\n        return;\n      }\n      console.log('set the date');\n      singleDateSelected.value = uniqueDays.value[index];\n      index = nearestDateIndex(new Date(initState.value.t));\n      if (index == -1) {\n        return;\n      }\n      timeIndex.value = index;\n      // FIXME if needed. if we find the time is not being set, use nextTick\n      // this.$nextTick(() => { this.timeIndex = index;});\n    }\n  }\n});\n\nwatch(timestamp, (_val: number) => {\n  updateURL();\n});\n\nwatch(introSlide, (val: number) => {\n  inIntro.value = val < 5;\n});\n\nwatch(dontShowIntro, (val: boolean) => {\n  window.localStorage.setItem(\"dontShowIntro\", val.toString());\n  if (!val) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (value: boolean) => {\n  if (!value) {\n    if (responseOptOut.value === null && !hasOptOutBeenOpened) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(showPrivacyDialog, (show: boolean) => {\n  if (show) {\n    hasOptOutBeenOpened = true;\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (responseOptOut.value !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n\nwatch(loadedImagesProgress, (val: number) => {\n  playing.value = false;\n  const btn = document.querySelector('#play-pause-button');\n  if (btn) {\n    if (val < 100) {\n      btn.setAttribute('disabled', 'true');\n    } else {\n      btn.removeAttribute('disabled');\n    }\n  }\n});\n\nwatch(playing, (val: boolean) => {\n  if (val) {\n    play();\n    playButtonClickedCount += 1;\n  } else {\n    pause();\n  }\n});\n\nwatch(imageUrl, (_url: string) => {\n  updateFieldOfRegard();\n});\n\n// watch(cloudUrl, (_url: string) => {\n//   // nothing to do here.\n// });\n\nwatch(useHighRes, () => {\n  hiResDataToggled = true;\n  imagePreload();\n});\n\nwatch(imageBounds, (bounds: L.LatLngBounds) => {\n  console.log('image bounds change to', whichDataSet.value, bounds.toBBoxString());\n});\n\nwatch(showFieldOfRegard, (show: boolean) => {\n  fieldOfRegardToggled = true;\n  if (show) {\n    fieldOfRegardLayer.addTo(map.value as Map);\n  } else if (map.value) {\n    map.value.removeLayer(fieldOfRegardLayer as L.Layer);\n  }\n});\n\nwatch(showClouds, (_show: boolean) => {\n  cloudMaskToggled = true;\n});\n\nwatch(showLocationMarker, (show: boolean) => {\n  if (locationMarker.value) {\n    if (show) {\n      locationMarker.value.addTo(map.value as Map);\n      return;\n    } else {\n      locationMarker.value.remove();\n      return;\n    }\n  }\n});\n\nwatch(timestamps, () => {\n  singleDateSelected.value = uniqueDays.value[uniqueDays.value.length - 1];\n});\n\nwatch(radio, (value: number | null) => {\n  if (value == null) {\n    setNearestDate(singleDateSelected.value.getTime());\n    sublocationRadio.value = null;\n    return;\n  }\n  const date = datesOfInterest.value[value] ?? singleDateSelected.value;\n  singleDateSelected.value = date;\n  setNearestDate(date.getTime());\n  if (sublocationRadio.value == 0 && value !== null) {\n    // run this manually as the watcher wouldn't trigger\n    goToLocationOfInterst(value, 0);\n  } else {\n    sublocationRadio.value = 0;\n  }\n});\n\nwatch(singleDateSelected, (value: Date) => {\n  // console.log(`singleDateSelected ${value}`);\n  const timestamp = value.getTime();\n  setNearestDate(timestamp);\n  if (radio.value !== null) {\n    const index = datesOfInterest.value.map(d => d.getTime()).indexOf(timestamp);\n    radio.value = index < 0 ? null : index;\n  }\n  imagePreload();\n});\n\nwatch(sublocationRadio, (value: number | null) => {\n  if (value !== null && radio.value != null) {\n    goToLocationOfInterst(radio.value, value);\n  }\n});\n\n\nwatch(showChanges, (_value: boolean) => {\n  if (showNotice.value) {\n    showNotice.value = false;\n  }\n});\n\nwatch(showExtendedRange, (_value: boolean) => {\n  updateURL();\n  imagePreload();\n});\n\nwatch(showChanges, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    whatsNewTimestamp = now;\n    whatsNewOpenedCount += 1;\n  } else if (whatsNewTimestamp !== null) {\n    whatsNewOpenTimeMs += (now - whatsNewTimestamp);\n    whatsNewTimestamp = null;\n  }\n});\n\nwatch(showAboutData, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    aboutDataTimestamp = now;\n    aboutDataOpenedCount += 1;\n  } else if (aboutDataTimestamp !== null) {\n    aboutDataOpenTimeMs += (now - aboutDataTimestamp);\n    aboutDataTimestamp = null;\n  }\n});\n\nwatch(showCredits, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    creditsTimestamp = now;\n    creditsOpenedCount += 1;\n  } else if (creditsTimestamp !== null) {\n    creditsOpenTimeMs += (now - creditsTimestamp);\n    creditsTimestamp = null;\n  }\n});\n\nwatch(introductionOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    introductionTimestamp = now;\n    introductionOpenedCount += 1;\n  } else if (introductionTimestamp !== null) {\n    introductionOpenTimeMs += (now - introductionTimestamp);\n    introductionTimestamp = null;\n  }\n});\n\nwatch(userGuideOpen, (open: boolean) => {\n  const now = Date.now();\n  if (open) {\n    userGuideTimestamp = now;\n    userGuideOpenedCount += 1;\n  } else if (userGuideTimestamp !== null) {\n    userGuideOpenTimeMs += (now - userGuideTimestamp);\n    userGuideTimestamp = null;\n  }\n});\n\nconst radioSubloc: ComputedRef<[number | null, number | null]> = computed(() => [radio.value, sublocationRadio.value]); \nwatch(radioSubloc, (item: [number | null, number | null]) => {\n  const radio = item[0];\n  const subRadio = item[1];\n  if (radio === null || subRadio === null) {\n    return [];\n  }\n  const eventText = interestingEvents[radio].label ?? \"\";\n  const subEventText = locationsOfInterest.value[radio][subRadio].text;\n  userSelectedNotableEvents.push([eventText, subEventText]);\n});\n\nwatch(selectedTimezone, (timezone: string) => {\n  userSelectedTimezones.push(timezone);\n});\n\nwatch(singleDateSelected, (date: Date) => {\n  if (!timestampsLoaded.value ) return;\n  userSelectedCalendarDates.push(date.getTime());\n});\n</script>\n  \n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n// import Lexand from google fonts\n// @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap');\n\n:root {\n  // font-size: clamp(14px, 1.7vw, 16px);\n  // --default-font-size: 1rem; // we don't use this\n  font-size: 16px; // this is the standard browser default\n  --default-line-height: clamp(1rem, min(2.2vh, 2.2vw), 1.6rem); // we don't use this\n  --smithsonian-blue: #009ade;\n  --smithsonian-yellow: #ffcc33;\n  --info-background: #092088;\n  --map-height: 500px;\n}\n\n.dp__theme_dark {\n  --dp-primary-text-color: #fff !important; // selected date text\n  --dp-primary-color: var(--accent-color) !important; // selected date background\n}\n\n.dp__month_year_select,\n.dp__calendar_item {\n  color: #97c8f1 !important; // selectable date text & Month/Year\n  font-weight: 800 !important;\n}\n\n.dp__cell_disabled {\n  color: #888 !important;\n  font-weight: 400;\n}\n\nbutton.dp__action-latest {\n  color: white;\n  background: var(--dp-primary-color);\n}\n\nbutton.dp__action-latest[disabled] {\n  background: var(--dp-disabled-color);\n  color: #ccc;\n  \n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n\n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: auto;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\na {\n  text-decoration: none;\n  color: var(--smithsonian-yellow);\n}\n\nul {\n  margin-left: 1rem;\n}\n\n#intro-background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100% !important;\n  height: 100% !important;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 100;\n}\n\n.gradient-background {\n  // rotated translucent background gradient\n  background: linear-gradient(45deg,\n      rgb(14, 30, 40),\n      rgb(22, 50, 65),\n      rgb(30 70 90));\n}\n\n#introduction-overlay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  height: fit-content;\n  // outline: 5px solid var(--accent-color);\n  border-radius: 1em;\n  z-index: 1000;\n\n  @media (max-width: 700px) {\n    width: 95%;\n    padding: 3em 1em 1em;\n  }\n\n  @media (min-width: 701px) {\n    width: 75%;\n    padding: 3em 2em 2em;\n  }\n\n  .span-accent {\n    color: var(--accent-color);\n  }\n\n\n  //font-size: calc(1.1 * var(--default-font-size));\n  // line-height: var(--default-line-height);\n\n  .v-list-item {\n    color: #eee;\n  }\n\n  .intro-text {\n    color: white;\n    font-size: 1em;\n    line-height: 1.5em;\n  }\n\n  strong {\n    color: white;\n  }\n\n  div#intro-bottom-controls {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: center;\n\n    gap: 1em;\n    margin-top: 0.5em;\n\n    .v-btn.v-btn--density-default {\n      max-height: calc(1.6 * var(--default-line-height));\n    }\n\n    .v-btn--size-default {\n      font-size: calc(0.9 * var(--default-font-size));\n    }\n\n    #intro-next-button {\n      background-color: rgba(18, 18, 18, .5);\n    }\n  }\n}\n\n#privacy-popup-dialog {\n\n  .v-card-text {\n    color: #BDBDBD;\n  }\n\n  .v-overlay__content {\n    font-size: var(--default-font-size);\n    background-color: purple;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  .v-btn--size-default {\n      font-size: calc(0.9 * var(--default-font-size));\n    }  \n\n  .v-card-actions .v-btn {\n    padding: 0 4px;\n  }\n}\n\n#splash-screen {\n  color: #E0E0E0;\n\n  justify-content: space-around;\n  align-content: center;\n  padding-top: 4rem;\n  padding-bottom: 1rem;\n\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n\n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n    font-weight: bold;\n    vertical-align: middle;\n  }\n\n  #first-splash-row {\n    width: 100%;\n    font-size: 1.25em;\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    line-height: 130%;\n    font-size: 2em;\n    color: var(--smithsonian-yellow);\n  }\n\n  .splash-get-started {\n    border: 2px solid white;\n    font-size: 1.5em;\n    margin-top: 10%;\n    margin-bottom: 2%;\n    font-weight: bold !important;\n  }\n\n  #splash-screen-acknowledgements {\n    margin-top: 3rem;\n    font-size: calc(1.7 * var(--default-font-size));\n    line-height: calc(1.5 * var(--default-line-height));\n    width: 80%;\n    color: var(--smithsonian-yellow);\n  }\n\n  #splash-screen-logos {\n    margin-block: 0.75em;\n\n    /* format for including more inline logos */\n    display: flex; // place on same line\n    justify-content: center; // align center\n\n    >* {\n      margin-inline: 0; // counteract margin-inline: auto from #splash-screen div\n    }\n\n    /* ************ */\n\n    img {\n      height: 5vmin;\n      vertical-align: middle;\n      margin: 2px;\n    }\n\n    @media only screen and (max-width: 600px) {\n      img {\n        height: 24px;\n      }\n    }\n\n    svg {\n      vertical-align: middle;\n      height: 24px;\n    }\n  }\n}\n\n#intro-window-close-button {\n  position: absolute;\n  top: 0.25em;\n  right: 0.25em;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: auto;\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n}\n\n#map {\n  width: 100%;\n  height: var(--map-height)\n}\n\n// define the layout\n.content-with-sidebars {\n  position: relative;\n  padding: 0;\n\n  display: grid;\n  grid-template-columns: 0 .8fr .3fr;\n  grid-template-rows: 70px var(--map-height) 78px .5fr .5fr;\n  gap: 20px 10px;\n\n  >* {\n    background-color: transparent;\n  }\n\n  >div {\n    outline: 1px solid transparent;\n  }\n\n  #user-options {\n    min-width: 200px;\n    margin-left: 1.5rem;\n    grid-column: 3 / 4;\n    grid-row: 2 / 3;\n  }\n\n  #logo-title {\n    display: flex;\n    align-items: center;\n    grid-column: 2 / 4;\n    grid-row: 1 / 2;\n    gap: 10px;\n  }\n\n  #menu-area {\n    // grid-column: 3 / 4;\n    // grid-row: 1 / 2;\n    // // border: 1px solid red;\n    display: flex;\n    justify-self: end;\n    gap: 1rem;\n    align-items: center;\n  }\n\n  #where {\n    display: none;\n    grid-column: 1 / 2;\n    grid-row: 2 / 3;\n  }\n\n  #map-container {\n    grid-column: 2 / 3;\n    grid-row: 2 / 3;\n  }\n\n  #when {\n    display: none;\n    grid-column: 1 / 2;\n    grid-row: 3 / 4;\n  }\n\n  #slider-row {\n    grid-column: 2 / 3;\n    grid-row: 3 / 4;\n  }\n\n  #information {\n    padding: 1rem;\n    grid-column: 2 / 3;\n    grid-row: 4 / 6;\n  }\n\n}\n\n// style the content \n#main-content {\n  padding: 2rem;\n}\n\n.content-with-sidebars {\n  font-family: \"Lexend\", sans-serif;\n  font-optical-sizing: auto;\n  font-weight: normal;\n  font-style: normal;\n  background-color: transparent;\n}\n\n#title {\n  color: var(--smithsonian-yellow);\n  font-weight: 600;\n  font-size: 2.5rem;\n  text-align: left;\n  text-wrap: nowrap;\n  flex-grow: 1;\n}\n\na[href=\"https://tempo.si.edu\"]>img {\n  // display: inline;\n  height: 70px !important;\n  width: auto !important;\n}\n\n#information {\n  background-color: var(--info-background);\n  border-radius: 10px;\n  padding-inline: 1rem;\n  // margin-right: 200px;\n}\n\na {\n  text-decoration: underline;\n  font-weight: bold;\n  color: var(--accent-color-2);\n}\n\n\n// prevent overflows of the content\n#user-options {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 5px;\n}\n\n#date-radio {\n  padding-block: 0.5rem;\n}\n\n#date-radio div.highlighted label {\n  font-size: 1.2em;\n  font-weight: bold;\n  border-radius: 5px;\n  color: var(--smithsonian-yellow);\n  opacity: 1;\n}\n\n#all-dates {\n  padding-bottom: 0.5rem;\n}\n\n#locations-of-interest {\n  border: 1px solid black;\n  padding-block: 0.5rem;\n  padding-inline: 1rem;\n  height: fit-content;\n\n  h3 {\n    font-weight: 500;\n  }\n}\n\n.big-label {\n  font-size: 2rem;\n  text-align: right;\n  margin-right: 0.5rem;\n  align-self: end;\n  color: var(--smithsonian-blue);\n}\n\n#when {\n  align-self: start;\n}\n\n#slider-row,\n#when {\n  margin-top: 1.5rem;\n}\n\n#slider-row {\n  margin-left: 3rem;\n}\n\n#map-container {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  padding-right: 10px;\n\n  #map {\n    flex-basis: 80%;\n    flex-grow: 1;\n    flex-shrink: 1;\n  }\n\n  #location-and-sharing {\n    position: absolute;\n    bottom: 0;\n    z-index: 1000;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 0.5rem;\n    width: fit-content;\n  }\n\n  .forward-geocoding-container {\n    width: 250px;\n    border: 2px solid black;\n  }\n\n  #map-show-hide-controls {\n    z-index: 1000;\n    position: absolute;\n    top: 1rem;\n    right: 80px;\n  }\n\n  #map-legend {\n    position: absolute;\n    top: 0;\n    right: 80px;\n    width: fit-content;\n    z-index: 1000;\n\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n\n    color: black;\n    background-color: #fff5;\n    padding-left: 0.5rem;\n    padding-right: 0.25rem;\n\n    backdrop-filter: blur(5px);\n\n    hr.line-legend {\n      display: inline-block;\n      border: 0.5px solid #c10124;\n      width: 3rem;\n    }\n  }\n\n  .colorbar-container {\n    flex-grow: 0;\n    flex-shrink: 1;\n\n    .unit-label {\n      font-size: .95em;\n    }\n  }\n\n  #la-fires {\n    z-index: 1000;\n    position: absolute;\n    right: 80px;\n    bottom: 1rem;\n\n  }\n}\n\n#slider-row {\n  display: flex;\n  flex-direction: row;\n  padding-left: 0;\n\n  >#play-pause-button {\n    height: fit-content;\n    align-self: center;\n    padding-inline: 0.5rem;\n    margin-left: 0.75rem;\n    width: 2.5rem;\n    color: var(--accent-color);\n    border: 2px solid var(--accent-color);\n  }\n\n  #play-pause-button[disabled] {\n    filter: grayscale(100%);\n    cursor: progress;\n    cursor: not-allowed;\n  }\n\n  .icon-wrapper {\n    padding-inline: 0.5rem !important;\n  }\n}\n\n.time-slider {\n\n  .v-slider-thumb {\n\n  .v-slider-thumb__surface::after {\n    background-image: url(\"./assets/smithsonian.png\");\n      background-size: 30px 30px;\n      height: 30px;\n      width: 30px;\n    }\n\n    .v-slider-thumb__label {\n      background-color: var(--accent-color-2);\n      border: 0.25rem solid var(--accent-color);\n      width: max-content;\n      height: 2.5rem;\n      font-size: 1rem;\n\n      &::before {\n        color: var(--accent-color);\n      }\n    }\n  }\n\n  .v-slider-track__tick {\n    background-color: var(--accent-color);\n    /* Change color */\n    height: 15px;\n    /* Change size */\n    width: 4px;\n    margin-top: 0 !important;\n    // top: -10%;\n  }\n\n  .v-slider {\n\n    .v-slider.v-input--horizontal {\n      grid-template-rows: auto 0px;\n    }\n\n    .v-slider.v-input--horizontal .v-slider-thumb__label {\n      // top: calc(var(--v-slider-thumb-size) * 1.5);\n      z-index: 2000;\n    }\n\n    .v-slider.v-input--horizontal .v-slider-thumb__label::before {\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-top: 6px solid currentColor;\n      bottom: -15px;\n    }\n  }\n}\n\n#opacity-slider-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding-left: 7%;\n  padding-right: 7%;\n  gap: 2px;\n\n  .v-slider {\n    margin-right: 0;\n    width: 100%;\n  }\n\n  #opacity-slider-label {\n    opacity: 0.7;\n    width: fit-content;\n  }\n}\n\n#body-logos {\n  margin-bottom: -1rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n\n  img {\n    height: 35px !important;\n    vertical-align: middle;\n    margin: 2px;\n  }\n}\n\n#icons-container>a[href=\"https://worldwidetelescope.org/home/\"] {\n  display: none;\n}\n\n.v-selection-control {\n  z-index: auto;\n\n}\n\n.v-radio-group .v-input__details {\n  display: none;\n}\n\n.v-radio-group .v-selection-control {\n  label {\n    width: 100%;\n  }\n}\n\n.rounded-icon-wrapper {\n  height: fit-content;\n  align-self: center;\n  padding-inline: 0.5rem;\n  margin-left: 0.75rem;\n  width: 2.5rem;\n  color: var(--accent-color);\n  border: 2px solid var(--accent-color);\n  border-radius: 20px;\n}\n\ni.mdi-menu-down {\n  color: var(--smithsonian-blue);\n}\n\n// From Sara Soueidan (https://www.sarasoueidan.com/blog/focus-indicators/) & Erik Kroes (https://www.erikkroes.nl/blog/the-universal-focus-state/)\n:focus-visible:not(.v-field__input input, .v-overlay__content),\nbutton:focus-visible,\n.focus-visible,\n.v-selection-control--focus-visible .v-selection-control__input {\n  outline: 9px double white !important;\n  box-shadow: 0 0 0 6px black !important;\n  border-radius: .125rem;\n}\n\n.controls-card {\n  padding: 1rem;\n  border: 1px solid #068ede;\n}\n\n//  mobile styles\n\n// ========= DEFINE MOBILE STYLES =========\n// KEEP THEM ALL HERE\n@media (max-width: 1180px) {\n\n  .content-with-sidebars {\n    grid-template-columns: 0px auto auto;\n    grid-template-rows: 3.5rem var(--map-height) 78px .5fr .5fr;\n\n    #when {\n      display: none;\n    }\n\n    #where {\n      display: none;\n    }\n\n    #title {\n      text-wrap: wrap;\n      font-size: 2rem;\n      line-height: 1.25;\n      margin-left: 10px;\n    }\n\n    #slider-row {\n      margin-left: 3rem;\n    }\n\n    a[href=\"https://tempo.si.edu\"]>img {\n      height: 70px !important;\n      width: auto !important;\n    }\n\n    #user-options {\n      width: 250px;\n    }\n\n\n  }\n}\n\n@media (max-width: 750px) {\n  :root {\n    --map-height: 60vh;\n    --map-height: 60dvh;\n    --map-height: 60svh;\n    font-size: 14px;\n  }\n\n  #main-content {\n    padding: 1rem;\n  }\n\n  #introduction-overlay .v-window {\n    max-height: 75vh;\n    max-height: 75dvh;\n    max-height: 75sdvh;\n    overflow-y: scroll;\n  }\n\n  #introduction-overlay .intro-text {\n    font-size: min(1.15em, 2vw);\n  }\n\n  #introduction-overlay ul li {\n    margin-block-start: 1.15em;\n  }\n\n  .content-with-sidebars {\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto 78px repeat(5, auto);\n    gap: 10px;\n    // padding-inline: 1rem;\n\n\n    #logo-title {\n      min-width: 0;\n      grid-column: 1 / 2;\n      grid-row: 1 / 2;\n    }\n\n    a[href=\"https://tempo.si.edu\"]:has(img) {\n      grid-column: 1 / 2;\n      grid-row: 1 / 2;\n    }\n\n    #menu-area {\n      grid-column: 1 / 2;\n      grid-row: 1 / 2;\n      display: flex;\n      flex-direction: column-reverse;\n      gap: 1rem;\n      align-items: flex-end;\n    }\n\n    #map-container {\n      grid-column: 1 / 2;\n      grid-row: 2 / 3;\n    }\n\n    #map-container #map-show-hide-controls {\n      right: 5px\n    }\n\n    #slider-row {\n      grid-column: 1 / 2;\n      grid-row: 3 / 4;\n    }\n\n    #user-options {\n      grid-column: 1 / 2;\n      grid-row: 4 / 5;\n    }\n\n\n    #where {\n      display: none;\n    }\n\n\n    #when {\n      display: none;\n    }\n\n\n    #bottom-options {\n      grid-column: 1 / 2;\n      grid-row: 5 / 6;\n    }\n\n    #information {\n      grid-column: 1 / 2;\n      grid-row: 6 / 7;\n    }\n\n    // #body-logos {\n    //   grid-column: 1 / 2;\n    //   grid-row: 7 / 8;\n    // }\n  }\n\n  .content-with-sidebars {\n\n    #slider-row {\n      margin-left: 4rem;\n      margin-right: 1rem;\n      padding-top: 10px;\n      align-items: center;\n    }\n\n    #user-options {\n      margin: 0;\n      width: auto;\n    }\n\n    #bottom-options {\n      margin: 0;\n    }\n\n    #information {\n      font-size: 1em;\n    }\n\n\n    #title {\n      font-size: 2rem;\n      margin-left: 15px;\n      text-wrap: wrap;\n\n    }\n\n  }\n\n\n  #map-container {\n    display: flex;\n    flex-direction: column;\n\n\n    #map-contents {\n      position: relative;\n    }\n\n    #map-legend {\n      right: 0;\n    }\n\n    .colorbar-container-horizontal {\n      margin-top: 1rem;\n      margin-bottom: 0.5rem;\n      z-index: 5000;\n      --height: 0.75rem;\n    }\n\n  }\n\n\n}\n\n/* Leaflet crispness override */\n// @JobLeonard - https://github.com/Leaflet/Leaflet/issues/5883#issue-269071844\n// .leaflet-container .leaflet-overlay-pane svg,\n// .leaflet-container .leaflet-marker-pane img,\n// .leaflet-container .leaflet-shadow-pane img,\n// .leaflet-container .leaflet-tile-pane img,\n.leaflet-container img.leaflet-image-layer {\n  max-width: none !important;\n  /* Preserve crisp pixels with scaled up images */\n  image-rendering: optimizeSpeed;\n  /* Legal fallback */\n  image-rendering: -moz-crisp-edges;\n  /* Firefox        */\n  image-rendering: -o-crisp-edges;\n  /* Opera          */\n  image-rendering: -webkit-optimize-contrast;\n  /* Safari         */\n  image-rendering: optimize-contrast;\n  /* CSS3 Proposed  */\n  image-rendering: crisp-edges;\n  /* CSS4 Proposed  */\n  image-rendering: pixelated;\n  /* CSS4 Proposed  */\n  -ms-interpolation-mode: nearest-neighbor;\n  /* IE8+           */\n}\n\n.cds-snackbar-alert {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  pointer-events: auto;\n  z-index: 999;\n}\n\n.snackbar-alert-ul {\n  margin-left: 1em;\n}\n\n@media (max-width: 750px) {\n  .cds-snackbar-alert {\n    top: -1rem;\n  }\n}\n\n.menu-button,\n.share-button,\n.whats-new-button {\n  outline: 2px solid var(--smithsonian-yellow) !important;\n  height: 2rem !important;\n}\n\n.whats-new-button {\n  padding-inline: 10px;\n}\n\ndiv.callout-wrapper {\n  display: content;\n  // overflow-x: hidden;  \n}\n\n.menu-link {\n  text-decoration: none;\n}\n\n#loading-circle-progress-container {\n  font-size: large;\n}\n\n#la-fires {\n  max-width: 20ch;\n\n  .v-btn {\n    height: fit-content; // calc(var(--v-btn-height) + 18px);\n    padding-block: 5px;\n  }\n\n  .v-btn__content {\n    white-space: normal;\n\n  }\n}\n\n.la-fires-cds-dialog .cds-dialog-card .v-card-text {\n  height: unset;\n}\n\n.pulse {\n  animation-name: pulse;\n  animation-duration: 1.5s;\n  animation-iteration-count: 3;\n}\n\n/* Generated by Copilot */\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n</style>\n  \n","import script from \"./TempoLite.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TempoLite.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TempoLite.vue?vue&type=style&index=0&id=481795ae&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = { class: \"colorbar-labels\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: _ctx.id,\n    class: \"colorbar-container\"\n  }, [\n    _createElementVNode(\"div\", {\n      style: _normalizeStyle({'--background-color': _ctx.backgroundColor}),\n      class: \"colorbar\"\n    }, null, 4),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"start\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.startValue), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"label\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.label), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"end\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.endValue), 1)\n        ], true)\n      ])\n    ])\n  ], 8, _hoisted_1))\n}","\n<template>\n<div :id=\"id\" class=\"colorbar-container\">\n  <div \n    :style=\"{'--background-color': backgroundColor}\"\n    class=\"colorbar\">\n  </div>\n  <div class=\"colorbar-labels\"> \n    <div><slot name=\"start\">{{ startValue }}</slot></div>\n    <div>\n      <slot name=\"label\">{{ label }}</slot>\n    </div>\n    <div><slot name=\"end\">{{ endValue }}</slot></div>\n  </div>\n</div>\n</template>\n\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\n\n// type for a function that maps to either a  (color, opacity) pair or just a color\ntype ColorFunction = (x: number) => string;\ntype ExtendType = boolean | 'start' | 'end' | 'both';\n\nexport default defineComponent({\n  name: 'ColorBar',\n  props: {\n    \n    name: {\n      type: String,\n      default: null\n    },\n    \n    nsteps: {\n      type: Number,\n      default: 20\n    },\n    label: {\n      type: String,\n      default: 'Colorbar'\n    },\n    \n    cmap: {\n      type: Function as PropType<ColorFunction>,\n      default: (x: number) => `rgb(255,0,${x * 255})`\n    },\n    \n    backgroundColor: {\n      type: String,\n      default: '#5c5229'\n    },\n    \n    startValue: {\n      type: String,\n      default: '0%'\n    },\n    \n    endValue: {\n      type: String,\n      default: '100%'\n    },\n    \n    extend: {\n      type: (Boolean || String) as PropType<ExtendType>,\n      default: () => 'both'\n    }\n    \n  },\n  \n  \n  mounted() {\n    this.colorbarGradient();\n  },\n  \n  computed: {\n    id() {\n      return this.name ? `colorbar-${this.name}` : `colorbar-${Math.random().toString(36).slice(2)}`;\n    },\n    \n    triangles() {\n      return this.extend !== false;\n    },\n    \n    showStartTriangle() {\n      return this.extend === 'both' || this.extend === 'start' || this.extend;\n    },\n    \n    showEndTriangle() {\n      return this.extend === 'both' || this.extend === 'end' || this.extend;\n    }\n  },\n  \n  \n  \n  methods: {\n    \n    cssLinearGradientFromCmap() {\n      const n = this.nsteps;\n      const colors = Array.from({length: n+1}, (_, i) => {\n        const co = this.cmap(i/n);\n        const [color, _opacity] = Array.isArray(co) ? co : [co,1];\n        return `${color} ${i*100/n}%`;\n      });\n      return `linear-gradient(to top, ${colors.join(', ')})`;\n    },\n    \n    colorbarGradient() {\n      const colorbar = document.querySelector('#' + this.id + '> .colorbar');\n      if (!colorbar) {\n        return;\n      }\n      // remove all the children of the colorbar\n      while (colorbar.firstChild) {\n        colorbar.removeChild(colorbar.firstChild);\n      }\n      const div = document.createElement('div');\n      div.className = 'colorbar-chunk';\n      div.style.background = this.cssLinearGradientFromCmap();\n      div.style.height = '100%';\n      \n      \n      // add the start and end triangles\n      if (this.triangles) {\n        const start = document.createElement('div');\n        start.className = 'colorbar-start';\n        const end = document.createElement('div');\n        end.className = 'colorbar-end';\n        colorbar.appendChild(end);\n        colorbar.appendChild(div);\n        colorbar.appendChild(start);\n      \n        if (start && this.showStartTriangle) {\n          start.style.backgroundColor = this.cmap(0);\n          this.styleDownTriangle(start as HTMLDivElement);\n        }\n        if (end && this.showEndTriangle) {\n          end.style.backgroundColor = this.cmap(1);\n          this.styleUpTriangle(end as HTMLDivElement);\n        }\n      } else {\n        colorbar.appendChild(div);\n      }\n    },\n    \n    styleUpTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderBottom = `${height}px solid ${color}`;\n    },\n    \n    styleDownTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderTop = `${height}px solid ${color}`;\n    }\n  },\n  \n  watch: {\n    nsteps() {\n      this.colorbarGradient();\n    },\n    cmap() {\n      this.colorbarGradient();\n    }\n  }\n  \n});\n</script>\n\n<style scoped>\n/*\n* Prefixed by https://autoprefixer.github.io\n* PostCSS: v8.4.14,\n* Autoprefixer: v10.4.7\n* Browsers: last 5 version\n*/\n\n.colorbar-container {\n  position: relative;\n  display: inline-block;\n  --width: 1.25em;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  margin-left: 5px;\n  margin-right: 1em;\n  background: var(--background-color);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.colorbar {\n  height: 100%;\n  width: var(--width);\n  margin-left: 5px;\n  margin-right: 1em;\n  background: var(--background-color);\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-filter: drop-shadow(0 0 0.1rem white);\n          filter: drop-shadow(0 0 0.1rem white);\n}\n\n/* make .colorbar-start and .colorbar-end triangles */\n.colorbar-chunk {\n  \n  -ms-flex-negative: 1;\n  \n      flex-shrink: 1;\n  -webkit-box-flex:1;\n      -ms-flex-positive:1;\n          flex-grow:1;\n}\n\n.colorbar-start {\n  -ms-flex-preferred-size: min-content;\n      flex-basis: min-content;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  -webkit-box-flex:1;\n      -ms-flex-positive:1;\n          flex-grow:1;\n}\n\n.colorbar-end {\n  -ms-flex-preferred-size: min-content;\n      flex-basis: min-content;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n}\n\n\n\n.colorbar-labels {\n  position: absolute;\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  height: 100%;\n  top: 50%;\n  /* right: -1.5ch; */\n  -webkit-transform-origin: top center;\n      -ms-transform-origin: top center;\n          transform-origin: top center;\n  -webkit-transform: rotate(180deg) translate(-75%,-50%);\n      -ms-transform: rotate(180deg) translate(-75%,-50%);\n          transform: rotate(180deg) translate(-75%,-50%);\n  -webkit-writing-mode: vertical-rl;\n      -ms-writing-mode: tb-rl;\n          writing-mode: vertical-rl;\n  \n  display: -webkit-box;\n  \n  display: -ms-flexbox;\n  \n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  }\n</style>\n","import { render } from \"./ColorBar.vue?vue&type=template&id=0c6bfa77&scoped=true&ts=true\"\nimport script from \"./ColorBar.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorBar.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorBar.vue?vue&type=style&index=0&id=0c6bfa77&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c6bfa77\"]])\n\nexport default __exports__","import { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = { class: \"colorbar-labels\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: _ctx.id,\n    class: \"colorbar-container-horizontal\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"start\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.startValue), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"label\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.label), 1)\n        ], true)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _renderSlot(_ctx.$slots, \"end\", {}, () => [\n          _createTextVNode(_toDisplayString(_ctx.endValue), 1)\n        ], true)\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      style: _normalizeStyle({'--background-color': _ctx.backgroundColor}),\n      class: \"colorbar\"\n    }, null, 4)\n  ], 8, _hoisted_1))\n}","\n<template>\n<div :id=\"id\" class=\"colorbar-container-horizontal\">\n  <div class=\"colorbar-labels\"> \n    <div><slot name=\"start\">{{ startValue }}</slot></div>\n    <div>\n      <slot name=\"label\">{{ label }}</slot>\n    </div>\n    <div><slot name=\"end\">{{ endValue }}</slot></div>\n  </div>\n  <div \n    :style=\"{'--background-color': backgroundColor}\"\n    class=\"colorbar\">\n  </div>\n  \n</div>\n</template>\n\n\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\n\n// type for a function that maps to either a  (color, opacity) pair or just a color\ntype ColorFunction = (x: number) => string;\ntype ExtendType = boolean | 'start' | 'end' | 'both';\n\nexport default defineComponent({\n  name: 'ColorBar',\n  props: {\n    \n    name: {\n      type: String,\n      default: null\n    },\n    \n    nsteps: {\n      type: Number,\n      default: 20\n    },\n    label: {\n      type: String,\n      default: 'Colorbar'\n    },\n    \n    cmap: {\n      type: Function as PropType<ColorFunction>,\n      default: (x: number) => `rgb(255,0,${x * 255})`\n    },\n    \n    backgroundColor: {\n      type: String,\n      default: '#5c5229'\n    },\n    \n    startValue: {\n      type: String,\n      default: '0%'\n    },\n    \n    endValue: {\n      type: String,\n      default: '100%'\n    },\n    \n    extend: {\n      type: (Boolean || String) as PropType<ExtendType>,\n      default: () => 'both'\n    }\n    \n  },\n  \n  \n  mounted() {\n    this.colorbarGradient();\n    console.log(this.$el);\n  },\n  \n  computed: {\n    id() {\n      return this.name ? `colorbar-${this.name}` : `colorbar-${Math.random().toString(36).slice(2)}`;\n    },\n    \n    triangles() {\n      return this.extend !== false;\n    },\n    \n    showStartTriangle() {\n      return this.extend === 'both' || this.extend === 'start' || this.extend;\n    },\n    \n    showEndTriangle() {\n      return this.extend === 'both' || this.extend === 'end' || this.extend;\n    }\n  },\n  \n  \n  \n  methods: {\n    \n    cssLinearGradientFromCmap() {\n      const n = this.nsteps;\n      const colors = Array.from({length: n+1}, (_, i) => {\n        const co = this.cmap(i/n);\n        const [color, _opacity] = Array.isArray(co) ? co : [co,1];\n        return `${color} ${i*100/n}%`;\n      });\n      return `linear-gradient(to right, ${colors.join(', ')})`;\n    },\n    \n    colorbarGradient() {\n      const colorbar = document.querySelector('#' + this.id + '> .colorbar');\n      if (!colorbar) {\n        return;\n      }\n      // remove all the children of the colorbar\n      // while (colorbar.firstChild) {\n      //   colorbar.removeChild(colorbar.firstChild);\n      // }\n      const div = document.createElement('div');\n      // const div = this.$el.querySelector('.colorbar-chunk');\n      div.className = 'colorbar-chunk';\n      div.style.background = this.cssLinearGradientFromCmap();\n      div.style.height = 'var(--height)';\n      div.style.width = '100%';\n      \n      \n      // add the start and end triangles\n      if (this.triangles) {\n        const start = document.createElement('div');\n        start.className = 'colorbar-start';\n        const end = document.createElement('div');\n        end.className = 'colorbar-end';\n        colorbar.appendChild(start);\n        colorbar.appendChild(div);\n        colorbar.appendChild(end);\n        end && this.showEndTriangle;\n        if (start && this.showStartTriangle) {\n          start.style.backgroundColor = this.cmap(0);\n          this.styleLeftTriangle(start as HTMLDivElement);\n        }\n        if (end && this.showEndTriangle) {\n          end.style.backgroundColor = this.cmap(1);\n          this.styleRightTriangle(end as HTMLDivElement);\n        }\n      } else {\n        colorbar.appendChild(div);\n      }\n    },\n    \n    styleColorbarChunk(div: HTMLDivElement) {\n      div.style.background = this.cssLinearGradientFromCmap();\n      div.style.height = 'var(--height)';\n      div.style.flexGrow = '1';\n      div.style.flexShrink = '1';\n      \n    },\n    \n    styleUpTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderBottom = `${height}px solid ${color}`;\n    },\n    \n    styleDownTriangle(div: HTMLDivElement) {\n      const width = div.offsetWidth;\n      let height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      height = Math.min(Math.max(height, 15), 0.86 * width);\n      div.style.backgroundColor = 'transparent';\n      div.style.borderLeft = `${width/2}px solid transparent`;\n      div.style.borderRight = `${width/2}px solid transparent`;\n      div.style.borderTop = `${height}px solid ${color}`;\n      div.style.flexShrink = '0';\n      div.style.flexGrow = '1';\n    },\n    \n    styleLeftTriangle(div: HTMLDivElement) {\n      div.style.width=\"var(--height)\";\n      div.style.height=\"var(--height)\";\n      const height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      div.style.backgroundColor = 'transparent';\n      \n      div.style.borderTop = `${height/2}px solid transparent`;\n      div.style.borderBottom = `${height/2}px solid transparent`;\n      div.style.borderRight = `${height}px solid ${color}`;\n    },\n    \n    styleRightTriangle(div: HTMLDivElement) {\n      div.style.width=\"var(--height)\";\n      div.style.height=\"var(--height)\";\n      const height = div.offsetHeight;\n      const color = div.style.backgroundColor;\n      div.style.backgroundColor = 'transparent';\n      \n      div.style.borderTop = `${height/2}px solid transparent`;\n      div.style.borderBottom = `${height/2}px solid transparent`;\n      div.style.borderLeft = `${height}px solid ${color}`;\n    }\n  },\n  \n  watch: {\n    nsteps() {\n      this.colorbarGradient();\n    },\n    cmap() {\n      this.colorbarGradient();\n    }\n  }\n  \n});\n</script>\n\n<style scoped>\n/*\n* Prefixed by https://autoprefixer.github.io\n* PostCSS: v8.4.14,\n* Autoprefixer: v10.4.7\n* Browsers: last 5 version\n*/\n\n.colorbar-container-horizontal {\n  position: relative;\n  display: block;\n  --height: 1.25em;\n  width: 100%;\n}\n.colorbar {\n  width: 100%;\n  height: var(--height);\n  background: var(--background-color);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-filter: drop-shadow(0 0 0.1rem white);\n          filter: drop-shadow(0 0 0.1rem white);\n}\n\n\n.colorbar-labels {\n  \n  width: calc(100% - 2*var(--height));\n  height: -webkit-max-content;\n  height: -moz-max-content;\n  height: max-content;\n  /* left: 50%; */\n  -webkit-transform-origin: top center;\n      -ms-transform-origin: top center;\n          transform-origin: top center;\n  -webkit-transform: translate(var(--height), 0);\n      -ms-transform: translate(var(--height), 0);\n          transform: translate(var(--height), 0);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n</style>\n","import { render } from \"./ColorBarHorizontal.vue?vue&type=template&id=6b3c42f7&scoped=true&ts=true\"\nimport script from \"./ColorBarHorizontal.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorBarHorizontal.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorBarHorizontal.vue?vue&type=style&index=0&id=6b3c42f7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b3c42f7\"]])\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, mergeProps as _mergeProps, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"info-button-close-icon\" }\nconst _hoisted_2 = { class: \"v-card-info-text ma-3\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: _ctx.dialogVisible,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.dialogVisible) = $event)),\n    \"max-width\": \"500\"\n  }, {\n    activator: _withCtx(({ props: activatorProps }) => [\n      _createVNode(_component_v_tooltip, {\n        text: _ctx.tooltipTextValue,\n        disabled: !_ctx.showTooltip\n      }, {\n        activator: _withCtx(( { props} ) => [\n          _createVNode(_component_v_icon, _mergeProps({...activatorProps, ...props}, {\n            style: {\"margin-left\":\"1em\",\"font-size\":\"1.3em\",\"color\":\"var(--accent-color)\"},\n            elevation: \"1\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.dialogVisible = true)),\n            onKeydown: _ctx.handleKeydown\n          }), {\n            default: _withCtx(() => _cache[3] || (_cache[3] = [\n              _createTextVNode(\" mdi-information-variant-circle-outline \")\n            ])),\n            _: 2\n          }, 1040, [\"onKeydown\"])\n        ]),\n        _: 2\n      }, 1032, [\"text\", \"disabled\"])\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { class: \"gradient-background\" }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_component_v_icon, {\n              class: \"info-button-close-icon__icon\",\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.dialogVisible = false)),\n              onKeydown: _ctx.handleKeydown\n            }, {\n              default: _withCtx(() => _cache[4] || (_cache[4] = [\n                _createTextVNode(\" mdi-close \")\n              ])),\n              _: 1\n            }, 8, [\"onKeydown\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _renderSlot(_ctx.$slots, \"default\", {}, () => [\n              _createTextVNode(_toDisplayString(_ctx.helpText), 1)\n            ])\n          ])\n        ]),\n        _: 3\n      })\n    ]),\n    _: 3\n  }, 8, [\"modelValue\"]))\n}","<template>\n  <v-dialog v-model=\"dialogVisible\" max-width=\"500\">\n    <template v-slot:activator=\"{ props: activatorProps }\">\n      <v-tooltip :text=\"tooltipTextValue\" :disabled=\"!showTooltip\">\n        <template v-slot:activator=\" { props} \">\n        <v-icon \n          v-bind=\"{...activatorProps, ...props}\" \n          style=\"margin-left: 1em;font-size: 1.3em; color: var(--accent-color);\" elevation=\"1\"\n          @click=\"dialogVisible = true\"\n          @keydown=\"handleKeydown\"\n          >\n          mdi-information-variant-circle-outline\n        </v-icon>\n        </template>\n      </v-tooltip>\n    </template>\n    <v-card class=\"gradient-background\">\n      <div class=\"info-button-close-icon\">\n        <v-icon \n          class=\"info-button-close-icon__icon\"\n          @click=\"dialogVisible = false\"\n          @keydown=\"handleKeydown\"\n        >\n          mdi-close\n        </v-icon>\n      </div>\n      <div class=\"v-card-info-text ma-3\">\n        <slot>{{ helpText }}</slot>\n      </div>\n    </v-card>\n  </v-dialog>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'InfoButton',\n  props: {\n    helpText: {\n      type: String,\n      required: false\n    },\n    showTooltip: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    tooltipText: {\n      type: String,\n      required: false,\n      default: undefined\n    }\n  },\n  \n\n  \n  data() {\n    return {\n      dialogVisible: false,\n      tooltipTextValue: this.tooltipText ?? (this.showTooltip ? 'Learn More' : undefined),\n    };\n  },\n\n  methods: {\n    handleKeydown(event: KeyboardEvent) {\n      if (event.key === 'Enter') {\n        this.dialogVisible = !this.dialogVisible;\n      }\n    },\n  },\n});\n</script>\n\n<style>\n.v-card-info-text {\n  font-size: 1em;\n  line-height: 1.5em;\n  padding-block: 1em;\n  padding-inline: 1.5em;\n  \n  p {\n    margin-block: 0.5em;\n  }\n\n}\n\n.v-card-info-text > p {\n  margin-bottom: 1em;\n}\n\n.info-button-close-icon {\n  position: relative;\n  height: 1em;\n}\n\n.info-button-close-icon__icon {\n  /* position:absolute !important;\n  right:0 !important; */\n  float:right;\n  right: 1em;\n  top: 1em;\n\n  cursor:pointer;\n  \n  padding:1em !important;\n  margin:-1em !important;\n}\n\n.info-button-close-icon__icon:hover {\n  background-color: #f0f0f0;\n  color: black;\n  border-radius: 50%;\n  padding: 0.5em;\n  margin: -0.5em;\n  transition: background-color 0.3s;\n}\n\n</style>","import { render } from \"./InfoButton.vue?vue&type=template&id=5c8d795f&ts=true\"\nimport script from \"./InfoButton.vue?vue&type=script&lang=ts\"\nexport * from \"./InfoButton.vue?vue&type=script&lang=ts\"\n\nimport \"./InfoButton.vue?vue&type=style&index=0&id=5c8d795f&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import { renderSlot as _renderSlot, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"cds-snackbar-alert ma-2\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_snackbar = _resolveComponent(\"v-snackbar\")!\n\n  return (!_ctx.hide)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (!_ctx.hideButton)\n          ? _renderSlot(_ctx.$slots, \"activator\", {\n              key: 0,\n              onClick: _ctx.openDialog,\n              id: \"snackbar-activator-slot\"\n            }, () => [\n              _createVNode(_component_v_btn, {\n                onClick: _ctx.openDialog,\n                color: \"#333\",\n                id: \"snackbar-activator\",\n                size: \"small\"\n              }, {\n                prepend: _withCtx(() => [\n                  _createVNode(_component_v_icon, {\n                    color: \"red\",\n                    icon: \"mdi-alert-octagram\"\n                  })\n                ]),\n                default: _withCtx(() => [\n                  _createTextVNode(\" \" + _toDisplayString(_ctx.label), 1)\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ])\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_v_snackbar, _mergeProps({\n          modelValue: _ctx.snackbar,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.snackbar) = $event)),\n          location: \"top center\"\n        }, _ctx.$attrs, {\n          \"close-on-back\": \"\",\n          role: \"alert\",\n          \"aria-live\": \"assertive\",\n          timeout: \"-1\"\n        }), {\n          actions: _withCtx(() => [\n            _createVNode(_component_v_btn, {\n              tabindex: \"0\",\n              color: \"red\",\n              variant: \"text\",\n              onClick: _ctx.closeDialog\n            }, {\n              default: _withCtx(() => _cache[2] || (_cache[2] = [\n                _createTextVNode(\" Close \")\n              ])),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"span\", {\n              ref: \"snackbarMessage\",\n              tabindex: \"0\",\n              onKeydown: _cache[0] || (_cache[0] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.closeDialog && _ctx.closeDialog(...args)), [\"esc\"]))\n            }, [\n              _renderSlot(_ctx.$slots, \"default\", {}, () => [\n                _createTextVNode(_toDisplayString(_ctx.msg), 1)\n              ])\n            ], 544)\n          ]),\n          _: 3\n        }, 16, [\"modelValue\"])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<script lang=\"ts\">\n/**\n * v-snackbar wrapper component. The message can be passed\n * as a prop or as as the default slot. Props are passed\n * through to v-snackbar.\n * \n * Example Usage\n * \n * <SnackbarAlert msg=\"Hello there\" />\n * \n * <SnackbarAlert msg=\"Hello there\">\n *  <template v-slot:activator=\"{ onClick, id }\">\n *   <v-btn :id=\"id\" @click=\"onClick\" color=\"primary\">\n *    Custom Activator\n *   </v-btn>\n *  </template>\n * </SnackbarAlert>\n * \n */\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: \"SnackbarAlert\",\n  \n  emits: ['update:modelValue'],\n\n  props: {\n    msg: {\n      type: String || undefined || null,\n      required: false,\n      default: undefined,\n    },\n    hide: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    label: {\n      type: String,\n      required: false,\n      default: \"Recent changes\"\n    },\n    modelValue: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    hideButton: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      snackbar: false,\n    };\n  },\n  \n  methods: {\n    openDialog() {\n      if (this.snackbar) return;\n      \n      this.snackbar = true;\n      this.$emit('update:modelValue', true);\n      this.$nextTick(() => {\n        (this.$refs.snackbarMessage as HTMLElement).focus();\n      });\n    },\n    closeDialog() {\n      this.snackbar = false;\n      this.$emit('update:modelValue', false);\n      // make sure the focus goes back to the right place\n      this.$nextTick(() => {\n        this.$el.querySelector('#snackbar-activator')?.focus();\n        this.$el.querySelector('#snackbar-activator-slot')?.focus();\n      });\n    },\n  },\n  \n  watch: {\n    modelValue(val: boolean) {\n      if (val) {\n        this.openDialog();\n      } else {\n        this.closeDialog();\n      }\n    }\n  }\n\n\n});\n</script>\n\n<template>\n  <div class=\"cds-snackbar-alert ma-2\" v-if=\"!hide\">\n    \n    <slot v-if=\"!hideButton\" name=\"activator\" :onClick=\"openDialog\" id=\"snackbar-activator-slot\">\n      <v-btn @click=\"openDialog\" color=\"#333\" id=\"snackbar-activator\" size=\"small\">\n        <template v-slot:prepend>\n          <v-icon color=\"red\" icon=\"mdi-alert-octagram\"></v-icon>\n        </template>\n        {{ label }}\n      </v-btn>\n    </slot>\n    \n    <v-snackbar \n      v-model=\"snackbar\" \n      location=\"top center\" \n      v-bind=\"$attrs\"\n      close-on-back\n      role=\"alert\"\n      aria-live=\"assertive\"\n      timeout=\"-1\"\n      >\n      <span ref=\"snackbarMessage\" tabindex=\"0\" @keydown.esc=\"closeDialog\">\n      <slot> {{ msg }} </slot>\n      </span>\n\n\n      <template v-slot:actions>\n        <v-btn tabindex=\"0\" color=\"red\" variant=\"text\" @click=\"closeDialog\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n","import { render } from \"./SnackbarAlert.vue?vue&type=template&id=034a6a3c&ts=true\"\nimport script from \"./SnackbarAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./SnackbarAlert.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, mergeProps as _mergeProps } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_snackbar = _resolveComponent(\"v-snackbar\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_use_clipboard = _resolveComponent(\"use-clipboard\")!\n\n  return (_openBlock(), _createBlock(_component_use_clipboard, { source: _ctx.source }, {\n    default: _withCtx(({ copy }) => [\n      (_ctx.tooltipDisabled || _ctx.alert)\n        ? (_openBlock(), _createBlock(_component_v_snackbar, {\n            key: 0,\n            class: \"share-button-snackbar\",\n            timeout: \"3500\",\n            location: \"top\",\n            activator: \"#share-button\",\n            text: \"Share link copied to clipboard. Paste to share this view!\",\n            color: \"success\",\n            variant: \"flat\",\n            \"min-height\": \"0px\",\n            \"min-width\": \"0px\",\n            transition: \"slide-y-transition\",\n            \"close-on-content-click\": \"\"\n          }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_v_tooltip, {\n        disabled: _ctx.tooltipDisabled,\n        text: \"Share selected view\"\n      }, {\n        activator: _withCtx(({ props }) => [\n          _createVNode(_component_v_btn, _mergeProps({\n            id: \"share-button\",\n            \"aria-label\": \"Get link to share selected view\",\n            class: \"share-button\",\n            icon: \"\",\n            onClick: () => {\n            copy(_ctx.source);\n            _ctx.$emit('share');\n          }\n          ,\n            onKeyup: _withKeys(() => {\n            copy(_ctx.source);\n            _ctx.$emit('share');\n          }, [\"enter\"])\n          }, props, {\n            color: _ctx.buttonColor,\n            elevation: _ctx.elevation,\n            size: _ctx.size,\n            rounded: _ctx.rounded\n          }), {\n            default: _withCtx(() => [\n              _createVNode(_component_v_icon, { color: _ctx.iconColor }, {\n                default: _withCtx(() => _cache[0] || (_cache[0] = [\n                  _createTextVNode(\"mdi-share-variant\")\n                ])),\n                _: 1\n              }, 8, [\"color\"])\n            ]),\n            _: 2\n          }, 1040, [\"onClick\", \"onKeyup\", \"color\", \"elevation\", \"size\", \"rounded\"])\n        ]),\n        _: 2\n      }, 1032, [\"disabled\"])\n    ]),\n    _: 1\n  }, 8, [\"source\"]))\n}","\n<template>\n  <use-clipboard v-slot=\"{ copy }\" :source=\"source\">\n    <v-snackbar \n      v-if=\"tooltipDisabled || alert\"\n      class=\"share-button-snackbar\"   \n      timeout=\"3500\" \n      location=\"top\" \n      activator=\"#share-button\"\n      text=\"Share link copied to clipboard. Paste to share this view!\"\n      color=\"success\"\n      variant=\"flat\"\n      min-height=\"0px\"\n      min-width=\"0px\"\n      transition=\"slide-y-transition\"\n      close-on-content-click\n      >\n    </v-snackbar>\n    <v-tooltip :disabled=\"tooltipDisabled\" text=\"Share selected view\">\n      <template v-slot:activator=\"{ props }\">\n        <v-btn\n          id=\"share-button\"\n          aria-label=\"Get link to share selected view\"\n          class=\"share-button\"\n          icon\n          @click=\"() => {\n            copy(source);\n            $emit('share');\n          }\n          \"\n          @keyup.enter=\"() => {\n            copy(source);\n            $emit('share');\n          }\"\n          v-bind=\"props\"\n          :color=\"buttonColor\"\n          :elevation=\"elevation\"\n          :size=\"size\"\n          :rounded=\"rounded\"\n        > \n          <v-icon :color=\"iconColor\">mdi-share-variant</v-icon>\n        </v-btn>\n      </template>\n    </v-tooltip>\n  </use-clipboard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    source: {\n      type: String,\n      required: true,\n    },\n    buttonColor: {\n      type: String,\n      default: \"#ffffff66\",\n    },\n    iconColor: {\n      type: String,\n      default: \"#333\",\n    },\n    elevation: {\n      type: [String, Number],\n      default: \"0\",\n    },\n    size: {\n      type: String,\n      default: \"small\",\n    },\n    rounded: {\n      type: [String, Number],\n      default: \"1\",\n    },\n    tooltipDisabled: {\n      type: Boolean,\n      default: false,\n    },\n    alert: {\n      type: Boolean,\n      default: false,\n    },\n    \n  },\n  \n  data() {\n    return {\n      snackbar: false,\n    };\n  },\n\n  emits: [\"share\"],\n});\n</script>\n\n<style>\n.share-button {\n  z-index: 1000;\n  padding-inline: 5px;\n  border-radius: 8px !important;\n  border: thin solid var(--accent-color-2) !important;\n}\n\n.share-button-snackbar .v-snackbar__wrapper > .v-snackbar__content {\n  padding: 0.75em 1em;\n}\n\n</style>\n","import { render } from \"./ShareButton.vue?vue&type=template&id=1a0de751&ts=true\"\nimport script from \"./ShareButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ShareButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ShareButton.vue?vue&type=style&index=0&id=1a0de751&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, renderSlot as _renderSlot, resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    class: _normalizeClass(`cds-dialog ${_ctx.shortTitleComputed.toLowerCase().replace(/ /g, '-')}-cds-dialog`),\n    modelValue: _ctx.showDialog,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.showDialog) = $event))\n  }, {\n    activator: _withCtx((props) => [\n      _renderSlot(_ctx.$slots, \"activator\", _normalizeProps(_guardReactiveProps(props)))\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { class: \"cds-dialog-card\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_font_awesome_icon, {\n            class: \"cds-dialog-close-icon cds-touch-pad\",\n            icon: \"square-xmark\",\n            size: \"xl\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.showDialog = false)),\n            onKeyup: _cache[1] || (_cache[1] = _withKeys(($event: any) => (_ctx.showDialog = false), [\"enter\"])),\n            color: _ctx.color,\n            tabindex: \"0\"\n          }, null, 8, [\"color\"]),\n          _createVNode(_component_v_card_title, { tabindex: \"0\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"h3\", null, _toDisplayString(_ctx.title), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [\n              _renderSlot(_ctx.$slots, \"default\", {}, () => [\n                _cache[3] || (_cache[3] = _createTextVNode(\" Add content to the default slot \"))\n              ])\n            ]),\n            _: 3\n          })\n        ]),\n        _: 3\n      })\n    ]),\n    _: 3\n  }, 8, [\"class\", \"modelValue\"]))\n}","<template>\n  <v-dialog \n    :class=\"`cds-dialog ${shortTitleComputed.toLowerCase().replace(/ /g, '-')}-cds-dialog`\" \n    v-model=\"showDialog\" \n    >\n    <!-- add the activator slot, but only use it if the appropriate value is given for activator -->\n     <template v-slot:activator=\"props\">\n      <slot name=\"activator\" v-bind=\"props\"></slot>\n    </template>\n     \n    <v-card class=\"cds-dialog-card\">\n      <font-awesome-icon \n        class=\"cds-dialog-close-icon cds-touch-pad\"\n        icon=\"square-xmark\" \n        size=\"xl\" \n        @click=\"showDialog = false\" \n        @keyup.enter=\"showDialog = false\"\n        :color=\"color\" \n        tabindex=\"0\"\n        ></font-awesome-icon>\n        \n      <v-card-title tabindex=\"0\">\n        <h3> \n          {{title}} \n        </h3>\n      </v-card-title>\n      \n      <v-card-text>\n        \n        <slot>\n          Add content to the default slot\n        </slot>\n        \n      </v-card-text>\n    </v-card>\n  </v-dialog>\n\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: \"CDSDialog\",\n  // any undeclared props are passed through to the v-dialog\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    modelValue: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    color: {\n      type: String,\n      required: false,\n      default: \"red\",\n    },\n    shortTitle: {\n      type: String,\n      required: false,\n      default: \"\",\n    },\n  },\n  \n  data() {\n    return {\n      showDialog: this.modelValue,\n    };\n  },\n  \n  computed: {\n    shortTitleComputed() {\n      return this.shortTitle || this.title;\n    }\n  },\n  \n  watch: {\n    modelValue: {\n      immediate: true,\n      handler(val) {\n        this.showDialog = val;\n      }\n    },\n    showDialog: {\n      immediate: true,\n      handler(val) {\n        this.$emit('update:modelValue', val);\n      }\n    }\n  },\n  \n});\n</script>\n\n<style>\n\n.cds-dialog {\n  display: flex;\n  width: calc(100% - 1rem);\n}\n.cds-dialog-card {\n  align-self: center;\n  max-width: 80%;\n}\n\n.cds-dialog-close-icon {\n  position: absolute;\n  right: 16px;\n  cursor: pointer;\n}\n\n/* pad the touch area by 0.5em */\n.cds-dialog-touch-pad {\n  padding: 0.5em;\n  margin: -0.5em;\n}\n\n\n.v-dialog.cds-dialog > .v-overlay__content > .v-card {\n  padding: 1rem;\n}\n\n.v-dialog.cds-dialog > .v-overlay__content {\n  align-self: center;\n  margin: unset;\n}\n\n.cds-dialog .v-card-text {\n  height: 40vh;\n}\n</style>","import { render } from \"./CDSDialog.vue?vue&type=template&id=f12c739a&ts=true\"\nimport script from \"./CDSDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./CDSDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./CDSDialog.vue?vue&type=style&index=0&id=f12c739a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"cds-marquee-alert elevation-3 sucess\"\n}\nconst _hoisted_2 = { class: \"cds-marquee-alert__content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_ctx.isVisible)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_v_avatar, {\n          variant: \"flat\",\n          color: \"info\",\n          icon: \"mdi-exclamation-thick\"\n        }),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _renderSlot(_ctx.$slots, \"default\", {}, () => [\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.message), 1)\n          ])\n        ]),\n        _createVNode(_component_v_btn, {\n          onClick: _ctx.close,\n          class: \"cds-marquee-alert__close-button\",\n          \"aria-label\": \"Close alert\",\n          variant: \"tonal\"\n        }, {\n          default: _withCtx(() => _cache[0] || (_cache[0] = [\n            _createTextVNode(\" Close \")\n          ])),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<style>\n.cds-marquee-alert\n{\n  position: sticky;\n  top: 0;\n  left: 0;\n  /* width: 100vw; */\n  padding-inline: 1rem;\n  padding-block: 5px;\n  margin-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  background-color: rgb(var(--v-theme-success));\n  color: white;\n  z-index: 9999;\n}\n\n.cds-marquee-alert__content\n{\n  line-height: 1.5;\n  flex-grow: 1;\n}\n\n.cds-marquee-alert__close-button\n{\n  padding: 5px;\n}\n</style>\n\n<template>\n  <div v-if=\"isVisible\" class=\"cds-marquee-alert elevation-3 sucess\">\n    <v-avatar variant=\"flat\" color=\"info\" icon=\"mdi-exclamation-thick\" />\n    <div class=\"cds-marquee-alert__content\">\n      <slot>\n        <span>{{ message }}</span>\n      </slot>\n    </div>\n    <v-btn @click=\"close\" class=\"cds-marquee-alert__close-button\" aria-label=\"Close alert\" variant=\"tonal\">\n      Close\n    </v-btn>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\n\nexport default defineComponent({\n  name: 'MarqueeAlert',\n\n  props: {\n    message: {\n      type: String,\n      default: 'hello'\n    },\n    modelValue: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    timeout: {\n      type: Number,\n      default: 5000\n    }\n  },\n  \n  mounted() {\n    setTimeout(() => {\n      this.isVisible = false;\n    }, this.timeout);\n  },\n\n  data() {\n    return {\n      isVisible: true,\n    };\n  },\n\n  methods: {\n    close() {\n      this.isVisible = false;\n    }\n  },\n\n  watch: {\n    isVisible(value) {\n      this.$emit('update:modelValue', value);\n    },\n\n    modelValue(value) {\n      this.isVisible = value;\n    }\n  }\n\n\n});\n</script>\n","import { render } from \"./MarqeeAlert.vue?vue&type=template&id=185155c3&ts=true\"\nimport script from \"./MarqeeAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./MarqeeAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./MarqeeAlert.vue?vue&type=style&index=0&id=185155c3&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport Vue, { createApp } from \"vue\";\n\nimport { FundingAcknowledgement, IconButton, CreditLogos } from \"@cosmicds/vue-toolkit\";\nimport LocationSearch from \"./components/LocationSearch.vue\";\nimport TempoLite from \"./TempoLite.vue\";\nimport Colorbar from './components/ColorBar.vue';\nimport ColorBarHorizontal from \"./components/ColorBarHorizontal.vue\";\nimport InfoButton from \"./components/InfoButton.vue\";\nimport vuetify from \"../plugins/vuetify\";\nimport SnackbarAlert from \"./components/SnackbarAlert.vue\";\nimport ShareButton from \"./components/ShareButton.vue\";\nimport CDSDialog from \"./components/CDSDialog.vue\";\nimport MarqeeAlert from \"./components/MarqeeAlert.vue\";\n\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faPlay,\n  faPause,\n  faTimes,\n  faVideo,\n  faMagnifyingGlass,\n  faCircleXmark,\n  faSquareXmark,\n  faHome,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { UseClipboard } from \"@vueuse/components\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faPlay);\nlibrary.add(faPause);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faMagnifyingGlass);\nlibrary.add(faCircleXmark);\nlibrary.add(faSquareXmark);\nlibrary.add(faHome);\n\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(TempoLite, {})\n\n  // Plugins\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('credit-logos', CreditLogos)\n  .component('colorbar', Colorbar)\n  .component('location-search', LocationSearch)\n  .component('info-button', InfoButton)\n  .component('colorbar-horizontal', ColorBarHorizontal)\n  .component('date-picker', VueDatePicker)\n  .component('use-clipboard', UseClipboard as Vue.Component)\n  .component('snackbar-alert', SnackbarAlert)\n  .component('share-button', ShareButton)\n  .component('cds-dialog', CDSDialog)\n  .component('marquee-alert', MarqeeAlert)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_tempo_lite\"] = self[\"webpackChunk_cosmicds_tempo_lite\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(6928)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","class","style","cssStyles","locationJustUpdated","small","searchText","$event","setLocationFromSearchFeature","items","searchResults","features","textForMapboxFeature","bgColor","label","density","solo","color","accentColor","performForwardGeocodingSearch","searchErrorMessage","focusCombobox","onFocusChange","ref","menu","menuOpen","append","icon","size","searchOpen","buttonSize","toggleSearch","closeSearch","stayOpen","RELEVANT_FEATURE_TYPES","NA_COUNTRIES","NA_ABBREVIATIONS","feature","pieces","text","push","context","forEach","item","itemType","id","split","includes","shortCode","short_code","some","abbr","startsWith","substring","itemText","join","geocodingInfoForSearch","options","Promise","accessToken","search","URLSearchParams","set","types","countries","limit","toString","url","fetch","then","response","json","name","emits","props","searchProvider","type","Function","default","modelValue","Boolean","required","String","theme","persistSelected","data","this","locationUpdatedText","comboFocused","computed","methods","console","log","length","info","$emit","focused","blurCombobox","input","$refs","searchInput","blur","focus","undefined","place_name","slice","timedJustUpdatedLocation","clearSearchData","setTimeout","watch","value","__exports__","lerp","a","b","t","spline","values","n","i","Math","floor","u","clamp","x","min","max","cbarNO2","cbar_min","cbar_max","cur_val","normalizedVal","r","g","round","preloadedImages","loadImage","src","resolve","reject","img","document","createElement","rel","as","onload","onerror","onabort","href","body","appendChild","_preloadImages","images","remove","promises","map","date","html","highlight","Date","useLeafletMap","onReady","basemap","labelmap","addCoastlines","weight","opacity","addTo","setupMap","labelPane","createPane","zIndex","pointerEvents","minZoom","maxZoom","attribution","pane","createMap","zoomControl","setView","loc","zoom","whenReady","latlng","resetView","useImageOverlay","imageUrl","imageBounds","overlay","interactive","setUrl","setOpacity","bounds","setBounds","BOUNDS_COLLECTION","novDec","west","south","east","north","march","useBounds","customSelector","defaultSelector","getUTCFullYear","getUTCMonth","selector","currentBounds","boundsArray","boundsCollection","useLeafletBounds","toLeafletBounds","boundingBox","leafletBounds","ONEDAYMS","isBad","useUniqueTimeSelection","timestamps","timeIndex","singleDateSelected","minIndex","maxIndex","getOneDaysTimestamps","mod","filter","ts","getTime","setNearestDate","indexOf","warn","timestamp","val","offset","uniqueDays","easternDates","days","getUTCDate","unique","Array","from","Set","uniqueDaysIndex","e","getUniqueDayIndex","findIndex","day","moveBackwardOneDay","currentIndex","moveForwardOneDay","nextIndex","nearestDate","time","find","nearestDateIndex","index","interestingEvents","endDate","dateString","highlighted","hasFeature","locations","description","fetchManifest","now","catch","fetchLaFireManifest","getTimestamps","manifest","earlyRelease","early_release","released","clouds","getExtendedRangeTimestamps","_hoisted_1","key","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","tabindex","target","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","showExtendedRangeFeatures","OPT_OUT_KEY","UUID_KEY","homeLat","homeLon","homeZoom","__name","setup","__props","display","calendar","urlParams","window","location","showSplashScreen","get","toLowerCase","extendedRange","hash","hideIntro","WINDOW_DONTSHOWINTRO","localStorage","getItem","touchscreen","documentElement","navigator","msPointerEnabled","STORY_VISIT_URL","API_BASE_URL","pingServer","venue","method","headers","JSON","stringify","ok","error","status","statusText","replace","venues","setItem","clearUrl","newUrl","origin","pathname","history","replaceState","introSlide","inIntro","dontShowIntro","showNotice","sheet","accentColor2","hasOptOutBeenOpened","introductionOpen","userGuideOpen","whatsNewOpenedCount","whatsNewTimestamp","whatsNewOpenTimeMs","introductionOpenedCount","introductionTimestamp","introductionOpenTimeMs","userGuideOpenedCount","userGuideTimestamp","userGuideOpenTimeMs","aboutDataOpenedCount","aboutDataTimestamp","aboutDataOpenTimeMs","creditsOpenedCount","creditsTimestamp","creditsOpenTimeMs","shareButtonClickedCount","playButtonClickedCount","timeSliderUsedCount","opacitySliderUsedCount","fieldOfRegardToggled","cloudMaskToggled","hiResDataToggled","userSelectedCalendarDates","userSelectedTimezones","userSelectedLocations","userSelectedNotableEvents","STORY_DATA_URL","storedOptOut","maybeUUID","optOut","showPrivacyDialog","responseOptOut","existingUser","uuid","v4","selectSheet","blurActiveElement","showTextSheet","_value","cssVars","smallSize","smAndDown","mobile","zpad","width","character","padStart","erdTimestamps","newTimestamps","cloudTimestamps","fosterTimestamps","extendedRangeTimestamps","showExtendedRange","useHighRes","timestampsLoaded","fosterTimestampsSet","erdTimestampsSet","newTimestampsSet","cloudTimestampsSet","extendedRangeTimestampsSet","timestampsSet","updateTimestamps","all","concat","sort","activateExtremeEvents","initLat","parseFloat","initLon","initZoom","initTime","initState","homeState","radio","sublocationRadio","fieldOfRegardLayer","fillColor","selectedTimezone","playing","playInterval","showControls","showFieldOfRegard","showCredits","showUserGuide","showAboutData","loadedImagesProgress","showLocationMarker","locationMarker","currentUrl","showChanges","showLADialog","imageName","getTempoFilename","customImageUrl","getTempoDataUrl","showClouds","cloudUrl","has","getCloudFilename","preload","cloudOverlay","imageOverlay","cloudDataAvailable","whichDataSet","highresAvailable","extendedRangeAvailable","showingExtendedRange","onMapReady","on","updateURL","addEventListener","updateHash","zoomHome","homeCoordinates","originalZH","_zoomHome","bind","_e","updateFieldOfRegard","createUserEntry","visibilityState","updateUserData","resetData","off","datesOfInterest","event","dateStrings","locationsOfInterest","locationsOfInterestText","dateIsDST","standardOffset","currentOffset","timezoneOptions","tz","thumbLabel","dateObj","hours","getUTCHours","amPm","hourValue","getUTCMinutes","setMarker","Default","prototype","iconRetinaUrl","iconUrl","shadowUrl","setLatLng","center","getCenter","stateObj","lat","toFixed","lon","lng","getZoom","URL","searchParams","cmapNO2","rgb","geocodingInfoForSearchLimited","_err","setLocationFromSearch","coordinates","play","setInterval","pause","clearInterval","filename","clearLayers","addData","imagePreload","times","cloudImages","loaded","promise","err","goToLocationOfInterst","subindex","loi","goToLA","activateLAViewer","laWildfireIndex","onTimeSliderEnd","onOpacitySliderEnd","content","exists","user_uuid","creditsTime","aboutDataTime","whatsNewTime","introductionTime","userGuideTime","delta_whats_new_opened_count","delta_whats_new_open_time_ms","delta_introduction_opened_count","delta_introduction_open_time_ms","delta_user_guide_opened_count","delta_user_guide_open_time_ms","delta_about_data_opened_count","delta_about_data_open_time_ms","delta_credits_opened_count","delta_credits_open_time_ms","delta_share_button_clicked_count","user_selected_calendar_dates","user_selected_timezones","user_selected_locations","user_selected_notable_events","delta_play_clicked_count","delta_time_slider_used_count","delta_opacity_slider_used_count","field_of_regard_toggled","cloud_mask_toggled","high_res_data_toggled","keepalive","_val","show","btn","querySelector","setAttribute","removeAttribute","_url","toBBoxString","removeLayer","_show","d","open","radioSubloc","subRadio","eventText","subEventText","timezone","_component_credit_logos","_component_marquee_alert","_component_cds_dialog","_component_share_button","_component_colorbar_horizontal","_component_info_button","_component_location_search","_component_colorbar","_component_icon_button","_component_date_picker","_component_funding_acknowledgement","additional","onClick","onKeyup","variant","rounded","_","alt","elevation","timeout","message","title","changes","change","innerHTML","activator","disabled","source","buttonColor","iconColor","alert","backgroundColor","nsteps","cmap","extend","contained","for","onEnd","onSetLocation","onError","step","onActivate","ref_key","onInternalModelChange","closeMenu","clearable","transitions","format","toDateString","dark","height","row","scrim","startValue","endValue","Number","mounted","colorbarGradient","random","triangles","showStartTriangle","showEndTriangle","cssLinearGradientFromCmap","colors","co","isArray","colorbar","firstChild","removeChild","div","className","background","start","end","styleDownTriangle","styleUpTriangle","offsetWidth","offsetHeight","borderLeft","borderRight","borderBottom","borderTop","$el","styleLeftTriangle","styleRightTriangle","styleColorbarChunk","flexGrow","flexShrink","dialogVisible","activatorProps","tooltipTextValue","showTooltip","handleKeydown","helpText","tooltipText","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","defaultTheme","hide","hideButton","openDialog","prepend","snackbar","$attrs","role","actions","closeDialog","msg","$nextTick","snackbarMessage","_component_use_clipboard","copy","tooltipDisabled","transition","shortTitleComputed","showDialog","shortTitle","immediate","handler","isVisible","close","add","update","el","binding","visibility","TempoLite","use","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","IconButton","FundingAcknowledgement","CreditLogos","LocationSearch","InfoButton","ColorBarHorizontal","SnackbarAlert","ShareButton","CDSDialog","MarqeeAlert","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","obj","prop","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}